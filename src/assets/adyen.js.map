{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]//home/vagrant/workspace/node_modules/classnames/index.js","webpack://[name]/./src/components/Card/components/CardInput/CardInput.module.scss","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/global.js","webpack://[name]/./src/components/Dropin/components/DropinComponent.module.scss","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/fails.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/descriptors.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/has.js","webpack://[name]/./src/components/internal/FormFields/Select/Select.module.scss","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/export.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/is-object.js","webpack://[name]/./src/components/Ach/components/AchInput/AchInput.module.scss","webpack://[name]/./src/components/internal/LoadingWrapper/LoadingWrapper.module.scss","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/create-non-enumerable-property.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-define-property.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/an-object.js","webpack://[name]/./src/components/ApplePay/components/ApplePayButton.module.scss","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/to-indexed-object.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/indexed-object.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/set-global.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/hidden-keys.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/path.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/enum-bug-keys.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-keys.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/to-object.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/add-to-unscopables.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/array-method-uses-to-length.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/entry-unbind.js","webpack://[name]/(webpack)/buildin/global.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-property-is-enumerable.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/create-property-descriptor.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/classof-raw.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/require-object-coercible.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/to-primitive.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/ie8-dom-define.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/document-create-element.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/inspect-source.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/shared-store.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/shared-key.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/shared.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/uid.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/get-built-in.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-keys-internal.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/array-includes.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/to-length.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/to-integer.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/well-known-symbol.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/native-symbol.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/function-bind-context.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/array-iteration.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/es/object/assign.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/modules/es.object.assign.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/redefine.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/internal-state.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/native-weak-map.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/is-pure.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/copy-constructor-properties.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/own-keys.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-get-own-property-names.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/to-absolute-index.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/is-forced.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-assign.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/es/object/keys.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/modules/es.object.keys.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/es/array/includes.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/modules/es.array.includes.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/use-symbol-as-uid.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-create.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/object-define-properties.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/html.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/a-function.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/es/array/find.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/modules/es.array.find.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/array-species-create.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/internals/is-array.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/es/array/find-index.js","webpack://[name]//home/vagrant/workspace/node_modules/core-js/modules/es.array.find-index.js","webpack://[name]//home/vagrant/workspace/node_modules/promise/lib/es6-extensions.js","webpack://[name]//home/vagrant/workspace/node_modules/promise/lib/core.js","webpack://[name]//home/vagrant/workspace/node_modules/asap/browser-raw.js","webpack://[name]//home/vagrant/workspace/node_modules/whatwg-fetch/fetch.js","webpack://[name]/./src/polyfills.ts","webpack://[name]/./node_modules/tslib/tslib.es6.js","webpack://[name]/./src/language/config.ts","webpack://[name]/./src/language/locales/index.ts","webpack://[name]/./src/language/utils.ts","webpack://[name]//home/vagrant/workspace/node_modules/preact/dist/preact.module.js","webpack://[name]/./src/utils/constants/currency-decimals.ts","webpack://[name]/./src/utils/amount-util.ts","webpack://[name]/./src/language/Language.ts","webpack://[name]/./src/utils/getProp.ts","webpack://[name]//home/vagrant/workspace/node_modules/preact/hooks/dist/hooks.module.js","webpack://[name]/./src/components/EventEmitter.ts","webpack://[name]/./src/components/BaseElement.ts","webpack://[name]/./src/core/config.ts","webpack://[name]/./src/utils/get-image.ts","webpack://[name]/./src/components/internal/Spinner/Spinner.tsx","webpack://[name]/./src/core/Context/CoreContext.ts","webpack://[name]/./src/core/Context/useCoreContext.ts","webpack://[name]/./src/components/internal/Button/Button.tsx","webpack://[name]/./src/components/internal/PayButton/PayButton.tsx","webpack://[name]/./src/components/UIElement.tsx","webpack://[name]/./src/components/internal/IFrame/Iframe.tsx","webpack://[name]/./src/utils/promiseTimeout.ts","webpack://[name]/./src/core/RiskModule/constants.ts","webpack://[name]/./src/utils/get-process-message-handler.ts","webpack://[name]/./src/utils/getOrigin.ts","webpack://[name]/./src/core/RiskModule/components/DeviceFingerprint/GetDeviceFingerprint.tsx","webpack://[name]/./src/core/RiskModule/components/DeviceFingerprint/utils.ts","webpack://[name]/./src/core/RiskModule/components/DeviceFingerprint/DeviceFingerprint.tsx","webpack://[name]/./src/utils/base64.ts","webpack://[name]/./src/core/RiskModule/RiskModule.tsx","webpack://[name]/./src/components/internal/FormFields/Fieldset/Fieldset.tsx","webpack://[name]/./src/components/internal/Icon/Icon.tsx","webpack://[name]/./src/components/internal/FormFields/Field/Field.tsx","webpack://[name]/./src/components/internal/CompanyDetails/ReadOnlyCompanyDetails.tsx","webpack://[name]/./src/components/internal/FormFields/InputBase.tsx","webpack://[name]/./src/components/internal/FormFields/utils.ts","webpack://[name]/./src/components/internal/FormFields/InputText.tsx","webpack://[name]/./src/components/internal/FormFields/InputDate/utils.ts","webpack://[name]/./src/components/internal/FormFields/InputDate/InputDate.tsx","webpack://[name]/./src/components/internal/FormFields/InputTelephone.tsx","webpack://[name]/./src/components/internal/FormFields/InputEmail.tsx","webpack://[name]/./src/components/internal/FormFields/RadioGroup/RadioGroup.tsx","webpack://[name]/./src/components/internal/FormFields/Checkbox/Checkbox.tsx","webpack://[name]/./src/components/internal/FormFields/Select/Select.tsx","webpack://[name]/./src/components/internal/FormFields/index.tsx","webpack://[name]/./src/utils/Validator/defaultRules.ts","webpack://[name]/./src/utils/Validator/Validator.ts","webpack://[name]/./src/components/internal/CompanyDetails/CompanyDetails.tsx","webpack://[name]/./src/components/internal/CompanyDetails/validate.ts","webpack://[name]/./src/components/internal/PersonalDetails/ReadOnlyPersonalDetails.tsx","webpack://[name]/./src/utils/regex.ts","webpack://[name]/./src/components/internal/PersonalDetails/validate.ts","webpack://[name]/./src/components/internal/PersonalDetails/PersonalDetails.tsx","webpack://[name]/./src/components/internal/Address/components/ReadOnlyAddress.tsx","webpack://[name]/./src/utils/fetch-json-data.ts","webpack://[name]/./src/components/internal/Address/constants.ts","webpack://[name]/./src/components/internal/Address/components/StateField.tsx","webpack://[name]/./src/components/internal/Address/components/CountryField.tsx","webpack://[name]/./src/components/internal/Address/validate.ts","webpack://[name]/./src/components/internal/Address/Address.tsx","webpack://[name]/./src/components/internal/Address/utils.ts","webpack://[name]/./src/components/internal/FormFields/ConsentCheckbox/ConsentCheckbox.tsx","webpack://[name]/./src/components/internal/OpenInvoice/utils.ts","webpack://[name]/./src/components/internal/OpenInvoice/OpenInvoice.tsx","webpack://[name]/./src/core/Context/CoreProvider.tsx","webpack://[name]/./src/components/helpers/OpenInvoiceContainer/OpenInvoiceContainer.tsx","webpack://[name]/./src/components/AfterPay/components/ConsentCheckboxLabel/ConsentCheckboxLabel.tsx","webpack://[name]/./src/components/AfterPay/AfterPay.tsx","webpack://[name]/./src/components/AfterPay/utils.ts","webpack://[name]/./src/components/AfterPay/config.ts","webpack://[name]/./src/components/AfterPay/AfterPayB2B.tsx","webpack://[name]/./src/utils/browserInfo.ts","webpack://[name]/./src/components/AmazonPay/config.ts","webpack://[name]/./src/components/AmazonPay/utils.ts","webpack://[name]/./src/components/AmazonPay/components/AmazonPayButton.tsx","webpack://[name]/./src/components/AmazonPay/components/ChangePaymentDetailsButton.tsx","webpack://[name]/./src/components/AmazonPay/components/OrderButton.tsx","webpack://[name]/./src/components/AmazonPay/components/SignOutButton.tsx","webpack://[name]/./src/components/AmazonPay/components/AmazonPayComponent.tsx","webpack://[name]/./src/components/AmazonPay/defaultProps.ts","webpack://[name]/./src/components/AmazonPay/AmazonPay.tsx","webpack://[name]/./src/components/ApplePay/components/ApplePayButton.tsx","webpack://[name]/./src/components/ApplePay/ApplePayService.ts","webpack://[name]/./src/components/ApplePay/payment-request.ts","webpack://[name]/./src/components/ApplePay/defaultProps.ts","webpack://[name]/./src/components/ApplePay/ApplePay.tsx","webpack://[name]/./src/components/ApplePay/utils.ts","webpack://[name]/./src/components/internal/IssuerList/IssuerList.tsx","webpack://[name]/./src/utils/get-issuer-image.ts","webpack://[name]/./src/components/helpers/IssuerListContainer.tsx","webpack://[name]/./src/components/BillDesk/BillDeskOnline.ts","webpack://[name]/./src/components/BillDesk/BillDeskWallet.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/utilities/cardType.ts","webpack://[name]/./src/components/Card/components/CardInput/utils.ts","webpack://[name]/./src/components/Card/components/CardInput/components/BrandIcon.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/DualBrandingIcon/DualBrandingIcon.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/CardNumber.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/CVCHint.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/CVC.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/ExpirationDate.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/CardFields.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/CardHolderName.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/Installments/Installments.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/KCPAuthentication.tsx","webpack://[name]/./src/components/internal/LoadingWrapper/LoadingWrapper.tsx","webpack://[name]/./src/components/Card/components/CardInput/components/StoredCardFields.tsx","webpack://[name]/./src/components/internal/SecuredFields/lib/configuration/constants.ts","webpack://[name]/./src/core/Errors/constants.ts","webpack://[name]/./src/components/internal/SecuredFields/utils.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/utilities/commonUtils.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/getCardGroupTypes.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/utilities/logger.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/configuration/handleConfig.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/configuration/configureCallbacks.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/iframes/postMessageToIframe.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/processBrand.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/callbackUtils.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/utilities/dom.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/processErrors.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/handleValidation.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/ui/encryptedElements.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/handleEncryption.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/iframes/postMessageValidation.ts","webpack://[name]/./src/core/Errors/utils.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/SecuredField.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/init/processAriaConfig.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/init/processPlaceholders.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/utilities/createIframe.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/AbstractSecuredField.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/createSecuredFields.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/iframes/setFocusOnFrame.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/iframes/postMessageToAllIframes.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/destroySecuredFields.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/processAutoComplete.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/iframes/handleFocus.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/iframes/handleIframeConfigFeedback.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/isConfigured.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/validateForm.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/handleBinValue.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/handleBrandFromBinLookup.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/utilities/userAgent.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/registerAdditionalField.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/ui/domUtils.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/tabbing/handleTab.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/tabbing/tabScenarioACH.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/tabbing/tabScenarioGiftCard.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/tabbing/tabScenarioKCP.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/utils/tabbing/tabScenarioCreditCard.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/CSF.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/AbstractCSF.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/index.ts","webpack://[name]/./src/components/internal/SecuredFields/lib/core/initCSF.ts","webpack://[name]/./src/components/internal/SecuredFields/SecuredFieldsProviderHandlers.ts","webpack://[name]/./src/components/internal/SecuredFields/defaultProps.ts","webpack://[name]/./src/components/internal/SecuredFields/SecuredFieldsProvider.ts","webpack://[name]/./src/components/internal/StoreDetails/StoreDetails.tsx","webpack://[name]/./src/components/Card/components/CardInput/defaultProps.ts","webpack://[name]/./src/components/Card/components/CardInput/defaultStyles.ts","webpack://[name]/./src/components/Card/components/CardInput/validate.ts","webpack://[name]/./src/components/Card/components/CardInput/handlers.ts","webpack://[name]/./src/components/Card/components/CardInput/processBinLookup.ts","webpack://[name]/./src/components/Card/components/CardInput/CardInput.tsx","webpack://[name]/./src/components/Card/triggerBinLookUp.ts","webpack://[name]/./src/components/Card/Card.tsx","webpack://[name]/./src/components/Card/Bancontact.ts","webpack://[name]/./src/components/internal/Img/Img.tsx","webpack://[name]/./src/components/Donation/components/CampaignContent.tsx","webpack://[name]/./src/components/Donation/components/CampaignContainer.tsx","webpack://[name]/./src/components/internal/ButtonGroup/ButtonGroup.tsx","webpack://[name]/./src/components/Donation/components/DonationComponent.tsx","webpack://[name]/./src/components/Donation/Donation.tsx","webpack://[name]/./src/components/Redirect/components/RedirectShopper/RedirectShopper.tsx","webpack://[name]/./src/components/internal/RedirectButton/RedirectButton.tsx","webpack://[name]/./src/components/Redirect/Redirect.tsx","webpack://[name]/./src/components/Giropay/Giropay.tsx","webpack://[name]/./src/components/GooglePay/config.ts","webpack://[name]/./src/components/GooglePay/requests.ts","webpack://[name]/./src/utils/Script.ts","webpack://[name]/./src/components/GooglePay/GooglePayService.ts","webpack://[name]/./src/components/GooglePay/utils.ts","webpack://[name]/./src/components/GooglePay/components/GooglePayButton.tsx","webpack://[name]/./src/components/GooglePay/defaultProps.ts","webpack://[name]/./src/components/GooglePay/GooglePay.tsx","webpack://[name]/./src/components/Entercash/index.ts","webpack://[name]/./src/components/Econtext/validate.ts","webpack://[name]/./src/components/Econtext/components/EcontextInput/EcontextInput.tsx","webpack://[name]/./src/utils/clipboard.ts","webpack://[name]/./src/components/internal/Voucher/Voucher.tsx","webpack://[name]/./src/components/Econtext/components/EcontextVoucherResult/EcontextVoucherResult.tsx","webpack://[name]/./src/components/Econtext/Econtext.tsx","webpack://[name]/./src/components/FacilyPay/FacilyPay3x.ts","webpack://[name]/./src/components/FacilyPay/FacilyPay4x.ts","webpack://[name]/./src/components/FacilyPay/FacilyPay6x.ts","webpack://[name]/./src/components/FacilyPay/FacilyPay10x.ts","webpack://[name]/./src/components/FacilyPay/FacilyPay12x.ts","webpack://[name]/./src/components/Ideal/index.ts","webpack://[name]/./src/components/PayPal/components/PaypalButtons.tsx","webpack://[name]/./src/components/PayPal/config.ts","webpack://[name]/./src/components/PayPal/utils.ts","webpack://[name]/./src/components/PayPal/components/PaypalComponent.tsx","webpack://[name]/./src/components/PayPal/defaultProps.ts","webpack://[name]/./src/components/PayPal/Paypal.tsx","webpack://[name]/./src/components/internal/PhoneInput/validate.ts","webpack://[name]/./src/components/internal/PhoneInput/PhoneInput.tsx","webpack://[name]/./src/components/QiwiWallet/utils.ts","webpack://[name]/./src/components/QiwiWallet/countries.ts","webpack://[name]/./src/components/QiwiWallet/QiwiWallet.tsx","webpack://[name]/./src/components/internal/SecuredFields/SecuredFields.tsx","webpack://[name]/./src/components/SecuredFields/SecuredFields.tsx","webpack://[name]/./src/components/Sepa/components/IbanInput/specifications.ts","webpack://[name]/./src/components/Sepa/components/IbanInput/utils.ts","webpack://[name]/./src/components/Sepa/components/IbanInput/validate.ts","webpack://[name]/./src/components/Sepa/components/IbanInput/IbanInput.tsx","webpack://[name]/./src/components/Sepa/Sepa.tsx","webpack://[name]/./src/components/ThreeDS2/components/Form/ThreeDS2Form.tsx","webpack://[name]/./src/components/ThreeDS2/config.ts","webpack://[name]/./src/components/ThreeDS2/components/utils.ts","webpack://[name]/./src/components/ThreeDS2/components/Challenge/Do3DS2Challenge.tsx","webpack://[name]/./src/components/ThreeDS2/components/Challenge/ThreeDS2Challenge.tsx","webpack://[name]/./src/components/ThreeDS2/ThreeDS2Challenge.tsx","webpack://[name]/./src/components/ThreeDS2/components/DeviceFingerprint/Get3DS2DeviceFingerprint.tsx","webpack://[name]/./src/components/ThreeDS2/components/DeviceFingerprint/ThreeDS2DeviceFingerprint.tsx","webpack://[name]/./src/components/ThreeDS2/ThreeDS2DeviceFingerprint.tsx","webpack://[name]/./src/components/internal/Countdown/utils.ts","webpack://[name]/./src/components/internal/Countdown/index.tsx","webpack://[name]/./src/core/Services/payment-status.ts","webpack://[name]/./src/core/ProcessResponse/process-response.ts","webpack://[name]/./src/components/internal/QRLoader/QRLoader.tsx","webpack://[name]/./src/components/helpers/QRLoaderContainer.tsx","webpack://[name]/./src/components/WeChat/WeChat.ts","webpack://[name]/./src/components/WeChat/config.ts","webpack://[name]/./src/components/BcmcMobile/BcmcMobile.ts","webpack://[name]/./src/components/BcmcMobile/config.ts","webpack://[name]/./src/components/MolPayEBanking/MolPayEBankingMY.ts","webpack://[name]/./src/components/MolPayEBanking/MolPayEBankingTH.ts","webpack://[name]/./src/components/MolPayEBanking/MolPayEBankingVN.ts","webpack://[name]/./src/components/OpenBankingUK/index.ts","webpack://[name]/./src/components/Dragonpay/components/DragonpayInput/validate.ts","webpack://[name]/./src/components/Dragonpay/components/DragonpayInput/DragonpayInput.tsx","webpack://[name]/./src/components/Dragonpay/components/DragonpayVoucherResult/DragonpayVoucherResult.tsx","webpack://[name]/./src/components/Dragonpay/Dragonpay.tsx","webpack://[name]/./src/components/Doku/components/DokuInput/DokuInput.tsx","webpack://[name]/./src/components/Doku/components/DokuVoucherResult/DokuVoucherResult.tsx","webpack://[name]/./src/components/Doku/Doku.tsx","webpack://[name]/./src/components/Boleto/components/BoletoInput/SendCopyToEmail.tsx","webpack://[name]/./src/components/Boleto/components/BoletoInput/utils.ts","webpack://[name]/./src/components/Boleto/components/BoletoInput/constants.ts","webpack://[name]/./src/components/Boleto/components/BoletoInput/BoletoInput.tsx","webpack://[name]/./src/components/Boleto/components/BoletoInput/validate.ts","webpack://[name]/./src/components/Boleto/components/BoletoVoucherResult/BoletoVoucherResult.tsx","webpack://[name]/./src/components/Boleto/Boleto.tsx","webpack://[name]/./src/components/Oxxo/components/OxxoVoucherResult/OxxoVoucherResult.tsx","webpack://[name]/./src/components/Oxxo/Oxxo.tsx","webpack://[name]/./src/components/Multibanco/components/MultibancoVoucherResult/MultibancoVoucherResult.tsx","webpack://[name]/./src/components/Multibanco/Multibanco.tsx","webpack://[name]/./src/components/Dotpay/index.ts","webpack://[name]/./src/components/EPS/index.ts","webpack://[name]/./src/components/Giftcard/components/GiftcardInput.tsx","webpack://[name]/./src/components/Giftcard/components/GiftcardResult.tsx","webpack://[name]/./src/components/Giftcard/Giftcard.tsx","webpack://[name]/./src/components/Vipps/Vipps.ts","webpack://[name]/./src/components/PayU/PayuCashcard.tsx","webpack://[name]/./src/components/PayU/PayuNetBanking.tsx","webpack://[name]/./src/components/RatePay/RatePay.ts","webpack://[name]/./src/components/Swish/Swish.ts","webpack://[name]/./src/components/Dropin/defaultProps.ts","webpack://[name]/./src/components/Dropin/components/PaymentMethod/PaymentMethodDetails.tsx","webpack://[name]/./src/components/Dropin/components/PaymentMethod/PaymentMethodIcon.tsx","webpack://[name]/./src/components/Dropin/components/PaymentMethod/DisableOneClickConfirmation.tsx","webpack://[name]/./src/components/Dropin/components/PaymentMethod/PaymentMethodItem.tsx","webpack://[name]/./src/components/Dropin/components/PaymentMethod/PaymentMethodList.tsx","webpack://[name]/./src/components/Dropin/elements/filters.ts","webpack://[name]/./src/components/Dropin/elements/createElements.ts","webpack://[name]/./src/components/Dropin/elements/createStoredElements.ts","webpack://[name]/./src/components/Dropin/components/status/Success.tsx","webpack://[name]/./src/components/Dropin/components/status/Error.tsx","webpack://[name]/./src/components/Dropin/components/status/index.ts","webpack://[name]/./src/components/Dropin/components/DropinComponent.tsx","webpack://[name]/./src/components/Dropin/components/utils.ts","webpack://[name]/./src/components/Dropin/Dropin.tsx","webpack://[name]/./src/components/Ach/components/AchInput/components/AchSFInput.tsx","webpack://[name]/./src/components/Ach/components/AchInput/components/AchSecuredFields.tsx","webpack://[name]/./src/components/Ach/components/AchInput/defaultStyles.ts","webpack://[name]/./src/components/Ach/components/AchInput/AchInput.tsx","webpack://[name]/./src/components/Ach/components/AchInput/defaultProps.ts","webpack://[name]/./src/components/Ach/Ach.tsx","webpack://[name]/./src/components/MBWay/components/MBWayInput/validate.ts","webpack://[name]/./src/components/MBWay/components/MBWayInput/MBWayInput.tsx","webpack://[name]/./src/components/MBWay/components/MBWayAwait/config.ts","webpack://[name]/./src/components/internal/Await/Await.tsx","webpack://[name]/./src/components/MBWay/MBWay.tsx","webpack://[name]/./src/components/Blik/components/BlikInput.tsx","webpack://[name]/./src/components/Blik/config.ts","webpack://[name]/./src/components/Blik/Blik.tsx","webpack://[name]/./src/components/Affirm/Affirm.tsx","webpack://[name]/./src/components/index.ts","webpack://[name]/./src/utils/uuid.ts","webpack://[name]/./src/core/ProcessResponse/PaymentMethodsResponse/filters.ts","webpack://[name]/./src/core/ProcessResponse/PaymentMethodsResponse/utils.ts","webpack://[name]/./src/core/ProcessResponse/PaymentMethodsResponse/PaymentMethodsResponse.ts","webpack://[name]/./src/core/ProcessResponse/PaymentAction/actionTypes.ts","webpack://[name]/./src/core/ProcessResponse/PaymentAction/PaymentAction.ts","webpack://[name]/./src/core/Environment/Environment.ts","webpack://[name]/./src/core/Services/log-event.ts","webpack://[name]/./src/core/Services/post-telemetry.ts","webpack://[name]/./src/core/Services/collect-id.ts","webpack://[name]/./src/core/Analytics/EventsQueue.ts","webpack://[name]/./src/core/Analytics/Analytics.ts","webpack://[name]/./src/core/core.ts","webpack://[name]/./src/index.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","hasOwn","classNames","classes","arguments","length","arg","argType","push","Array","isArray","inner","apply","join","default","it","Math","check","globalThis","self","global","Function","exec","error","fails","getOwnPropertyDescriptor","f","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","options","source","target","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","undefined","sham","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","IE8_DOM_DEFINE","anObject","toPrimitive","nativeDefineProperty","O","P","Attributes","TypeError","isObject","String","IndexedObject","requireObjectCoercible","classof","split","propertyIsEnumerable","internalObjectKeys","enumBugKeys","keys","argument","wellKnownSymbol","UNSCOPABLES","ArrayPrototype","configurable","has","cache","thrower","METHOD_NAME","method","ACCESSORS","argument0","argument1","CONSTRUCTOR","METHOD","g","this","e","propertyIsEnumerableModule","toIndexedObject","nativeGetOwnPropertyDescriptor","nativePropertyIsEnumerable","NASHORN_BUG","1","V","bitmap","writable","toString","slice","input","PREFERRED_STRING","fn","val","valueOf","createElement","a","document","EXISTS","store","functionToString","inspectSource","SHARED","shared","uid","IS_PURE","version","copyright","id","postfix","random","path","aFunction","variable","namespace","indexOf","hiddenKeys","names","result","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","index","includes","toInteger","min","ceil","floor","isNaN","getOwnPropertySymbols","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","that","b","toObject","arraySpeciesCreate","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","callbackfn","specificCreate","boundFunction","forEach","map","filter","some","every","find","findIndex","assign","$","InternalStateModule","getInternalState","enforceInternalState","enforce","TEMPLATE","unsafe","simple","set","NATIVE_WEAK_MAP","objectHas","sharedKey","WeakMap","wmget","wmhas","wmset","metadata","STATE","getterFor","state","type","test","ownKeys","getOwnPropertyDescriptorModule","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","concat","getOwnPropertyNames","max","integer","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","string","replace","toLowerCase","objectKeys","nativeAssign","A","B","symbol","alphabet","chr","T","argumentsLength","S","j","nativeKeys","entryUnbind","$includes","addToUnscopables","proto","arrayMethodUsesToLength","iterator","activeXDocument","defineProperties","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","contentWindow","open","F","Properties","$find","FIND","SKIPS_HOLES","USES_TO_LENGTH","SPECIES","originalArray","C","constructor","$findIndex","FIND_INDEX","Promise","TRUE","valuePromise","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","_0","_V","_W","resolve","then","ex","reject","iterableToArray","iterable","from","x","all","arr","args","remaining","res","race","values","onRejected","asap","noop","LAST_ERROR","IS_ERROR","_U","_X","doResolve","handle","deferred","_Y","cb","onFulfilled","ret","tryCallOne","promise","handleResolved","newValue","obj","getThen","finale","_Z","Handler","done","tryCallTwo","reason","safeThen","rawAsap","task","queue","requestFlush","flush","currentIndex","scan","newLength","toggle","observer","node","scope","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromTimer","callback","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","createTextNode","observe","characterData","support","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","normalizeValue","iteratorFor","items","next","shift","Headers","headers","append","header","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","Error","arrayBuffer","isConsumed","byteOffset","text","readAsText","chars","fromCharCode","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","thisArg","entries","methods","Request","upcased","url","credentials","signal","toUpperCase","referrer","reParamSearch","Date","getTime","form","trim","bytes","decodeURIComponent","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","DOMException","err","message","stack","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","href","fixUrl","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","fetch","Element","CharacterData","DocumentType","item","parentNode","removeChild","extendStatics","setPrototypeOf","__proto__","__extends","__","__assign","__rest","__awaiter","_arguments","generator","fulfilled","step","__generator","y","_","label","sent","trys","ops","verb","v","op","pop","__spreadArrays","il","k","jl","FALLBACK_LOCALE","defaultTranslation","toTwoLetterCode","locale","substring","formatLocale","localeParam","RegExp","_a","languageCode","countryCode","fullLocale","parseLocale","supportedLocales","formattedLocale","supLoc","matchLocale","replaceTranslationValues","translation","IDR","JPY","KRW","VND","BYR","CVE","DJF","GHC","GNF","KMF","PYG","RWF","UGX","VUV","XAF","XOF","XPF","MRO","BHD","JOD","KWD","OMR","LYD","TND","getDecimalAmount","amount","currencyCode","divider","getDivider","parseInt","Language","customTranslations","translations","defaultLocales","locales","reduce","acc","cur","formatCustomTranslations","localesFromCustomTranslations","localeToLoad","loadTranslations","count","keyPlural","keyForCount","getTranslation","stringAmount","decimalAmount","localeOptions","currency","currencyDisplay","toLocaleString","getLocalisedAmount","date","dateOptions","year","month","day","toLocaleDateString","u","h","children","defaultProps","props","ref","__k","__b","__e","__d","__c","__h","__v","vnode","context","w","base","__r","debounceRendering","sort","__P","__n","ownerSVGElement","L","I","nextSibling","insertBefore","setProperty","cssText","N","z","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","contextType","__E","render","M","sub","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","H","diffed","nodeType","localName","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","current","unmount","componentWillUnmount","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","xs","_this","events","on","eventName","off","emit","BaseElement","eventEmitter","formatProps","_node","formatData","newState","clientData","conversionId","riskData","clientStateDataIndicator","mount","domNode","querySelector","_component","analytics","isDropin","containerWidth","offsetWidth","component","flavor","remount","FALLBACK_CONTEXT","returnImage","loadingContext","_b","imageFolder","_c","parentFolder","extension","_d","size","_e","subFolder","getImageUrl","imageOptions","inline","className","__H","requestAnimationFrame","cancelAnimationFrame","CoreContext","Consumer","Provider","splice","i18n","_super","Button","onClick","preventDefault","disabled","complete","delay","completed","classNameModifiers","icon","secondary","buttonIcon","alt","modifiers","buttonClasses","buttonStates","loading","buttonText","rel","defaultLabel","UIElement","payButton","submit","onValid","onComplete","handleAction","elementRef","onChange","isValid","startPayment","onError","onSubmit","showValidation","catch","componentRef","setStatus","action","paymentAction","createFromAction","onAdditionalDetails","Iframe","iframeOnLoad","iframeEl","attachEvent","detachEvent","width","height","minWidth","minHeight","border","allow","frameBorder","title","referrerpolicy","ms","timeOutObject","timer","cancel","DEVICE_FINGERPRINT","FAILED_DFP_RESOLVE_OBJECT_TIMEOUT","errorCode","FAILED_DFP_RESOLVE_OBJECT","ERRORS","ERROR_MESSAGES","timeout","wrongOrigin","wrongDataType","missingProperty","unknownError","rejectObj","expectedType","clonedRejectObj","origin","originalEvent","feedbackObj","getOrigin","matches","protocol","separator","host","port","GetDeviceFingerprint","postMessageDomain","getDfpPromise","processMessageHandler","deviceFingerPrintPromise","resolveObject","onCompleteFingerprint","rejectObject","onErrorFingerprint","dfpURL","DeviceFingerprint","accessKey","clientKey","originKey","setStatusComplete","fingerprintResult","position","fingerprintError","checkedAtob","atob","checkedBtoa","btoa","base64","pData","isBase64","str","charCodeAt","encode","pDataStr","RiskElement","nodeRiskContainer","persistentCookie","components","risk","cleanUp","remove","riskElements","enabled","dataObj","stringify","readonly","Field","focused","onFocus","onBlur","onFieldBlur","nextProps","prevState","filled","errorMessage","helper","inputWrapperModifiers","isLoading","dualBrandingElements","onFocusField","child","isInvalid","registrationNumber","InputBase","autoCorrect","spellCheck","inputClassNames","onInput","readOnly","InputText","checkDateInputSupport","unformatDate","InputDate","Number","substr","formatDate","maxLength","InputTelephone","InputEmail","autoCapitalize","Select","toggleDropdown","select","closeDropdown","handleButtonKeyDown","handleClickOutside","handleKeyDown","handleOnError","selectContainer","contains","toggleButton","focus","nextElementSibling","previousElementSibling","dropdownList","firstElementChild","_f","_g","placeholder","selected","active","onKeyDown","tabIndex","selectedOptionName","role","renderFormField","formFieldTypes","boolean","emailAddress","radio","tel","blur","shopperEmail","email","Validator","rules","defaultRules","setRules","newRules","validate","field","fieldRule","CompanyDetails","namePrefix","requiredFields","visibility","validator","setData","errors","setErrors","valid","setValid","eventHandler","prevData","prevValid","prevErrors","generateFieldName","firstName","lastName","telephoneNumber","isDateOfBirthValid","rawValue","ageDiff","now","getFullYear","personalDetailsValidationRules","dateOfBirth","PersonalDetails","placeholders","isDateInputSupported","getErrorMessage","gender","street","houseNumberOrName","city","postalCode","stateOrProvince","country","contentType","Accept","referrerPolicy","console","warn","ADDRESS_SCHEMA","COUNTRIES_WITH_STATES_DATASET","StateField","onDropdownChange","states","setStates","loaded","setLoaded","newStates","CountryField","allowedCountries","countries","setCountries","setReadOnly","newCountries","addressValidationRules","Address","getInitialData","handleChange","stateFieldIsRequired","countryHasStatesDataset","addressShouldHaveState","currentTarget","getAttribute","ConsentCheckbox","consentCheckbox","fieldsetsSchema","initialActiveFieldsets","fieldsets","fieldset","getInitialActiveFieldsets","deliveryAddress","activeFieldsets","setActiveFieldsets","fieldsetsRefs","hasConsentCheckbox","consentCheckboxLabel","newStatus","fieldsetsAreValid","consentCheckboxValid","handleFieldset","companyDetails","personalDetails","personalDetailsRequiredFields","billingAddress","prevActiveFields","showPayButton","CoreProvider","OpenInvoiceContainer","paymentMethod","company","shopperName","ConsentCheckboxLabel","linkText","textBeforeLink","textAfterLink","AfterPay","AfterPayB2B","collectBrowserInfo","colorDepth","javaEnabled","navigator","screenHeight","screenWidth","userAgent","acceptHeader","language","timeZoneOffset","getTimezoneOffset","SUPPORTED_LOCALES_EU","SUPPORTED_LOCALES_US","getCheckoutLocale","region","isSupportedLocale","getSupportedLocales","fallbackLocale","getFallbackLocale","AmazonPayButton","amazonRef","buttonColor","environment","merchantId","placement","productType","publicKeyId","sandbox","checkoutLanguage","renderAmazonPayButton","payloadJSON","signature","settings","ledgerCurrency","checkoutSessionConfig","amazonPayButton","Pay","renderButton","createCheckoutSessionConfig","initCheckout","handleOnClick","storeId","returnUrl","deliverySpecifications","webCheckoutDetails","checkoutReviewReturnUrl","getPayloadJSON","AMAZONPAY_SIGN_STRING_ENDPOINT","stringToSign","getAmazonSignature","ChangePaymentDetailsButton","amazonCheckoutSessionId","bindChangeAction","changeAction","OrderButton","checkoutSessionId","checkoutResultReturnUrl","AMAZONPAY_UPDATE_CHECKOUT_SESSION_ENDPOINT","updateAmazonCheckoutSession","SignOutButton","onSignOut","signout","AmazonPayComponent","handleLoad","script","amazonPayUrl","async","showSignOutButton","amazon","showOrderButton","showChangePaymentDetailsButton","AmazonPayElement","browserInfo","ApplePayButton","buttonType","ApplePayService","paymentRequest","session","ApplePaySession","onvalidatemerchant","onValidateMerchant","onpaymentauthorized","onPaymentAuthorized","oncancel","onCancel","onPaymentMethodSelected","onpaymentmethodselected","onShippingContactSelected","onshippingcontactselected","onShippingMethodSelected","onshippingmethodselected","begin","validationURL","completeMerchantValidation","completePayment","STATUS_SUCCESS","STATUS_FAILURE","paymentMethodUpdate","completePaymentMethodSelection","shippingContactUpdate","completeShippingContactSelection","shippingMethodUpdate","completeShippingMethodSelection","preparePaymentRequest","companyName","formattedAmount","formatAmount","total","totalPriceLabel","totalPriceStatus","lineItems","shippingMethods","shippingType","merchantCapabilities","supportedCountries","supportedNetworks","requiredShippingContactFields","requiredBillingContactFields","billingContact","shippingContact","applicationData","configuration","merchantName","merchantIdentifier","onAuthorized","ApplePay","ApplePayElement","startSession","normalizeAmount","latestVersion","versions","supportsVersion","resolveSupportedVersion","payment","token","paymentData","isAvailable","canMakePayments","issuer","issuerName","selectedIssuer","setSelectedIssuer","newIssuer","IssuerListContainer","showImage","getIssuerIcon_1","details","BillDeskOnline","BillDeskOnlineElement","BillDeskWallet","BillDeskWalletElement","CardType","cards","cardType","displayName","startingRules","permittedLengths","pattern","securityCode","cvcRequired","hideCVC","getCardByBrand","pBrand","card","getCardImageUrl","__NO_BRAND","brand","BrandIcon","imageName","dataValue","notSelected","CardNumber","dualBrandingChangeHandler","dualBrandingSelected","showBrandIcon","element","CVCHint","frontCVC","viewBox","fill","xmlns","rx","stroke","CVC","_h","hideCVCForBrand","_j","fieldClassnames","cvcClassnames","fieldLabel","ExpirationDate","CardFields","focusedElement","hasCVC","encryptedCardNumber","encryptedExpiryDate","encryptedExpiryYear","encryptedExpiryMonth","encryptedSecurityCode","CardHolderName","required","Installments","installmentAmount","setInstallmentAmount","radioBtnValue","setRadioBtnValue","installmentOptions","hasRadioButtonUI","plans","onSelectInstallment","selectedInstallments","installmentItemsMapper","translationKey","translationObj","times","partialValue","newAmount","stateObj","plan","selectedBtn","KCPAuthentication","isTaxNumberValid","taxNumber","taxNumberLabel","handleTaxNumber","minLength","autoComplete","encryptedPasswordState","wrapperClass","StoredCardFields","lastFour","expiryMonth","expiryYear","ENCRYPTED_CARD_NUMBER","ENCRYPTED_EXPIRY_DATE","ENCRYPTED_EXPIRY_MONTH","ENCRYPTED_EXPIRY_YEAR","ENCRYPTED_SECURITY_CODE","ENCRYPTED_PWD_FIELD","DEFAULT_CARD_GROUP_TYPES","NON_CREDIT_CARD_TYPE_SECURED_FIELDS","ERROR_MSG_UNSUPPORTED_CARD_ENTERED","ERROR_MSG_INVALID_FIELD","ERROR_CODES","ERROR_MSG_INCOMPLETE_FIELD","DEFAULT_ERROR","validFieldsReducer","getErrorReducer","numDateFields","mapDateFields","isCvcField","isCvcFieldValid","mapCVCField","prop","pick","_i","myArgs","objToString","existy","truthy","isObjectLike","falsy","isString","log","info","handleConfig","cardGroupTypes","config","charAt","isCreditCardType","iframeUIConfig","allowedDOMAccess","autoFocus","showWarnings","trimTrailingSeparator","keypadFix","sfLogAtStart","_b$dl","isKCP","sfBundleType","iframeSrc","configureCallbacks","callbacksObj","callbacks","onLoad","onConfigSuccess","onFieldValid","onAllValid","onBrand","onBinValue","onAutoComplete","pDataObj","pIframeObj","pLoadingContext","dataObjStr","postMessage","handleProcessBrand","pFeedbackObj","brandInfoObj","storedBrand","fieldType","newBrand","isGenericCard","baseDataObj","txVariant","securedFields","numKey","getIframeContentWin","hasProps","cvcText","setBrandRelatedInfo","callbackObj","rootNode","makeCallbackObj","pFieldType","pEncryptedFieldName","uuid","pIsValid","pTxVariant","pRootNode","encryptedFieldName","selector","array","querySelectorAll","selectOne","attribute","useCapture","processErrors","securedField","callbackFn","isError","hasError","errorType","handleValidation","callbackObjectsArr","pParentForm","encryptedElem","isEncrypted","encryptedType","isExpiryDateField","sepExpiryDateNames","totalFields","makeCallbackObjectsValidation","endDigits","len","assessFormValidity","processBrand","handleEncryption","setFocusOnFrame","encryptedObjArr","pEncryptedObjArr","pForm","pName","pId","encryptedObj","addEncryptedElements","encryptedBlob","makeCallbackObjectsEncryption","getError","keyOrValue","rtnVal","getVerifiedErrorCode","getDefaultErrorCode","addErrorTranslationsToObject","originalObj","nuObj","addAriaErrorTranslationsObject","SecuredField","pSetupObj","deltaPropsArr","configVarsFromSetUpObj","vkeys","thisVarsFromSetupObj","holderEl","iframeContentWindow","crypto","ranNum","Uint32Array","getRandomValues","generateRandomNumber","processedAriaConfig","configObj","newAriaFieldConfigObj","iframeTitle","lang","ariaFieldConfig","ariaFieldConfigWithTranslation","processAriaConfig","ariaConfig","processedPlaceholders","placeholderFieldValue","resolvePlaceholders","processPlaceholders","styleStr","noIframeElContent","createIframe","iframeOnLoadListener","iframeOnLoadListenerFn","postMessageListener","postMessageListenerFn","extraFieldData","onIframeLoadedCallback","pShowWarnings","isCheckoutUrl","adyenDomain","lastCharIndex","originCheckPassed","isWebpackPostMsg","isChromeVoxPostMsg","onEncryptionCallback","onConfigCallback","onFocusCallback","onBinValueCallback","onClickCallback","onShiftTabCallback","onAutoCompleteCallback","onValidationCallback","destroy","firstChild","removeAllChildren","onIframeLoaded","onEncryption","onValidation","onConfig","onShiftTab","_errorType","_hasError","_isValid","_cvcRequired","_iframeContentWindow","_isEncrypted","_numKey","_iframeOnLoadListener","_postMessageListener","createSecuredFields","encryptedAttrName","isSingleBrandedCard","hasRedundantCVCField","createCardSecuredFields","createNonCardSecuredFields","setupSecuredField","pItem","callbackObj_1","hasSeparateDateFields","setupObj","sf","iframeCount","numIframes","iframesLoaded","handleIframeConfigFeedback","handleFocus","handleBinValue","postMessageToAllIframes","click","handleSFShiftTab","processAutoComplete","doLog","focusData","objKeys","pKey","destroySecuredFields","destroyTouchendListener","ACFeedbackObj","dateValArr","acMonthVal","acYearVal_1","acDateVal","focusString","currentFocusObject","registerFieldForIos","handleAdditionalFields","iframeConfigCount","isConfigured","iframesConfigured","pSecuredFields","securedFieldKeys","checkFormIsValid","validityHasChanged","allValid","binValue","encryptedBin","sendBrandToCardSF","handleBrandFromBinLookup","brandsObj","passedBrand","supportedBrands","brandToSend","brandObj","__IS_ANDROID","__IS_IE","ua","msie","rv","edge","isIE","__IS_IOS","__IS_FIREFOX","__IS_SAFARI","touchendListener","pNode","targetEl","HTMLInputElement","HTMLTextAreaElement","caretPos_1","selectionStart","adjFlag","setSelectionRange","nuDiv","opacity","fontSize","bodyEl","cursor","getPreviousTabbableNonSFElement","passedFieldType","matchEl","getPrevious","allPotentialTabEls","actualTabEls","potentialTabEl","isValidTabEl","bounds","getBoundingClientRect","hasDimensions","matchElIndex","testFn","getIndexThruTest","tabEl","getPreviousTabbableEl","shiftTabObj","fieldToFocus","additionalField","shiftTabACH","shiftTabGiftCard","shiftTabKCP","shiftTabCreditCard","pAdditionalField","handleShiftTab","notConfiguredWarning","CSF","configHandler","callbacksHandler","brandsFromBinLookup","createReturnObject","returnObj","updateStyles","pStyleObject","styleObject","isValidated","code","externalValidation","hasUnsupportedCard","unsupportedCard","isGenericCardType","findRootNode","cbObj","numCharsInCVC","numChars","handleOnAllValid","isSfpValid","handleOnAutoComplete","autoCompleteName","handleOnFieldValid","handleOnLoad","originKeyErrorTimeout","originKeyTimeoutMS","handleOnConfigSuccess","handleOnBrand","cardInfo","brandImageUrl","oneClick","handleOnNoDataRequired","verifiedErrorCode","errorI18n","errorExplained","errorText","groupTypes","ariaLabels","styles","SecuredFieldsProvider","setRootNode","processBinLookupResponse","setFocusOn","handleUnsupportedCard","fields","match","initializeCSF","csf","csfSetupObj","sfStyles","koreanAuthenticationRequired","errObj","frame","stylesObj","errorObj","getErrorObject","binValueObject","storeDetails","setValue","hasHolderName","holderNameRequired","enableStoreDetails","hasStoreDetails","storedDetails","billingAddressRequired","billingAddressRequiredFields","holderName","caretColor","validateHolderName","isFocused","handleAddress","address","validateCardInput","handleKCPAuthentication","handleOnStoreDetails","storePaymentMethod","handleHolderName","handleInstallments","installments","handleSecuredFieldsChange","sfState","tempHolderName","handleAdditionalDataSelection","additionalSelectValue","additionalSelectType","sfp","holderNameValid","sfpValid","addressValid","koreanAuthentication","types","switcherType","leadType","leadDisplayName","subType","resetAdditionalSelectState","switchObj","stateObject","additionalSelectElements","CardInput","billingAddressRef","kcpAuthenticationRef","issuingCountryCode","handlers","processBinLookup","prevProps","prevCountry","prevStateOrProvince","showInstallmentAmounts","hasInstallments","isOneClick","storedPaymentMethodId","isKorea","showAmountsInInstallments","defaultStyles","sfpState","encryptedPassword","billingAddressAllowedCountries","triggerBinLookUp","doBinLookup","currentRequestId","brands","requestId","detectedBrands","binLookupBrands","CardElement","cardBrand","includeStorePaymentMethod","fundingSource","Boolean","fieldName","binLookupObject","Card","Bancontact","BancontactElement","backgroundUrl","showOnError","imageRef","modifier","image","Image","CampaignContent","description","logoUrl","backgroundImage","CampaignContainer","DonationComponent","amounts","onDonate","showCancelButton","setIsValid","setAmount","getAmount","minimumFractionDigits","maximumFractionDigits","DonationElement","handleRef","donate","RedirectShopper","beforeRedirect","postForm","Redirect","RedirectElement","showButton","Giropay","GiropayElement","getTransactionInfo","totalPrice","formattedPrice","transactionInfo","initiatePaymentRequest","apiVersion","apiVersionMinor","merchantInfo","allowedPaymentMethods","tokenizationSpecification","parameters","gateway","gatewayMerchantId","allowedAuthMethods","allowedCardNetworks","allowPrepaidCards","allowCreditCards","billingAddressParameters","emailRequired","shippingAddressRequired","shippingAddressParameters","shippingOptionRequired","shippingOptionParameters","callbackIntents","load","GooglePayService","env","resolveEnvironment","paymentsClient","getGooglePaymentsClient","paymentDataCallbacks","paymentOptions","google","payments","api","PaymentsClient","isReadyToPay","client","existingPaymentMethodRequired","prefetchPaymentData","paymentDataRequest","initiatePayment","loadPaymentData","GooglePayButton","clicked","handleClick","stopPropagation","createButton","googlePayButton","paywithgoogleWrapper","params","paymentMethods","GooglePay","googlePay","loadPayment","googlePayToken","paymentMethodData","tokenizationData","googlePayCardNetwork","cardNetwork","paymentMethodPresent","prefetch","Entercash","EntercashElement","econtextValidationRules","EcontextInput","personalDetailsRef","copyToClipboard","textArea","copyInput","range","createRange","selectNodeContents","selection","getSelection","removeAllRanges","addRange","execCommand","voucherDetails","paymentMethodType","imageUrl","issuerImageUrl","introduction","instructionsUrl","surcharge","reference","barcode","downloadUrl","copyBtn","totalAmount","expiresAt","maskedTelephoneNumber","collectionInstitutionNumber","Econtext","EcontextElement","FacilyPay3x","FacilyPay4x","FacilyPay6x","FacilyPay10x","FacilyPay12x","Ideal","IdealElement","PaypalButtons","onInit","paypalRef","paypalButtonRef","creditButtonRef","buttonRef","button","Buttons","createOrder","onApprove","isEligible","FUNDING","PAYPAL","CREDIT","SUPPORTED_LOCALES","getPaypalSettings","debug","shopperLocale","getSupportedLocale","isTestEnvironment","clientId","intent","PaypalComponent","handlePaypalLoad","PAYPAL_JS_URL","getPaypalUrl","paypal","PaypalElement","updateWithAction","handleCancel","handleComplete","handleError","handleSubmit","subtype","sdkData","validatePhoneNumber","phoneNumber","PhoneInput","handlePhoneInput","isPhoneNumberValid","handlePrefixChange","phonePrefix","isPrefixValid","showPrefix","prefixName","phoneName","formatPrefixName","flag","char","fromCodePoint","selectItem","QiwiWallet","QiwiWalletElement","SecuredFields","handleSecuredFieldsRef","SecuredFieldsElement","AD","structure","example","AE","AL","AT","AZ","BA","BE","BG","BH","BR","CH","CR","CY","CZ","DE","DK","DO","EE","ES","FI","FO","FR","GB","GE","GI","GL","GR","GT","HR","HU","IE","IL","IS","IT","KW","KZ","LB","LC","LI","LU","LV","MC","MD","ME","MK","MR","MT","MU","NL","NO","PK","PL","PS","PT","RO","RS","SA","SE","SI","SK","SM","ST","TL","TN","TR","VG","XK","AO","BF","BI","BJ","CI","CM","CV","DZ","IR","JO","MG","ML","MZ","QA","SN","UA","formatIban","iban","electronicFormat","regex","block","format","repeats","parseStructure","getIbanPlaceHolder","ValidationStatus","isValidIBAN","electronicFormatIban","remainder","iso7064Mod97_10","ibanInput","Z","iso13616Prepare","ibanRegex","checkIbanStructure","checkIbanStatus","countrySpecification","getIbanCountrySpecification","isValidHolder","holder","IbanInput","setError","handleHolderInput","handleIbanInput","inputValue","validationStatus","previousIban","newCursorPosition","editLength","isAddition","isMaskChar","ibanValue","initialCursor","getNextCursorPosition","handleIbanBlur","currentIban","ownerName","ibanNumber","holderStatus","autocorrect","spellcheck","Sepa","SepaElement","ThreeDS2Form","formEl","inputName","UNKNOWN_CHALLENGE_RESOLVE_OBJECT","transStatus","UNKNOWN_CHALLENGE_RESOLVE_OBJECT_TIMEOUT","FAILED_METHOD_STATUS_RESOLVE_OBJECT","threeDSCompInd","FAILED_METHOD_STATUS_RESOLVE_OBJECT_TIMEOUT","HTMLElementError","CHALLENGE_WINDOW_SIZES","decodeAndParseToken","decodedToken","encodeResult","validateChallengeWindowSize","sizeStr","sizeString","createResolveData","dataKey","encodeBase64URL","dataStr","base64url","Do3DS2Challenge","iframeCallback","jsonStr","cReqData","base64URLencodedData","get3DS2ChallengePromise","challengePromise","onCompleteChallenge","onErrorChallenge","acsURL","iframeSizeArr","challengeWindowSize","ThreeDS2Challenge","challengeToken","notificationURL","decodedChallengeToken","acsTransID","messageVersion","threeDSNotificationURL","threeDSServerTransID","notificationURLOrigin","challengeData","messageType","resultObj","challenge","errorObject","ThreeDS2ChallengeElement","Get3DS2DeviceFingerprint","serverTransactionID","threeDSMethodNotificationURL","threedsMethodNotificationURL","get3DS2MethodPromise","fingerPrintPromise","methodURL","showSpinner","ThreeDS2DeviceFingerprint","fingerprintToken","fingerPrintData","decodedFingerPrintToken","threeDSMethodUrl","receivedNotificationURL","prepareFingerPrintData","fingerprint","ThreeDS2DeviceFingerprintElement","zeroPad","strValue","repeat","getTimeDifference","startTime","endTime","diff","seconds","percentage","start","end","difference","round","getProgressPercentage","minutes","Countdown","secondsFromNow","minutesFromNow","nowTime","tick","newTime","onCompleted","time","onTick","interval","checkPaymentStatus","initiationUrl","processCompleteResponse","resultCode","QRLoader","statusInterval","checkStatus","timePassed","throttleTime","throttledInterval","redirectToApp","fallback","buttonStatus","expired","onTimeUp","shouldRedirectOnMobile","isMobile","matchMedia","startPolling","payload","brandLogo","countdownTime","qrCodeImage","qrCodeData","finalState","timeToPayString","instructions","QRLoaderContainer","buttonLabel","WeChat","WeChatPayElement","BCMCMobileElement","MolPayEBankingMY","MolPayEBankingMYElement","MolPayEBankingTH","MolPayEBankingTHElement","MolPayEbankingVNElement","OpenBankingUK","OpenBankingUKElement","isValidEmail","DragonpayInput","getIssuerIcon","isIssuerRequired","validateFields","getIssuerSelectFieldKey","DragonpayVoucherResult","alternativeReference","Dragonpay","DragonpayElement","DokuInput","Doku","DokuElement","SendCopyToEmail","sendCopyToEmail","setSendCopyToEmail","onToggle","cleanCPFCNPJ","formatCPFCNPJ","cleanValue","g1","g2","g3","g4","g5","maskCNPJ","maskCPF","socialSecurityNumber","ssn","BoletoInput","addressRef","showingEmail","setShowingEmail","buttonModifiers","personalDetailsRequired","showEmailAddress","updateFieldData","handleInputFor","handleChangeFor","personalFieldsValid","billingAddressValid","emailAddressValid","barcodeReference","Boleto","BoletoElement","merchantReference","barcodeUrl","Oxxo","OxxoElement","entity","Multibanco","MultibancoElement","Dotpay","DotpayElement","EPS","EPSElement","Giftcard","pinRequired","deductedAmount","remainingBalance","GiftcardElement","GiftcardInput","Vipps","VippsElement","PayuNetCashcardElement","PayuNetBanking","PayuNetBankingElement","RatePay","Swish","SwishElement","onReady","onSelect","onDisableStoredPaymentMethod","paymentMethodsConfiguration","openFirstPaymentMethod","openFirstStoredPaymentMethod","showStoredPaymentMethods","showPaymentMethods","showRemoveStoredPaymentMethodButton","paymentMethodComponent","isLoaded","focusable","onDisable","PaymentMethodItem","showDisableStoredPaymentMethodConfirmation","isMouseDown","onMouseDown","onMouseUp","toggleDisableConfirmation","activeBrand","isSelected","isDisabling","standalone","paymentMethodClassnames","showRemovePaymentMethodButton","disableConfirmationId","showBrands","PaymentMethodList","firstPaymentMethod","activePaymentMethod","cachedPaymentMethods","paymentMethodsCollection","isNextOneSelected","filterPresent","filterAvailable","componentsConfig","elements","componentProps","getComponentConfiguration","componentInstance","getComponent","elementPromises","paymentMethodsConfig","Success","DropinComponent","setActivePaymentMethod","handleOnSelectPaymentMethod","handleDisableStoredPaymentMethod","storedPaymentMethod","pm","storedPaymentMethods","commonProps","storedElementsPromises","elementsPromises","storedElements","closeActivePaymentMethod","isRedirecting","Dropin","DropinElement","dropinRef","pmConfig","statusType","dataInfo","encryptedIdStr","encryptedBankAccountNumber","encryptedBankLocationId","holderNameIsValid","setBillingAddress","setIsSfpValid","setFocusedElement","Ach","AchElement","phoneNumberRegEx","mbwayValidationRules","num","formattedVal","showError","handleEventFor","setCompleted","setExpired","setLoading","setDelay","setPercentage","setTimePassed","hasAdjustedTime","setHasAdjustedTime","storedTimeout","setStoredTimeout","actualTimePassed","throttleInterval","messageText","awaitText","showCountdownTimer","MBWay","MBWayElement","blikCode","handleBlikCode","isBlikCodeValid","BlikElement","recurringPayment","ALLOWED_COUNTRIES","componentsMap","dropin","ach","afterpay","afterpay_default","afterpay_b2b","amazonpay","amex","applepay","bcmc","bcmc_mobile","BcmcMobile","bcmc_mobile_QR","blik","billdesk_online","billdesk_wallet","boletobancario","boletobancario_bancodobrasil","boletobancario_bradesco","boletobancario_hsbc","boletobancario_itau","boletobancario_santander","diners","discover","doku","doku_alfamart","doku_permata_lite_atm","doku_indomaret","doku_atm_mandiri_va","doku_sinarmas_va","doku_mandiri_va","doku_cimb_va","doku_danamon_va","doku_bri_va","doku_bni_va","doku_bca_va","doku_wallet","donation","dotpay","dragonpay_ebanking","dragonpay_otc_banking","dragonpay_otc_non_banking","dragonpay_otc_philippines","econtext_seven_eleven","econtext_atm","econtext_stores","econtext_online","entercash","eps","facilypay_3x","facilypay_4x","facilypay_6x","facilypay_10x","facilypay_12x","giropay","ideal","jcb","kcp","maestro","mbway","mc","molpay_ebanking_fpx_MY","molpay_ebanking_TH","molpay_ebanking_VN","MolPayEBankingVN","openbanking_UK","payu_IN_cashcard","PayuCashcard","payu_IN_nb","paywithgoogle","qiwiwallet","ratepay","securedfields","sepadirectdebit","scheme","threeDS2Challenge","threeDS2DeviceFingerprint","visa","wechatpay","wechatpayQR","oxxo","multibanco","giftcard","vipps","swish","affirm","Affirm","componentType","Component","filterAllowedPaymentMethods","filterRemovedPaymentMethods","filterEcomStoredPaymentMethods","supportedShopperInteractions","supportedStoredPaymentMethods","filterSupportedStoredPaymentMethods","processStoredPaymentMethod","PaymentMethodsResponse","paymentMethodsResponse","allowPaymentMethods","removePaymentMethods","storePaymentMethods","checkPaymentMethodsResponse","processStoredPaymentMethods","threeDS2Fingerprint","voucher","qrCode","await","nextAction","environments","live","payload_version","platform","queryString","encodeURIComponent","telemetryEvent","screen","conversion","EventsQueue","add","run","promises","Analytics","logEvent","logTelemetry","telemetry","Core","RiskModule","getPropsForComponent","handleCreate","handleCreateError","PaymentMethod","paymentMethodsDetails","paymentMethodName","revision","branch","buildId"],"mappings":"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","file":"adyen.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AdyenCheckout\"] = factory();\n\telse\n\t\troot[\"AdyenCheckout\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 133);\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card-input__wrapper\":\"-wMSeYyd1oxr12akf2KiW\",\"card-input__icon\":\"LG8NPDcUMJlIVKf-vmZYS\",\"card-input__form\":\"_1rROkhE_InAmAGBv9PbBh8\",\"card-input__spinner\":\"_15TC8X2U755Z-Hf-ih6QH0\",\"card-input__spinner--active\":\"_1S9AS3BoV1JGA8Wvu0f5OB\",\"card-input__form--loading\":\"_2_YFYtMPvqZWQG7QMEyFVK\",\"adyen-checkout__input\":\"j2oksRnjgVh11hRREN03v\",\"adyen-checkout__card__cvc__input--hidden\":\"_1bIHbqBrDUDWE6iNTKdVoo\",\"revolving-plan-installments__disabled\":\"_1wm1GR0fzcXXgnIfIM6Xih\"};","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"adyen-checkout__payment-methods-list\":\"iGQlrgUxnAsLb4qtu0dOc\",\"adyen-checkout__payment-method\":\"_1Rv6Y28L612jCrJtlPzepi\",\"adyen-checkout__payment-method__details\":\"_3u1CYXsnDFNlMBMpufyrsq\",\"adyen-checkout__payment-method__image\":\"_1fo2qAgp7ayytaKrqbZpQI\",\"adyen-checkout__payment-method__image__wrapper\":\"_11rD_9hAzkhgGyt7QOo002\",\"adyen-checkout__payment-method--selected\":\"_3BJR28lK23l7BF0ouQL_18\"};","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"adyen-checkout__dropdown\":\"_25j1wxcG6JMayoahR4dwTP\",\"adyen-checkout__dropdown__button\":\"fyN7g68OwE8jYoU4M7kus\",\"adyen-checkout__dropdown__button--active\":\"_3iqZCnn-31LQsexJZnNY7Y\",\"adyen-checkout__dropdown__list\":\"ZH972lEag_JGA8QEQO7ng\",\"adyen-checkout__dropdown__list--active\":\"_2WnEj5QNGxd_iZR-53o07C\",\"adyen-checkout__dropdown__element\":\"_30ugZ2ebrREuog3c07S2JO\"};","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sf-input__wrapper\":\"_1EXw9Cav0pmID2b-ymwNmz\",\"adyen-checkout__input\":\"_2NaT42mcuvEbfoJUjXGSch\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading-input__form\":\"jZ0YjSr9W9MlpurLCM8H\",\"loading-input__form--loading\":\"_1tkkSlJUdKo032lWINvPsx\",\"loading-input__spinner\":\"SEHC8PPYoyGWCEoqeuUXX\",\"loading-input__spinner--active\":\"_1gPx4O2oXmC_ICmXU5w9cb\"};","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"apple-pay-button\":\"_1dIj5OBNHw-_NvtfqKwJuZ\",\"apple-pay-button-black\":\"_3kQn_urayEY_qN10JCDZ8J\",\"apple-pay-button-white\":\"Crk4OPiucf8byDY_XkCtZ\",\"apple-pay-button-white-with-line\":\"_3QQ9y6Oiu8jxi0RjuzlwKE\",\"apple-pay-button--type-plain\":\"_3LOpY03tW2ejIa0YfQeLkj\",\"apple-pay-button--type-buy\":\"_1wFWUnhKvJFkhCm-mH9n9C\",\"apple-pay-button--type-donate\":\"_302hppXqBoqpUJHMjj1VSS\",\"apple-pay-button--type-check-out\":\"_36UYjdq-NOAy6pxtkAM6ef\",\"apple-pay-button--type-book\":\"_1bi-_fx2SBWe0CAAzJEPGa\",\"apple-pay-button--type-subscribe\":\"c0ymV02fsvcG3rtm3Jwyn\"};","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","var global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\n\nvar call = Function.call;\n\nmodule.exports = function (CONSTRUCTOR, METHOD, length) {\n  return bind(call, global[CONSTRUCTOR].prototype[METHOD], length);\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","require('../../modules/es.object.assign');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.assign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","module.exports = false;\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","require('../../modules/es.object.keys');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.keys;\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","require('../../modules/es.array.includes');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","require('../../modules/es.array.find');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'find');\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","require('../../modules/es.array.find-index');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'findIndex');\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._0);\n  p._V = 1;\n  p._W = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nvar iterableToArray = function (iterable) {\n  if (typeof Array.from === 'function') {\n    // ES2015+, iterables exist\n    iterableToArray = Array.from;\n    return Array.from(iterable);\n  }\n\n  // ES5, only arrays and array-likes exist\n  iterableToArray = function (x) { return Array.prototype.slice.call(x); };\n  return Array.prototype.slice.call(iterable);\n}\n\nPromise.all = function (arr) {\n  var args = iterableToArray(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._V === 3) {\n            val = val._W;\n          }\n          if (val._V === 1) return res(i, val._W);\n          if (val._V === 2) reject(val._W);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    iterableToArray(values).forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._U = 0;\n  this._V = 0;\n  this._W = null;\n  this._X = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._Y = null;\nPromise._Z = null;\nPromise._0 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._V === 3) {\n    self = self._W;\n  }\n  if (Promise._Y) {\n    Promise._Y(self);\n  }\n  if (self._V === 0) {\n    if (self._U === 0) {\n      self._U = 1;\n      self._X = deferred;\n      return;\n    }\n    if (self._U === 1) {\n      self._U = 2;\n      self._X = [self._X, deferred];\n      return;\n    }\n    self._X.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._V === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._V === 1) {\n        resolve(deferred.promise, self._W);\n      } else {\n        reject(deferred.promise, self._W);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._W);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._V = 3;\n      self._W = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._V = 1;\n  self._W = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._V = 2;\n  self._W = newValue;\n  if (Promise._Z) {\n    Promise._Z(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._U === 1) {\n    handle(self, self._X);\n    self._X = null;\n  }\n  if (self._U === 2) {\n    for (var i = 0; i < self._X.length; i++) {\n      handle(self, self._X[i]);\n    }\n    self._X = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jss\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : ''\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","import 'whatwg-fetch';\n// ChildNode.remove()\n(function (arr) {\n    arr.forEach(function (item) {\n        if (item.hasOwnProperty('remove')) {\n            return;\n        }\n        Object.defineProperty(item, 'remove', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: function remove() {\n                if (this.parentNode === null) {\n                    return;\n                }\n                this.parentNode.removeChild(this);\n            }\n        });\n    });\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\nimport 'core-js/es/object/assign';\nimport 'core-js/es/object/keys';\nimport 'core-js/es/array/includes';\nimport 'core-js/es/array/find';\nimport 'core-js/es/array/find-index';\nif (typeof Promise === 'undefined') {\n    window.Promise = require('promise/lib/es6-extensions.js');\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import defaultTrans from './locales/en-US.json';\n/**\n * FALLBACK_LOCALE - **MUST** match the locale string in the above import\n */\nexport var FALLBACK_LOCALE = 'en-US';\nexport var defaultTranslation = defaultTrans;\n","import daDK from './da-DK.json';\nimport deDE from './de-DE.json';\nimport enUS from './en-US.json';\nimport esES from './es-ES.json';\nimport fiFI from './fi-FI.json';\nimport frFR from './fr-FR.json';\nimport itIT from './it-IT.json';\nimport jaJP from './ja-JP.json';\nimport koKR from './ko-KR.json';\nimport nlNL from './nl-NL.json';\nimport noNO from './no-NO.json';\nimport plPL from './pl-PL.json';\nimport ptBR from './pt-BR.json';\nimport ruRU from './ru-RU.json';\nimport svSE from './sv-SE.json';\nimport zhCN from './zh-CN.json';\nimport zhTW from './zh-TW.json';\nexport default {\n    'da-DK': daDK,\n    'de-DE': deDE,\n    'en-US': enUS,\n    'es-ES': esES,\n    'fi-FI': fiFI,\n    'fr-FR': frFR,\n    'it-IT': itIT,\n    'ja-JP': jaJP,\n    'ko-KR': koKR,\n    'nl-NL': nlNL,\n    'no-NO': noNO,\n    'pl-PL': plPL,\n    'pt-BR': ptBR,\n    'ru-RU': ruRU,\n    'sv-SE': svSE,\n    'zh-CN': zhCN,\n    'zh-TW': zhTW\n};\n","import { __assign } from \"tslib\";\nimport { FALLBACK_LOCALE, defaultTranslation } from './config';\nimport locales from './locales';\n/**\n * Convert to ISO 639-1\n */\nvar toTwoLetterCode = function (locale) { return locale.toLowerCase().substring(0, 2); };\n/**\n * Matches a string with one of the locales\n * @param locale -\n * @param supportedLocales -\n\n * @example\n * matchLocale('en-GB');\n * // 'en-US'\n */\nexport function matchLocale(locale, supportedLocales) {\n    if (!locale || typeof locale !== 'string')\n        return null;\n    return supportedLocales.find(function (supLoc) { return toTwoLetterCode(supLoc) === toTwoLetterCode(locale); }) || null;\n}\n/**\n * Returns a locale with the proper format\n * @param localeParam -\n *\n * @example\n * formatLocale('En_us');\n * // 'en-US'\n */\nexport function formatLocale(localeParam) {\n    var locale = localeParam.replace('_', '-');\n    var format = new RegExp('([a-z]{2})([-])([A-Z]{2})');\n    // If it's already formatted, return the locale\n    if (format.test(locale))\n        return locale;\n    // Split the string in two\n    var _a = locale.split('-'), languageCode = _a[0], countryCode = _a[1];\n    // If the locale or the country codes are missing, return null\n    if (!languageCode || !countryCode)\n        return null;\n    // Ensure correct format and join the strings back together\n    var fullLocale = [languageCode.toLowerCase(), countryCode.toUpperCase()].join('-');\n    return fullLocale.length === 5 ? fullLocale : null;\n}\n/**\n * Checks the locale format.\n * Also checks if it's on the locales array.\n * If it is not, tries to match it with one.\n * @param locale -\n * @param supportedLocales -\n */\nexport function parseLocale(locale, supportedLocales) {\n    if (supportedLocales === void 0) { supportedLocales = []; }\n    if (!locale || locale.length < 1 || locale.length > 5)\n        return FALLBACK_LOCALE;\n    var formattedLocale = formatLocale(locale);\n    var hasMatch = supportedLocales.indexOf(formattedLocale) > -1;\n    if (hasMatch)\n        return formattedLocale;\n    return matchLocale(formattedLocale || locale, supportedLocales);\n}\n/**\n * Formats the locales inside the customTranslations object against the supportedLocales\n * @param customTranslations -\n * @param supportedLocales -\n */\nexport function formatCustomTranslations(customTranslations, supportedLocales) {\n    if (customTranslations === void 0) { customTranslations = {}; }\n    return Object.keys(customTranslations).reduce(function (acc, cur) {\n        var formattedLocale = formatLocale(cur) || parseLocale(cur, supportedLocales);\n        if (formattedLocale) {\n            acc[formattedLocale] = customTranslations[cur];\n        }\n        return acc;\n    }, {});\n}\nvar replaceTranslationValues = function (translation, values) {\n    return translation.replace(/%{(\\w+)}/g, function (_, k) { return values[k] || ''; });\n};\n/**\n * Returns a translation string by key\n * @param translations -\n * @param key -\n * @param options -\n *\n * @internal\n */\nexport var getTranslation = function (translations, key, options) {\n    if (options === void 0) { options = { values: {}, count: 0 }; }\n    var keyPlural = key + \"__plural\";\n    var keyForCount = function (count) { return key + \"__\" + count; };\n    if (Object.prototype.hasOwnProperty.call(translations, keyForCount(options.count))) {\n        // Find key__count translation key\n        return replaceTranslationValues(translations[keyForCount(options.count)], options.values);\n    }\n    else if (Object.prototype.hasOwnProperty.call(translations, keyPlural) && options.count > 1) {\n        // Find key__plural translation key, if count greater than 1 (e.g. myTranslation__plural)\n        return replaceTranslationValues(translations[keyPlural], options.values);\n    }\n    else if (Object.prototype.hasOwnProperty.call(translations, key)) {\n        // Find key translation key (e.g. myTranslation)\n        return replaceTranslationValues(translations[key], options.values);\n    }\n    return null;\n};\n/**\n * Returns an array with all the locales\n * @param locale - The locale the user wants to use\n * @param customTranslations -\n */\nexport var loadTranslations = function (locale, customTranslations) {\n    if (customTranslations === void 0) { customTranslations = {}; }\n    // Match locale to one of our available locales (e.g. es-AR => es-ES)\n    var localeToLoad = parseLocale(locale, Object.keys(locales)) || FALLBACK_LOCALE;\n    return __assign(__assign(__assign({}, defaultTranslation), locales[localeToLoad]), (!!customTranslations[locale] && customTranslations[locale]) // Merge with their custom locales if available\n    );\n};\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o};return null==o&&(r.__v=r),null!=n.vnode&&n.vnode(r),r}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return w(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!g.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(g)}function g(){for(var n;g.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=i,t=$(f,o,i,l.__n,void 0!==f.ownerSVGElement,null!=o.__h?[r]:null,u,null==r?_(o):r,o.__h),j(u,o),t!=r&&w(o)))})}function m(n,l,u,i,t,o,r,c,s,h){var y,d,w,k,g,m,b,A=i&&i.__k||e,P=A.length;for(s==f&&(s=null!=r?r[0]:P?_(i,0):null),u.__k=[],y=0;y<l.length;y++)if(null!=(k=u.__k[y]=null==(k=l[y])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):null!=k.__e||null!=k.__c?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(w=A[y])||w&&k.key==w.key&&k.type===w.type)A[y]=void 0;else for(d=0;d<P;d++){if((w=A[d])&&k.key==w.key&&k.type===w.type){A[d]=void 0;break}w=null}g=$(n,k,w=w||f,t,o,r,c,s,h),(d=k.ref)&&w.ref!=d&&(b||(b=[]),w.ref&&b.push(w.ref,null,k),b.push(d,k.__c||g,k)),null!=g?(null==m&&(m=g),s=x(n,k,w,A,r,g,s),h||\"option\"!=u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&w.__e==s&&s.parentNode!=n&&(s=_(w))}if(u.__e=m,null!=r&&\"function\"!=typeof u.type)for(y=r.length;y--;)null!=r[y]&&a(r[y]);for(y=P;y--;)null!=A[y]&&L(A[y],A[y]);if(b)for(y=0;y<b.length;y++)I(b[y],b[++y],b[++y])}function b(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){b(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o,r){var f,e,c;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(t==u||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),f=null;else{for(e=r,c=0;(e=e.nextSibling)&&c<i.length;c+=2)if(e==o)break n;n.insertBefore(o,r),f=r}return void 0!==f?f:o.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o,r,f;if(t&&\"className\"==l&&(l=\"class\"),\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else\"o\"===l[0]&&\"n\"===l[1]?(o=l!==(l=l.replace(/Capture$/,\"\")),(r=l.toLowerCase())in n&&(l=r),l=l.slice(2),n.l||(n.l={}),n.l[l+o]=u,f=o?N:z,u?i||n.addEventListener(l,f,o):n.removeEventListener(l,f,o)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&\"download\"!==l&&\"href\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type+!1](n.event?n.event(l):l)}function N(l){this.l[l.type+!0](n.event?n.event(l):l)}function T(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,t.__e&&(\"function\"==typeof t.type&&t.__k.length>1&&T(t,l,u),l=x(u,t,t,n.__k,null,t.__e,l),\"function\"==typeof n.type&&(n.__d=l)))}function $(l,u,i,t,o,r,f,e,c){var a,h,v,y,_,w,k,g,b,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?k=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in P&&P.prototype.render?u.__c=h=new P(g,x):(u.__c=h=new d(g,x),h.constructor=P,h.render=M),b&&b.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,P.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,h.__h.length&&f.push(h),T(u,e,l);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,w)})}h.context=x,h.props=g,h.state=h.__s,(a=n.__r)&&a(u),h.__d=!1,h.__v=u,h.__P=l,a=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(w=h.getSnapshotBeforeUpdate(y,_)),A=null!=a&&a.type==p&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),k&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=H(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),n.__e(l,u,i)}return u.__e}function j(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function H(n,l,u,i,t,o,r,c){var s,a,h,v,y,p=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,c=!1}if(null===l.type)p===d||c&&n.data===d||(n.data=d);else{if(null!=o&&(o=e.slice.call(n.childNodes)),h=(p=u.props||f).dangerouslySetInnerHTML,v=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===n.innerHTML)||(n.innerHTML=v&&v.__html||\"\"))}A(n,d,p,t,c),v?l.__k=[]:(s=l.props.children,m(n,Array.isArray(s)?s:[s],l,u,i,\"foreignObject\"!==l.type&&t,o,r,f,c)),c||(\"value\"in d&&void 0!==(s=d.value)&&(s!==n.value||\"progress\"===l.type&&!s)&&C(n,\"value\",s,p.value,!1),\"checked\"in d&&void 0!==(s=d.checked)&&s!==n.checked&&C(n,\"checked\",s,p.checked,!1))}return n}function I(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||I(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&a(o)}function M(n,l,u){return this.constructor(n,u)}function O(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=h(p,null,[l]),c=[],$(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:u.childNodes.length?e.slice.call(u.childNodes):null,c,i||f,t),j(c,l)}function S(n,l){O(n,l,o)}function q(n,l,u){var i,t,o,r=arguments,f=s({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n,u,i){return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t,o=l.__h;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return l.__h=o,u.__E=u}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},d.prototype.render=p,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,o=f,r=0;export{O as render,S as hydrate,h as createElement,h,p as Fragment,y as createRef,l as isValidElement,d as Component,q as cloneElement,B as createContext,b as toChildArray,L as __u,n as options};\n//# sourceMappingURL=preact.module.js.map\n","var CURRENCY_DECIMALS = {\n    // ZERO_DECIMAL_CURRENCIES\n    IDR: 1,\n    JPY: 1,\n    KRW: 1,\n    VND: 1,\n    BYR: 1,\n    CVE: 1,\n    DJF: 1,\n    GHC: 1,\n    GNF: 1,\n    KMF: 1,\n    PYG: 1,\n    RWF: 1,\n    UGX: 1,\n    VUV: 1,\n    XAF: 1,\n    XOF: 1,\n    XPF: 1,\n    // ONE_DECIMAL_CURRENCIES\n    MRO: 10,\n    // THREE_DECIMAL_CURRENCIES\n    BHD: 1000,\n    JOD: 1000,\n    KWD: 1000,\n    OMR: 1000,\n    LYD: 1000,\n    TND: 1000\n};\nexport default CURRENCY_DECIMALS;\n","import { __assign } from \"tslib\";\nimport CURRENCY_CODES from './constants/currency-codes';\nimport CURRENCY_DECIMALS from './constants/currency-decimals';\n/**\n * @internal\n * @param currencyCode -\n * Get divider amount\n */\nexport var getDivider = function (currencyCode) { return CURRENCY_DECIMALS[currencyCode] || 100; };\n/**\n * @internal\n * @param currencyCode -\n * Returns whether a CURRENCY CODE is valid\n */\nexport var isValidCurrencyCode = function (currencyCode) { return !!CURRENCY_CODES[currencyCode]; };\n/**\n * @internal\n */\nexport var getCurrencyCode = function (currencyCode) { return (isValidCurrencyCode(currencyCode) ? CURRENCY_CODES[currencyCode] : false); };\n/**\n * @internal\n */\nexport var getDecimalAmount = function (amount, currencyCode) {\n    var divider = getDivider(currencyCode);\n    return parseInt(String(amount), 10) / divider;\n};\n/**\n * @internal\n */\nexport var getLocalisedAmount = function (amount, locale, currencyCode, options) {\n    if (options === void 0) { options = {}; }\n    var stringAmount = amount.toString(); // Changing amount to string to avoid 0-value from returning false\n    var decimalAmount = getDecimalAmount(stringAmount, currencyCode);\n    var formattedLocale = locale.replace('_', '-');\n    var localeOptions = __assign({ style: 'currency', currency: currencyCode, currencyDisplay: 'symbol' }, options);\n    try {\n        return decimalAmount.toLocaleString(formattedLocale, localeOptions);\n    }\n    catch (e) {\n        return stringAmount;\n    }\n};\n/**\n * @internal\n */\nexport var getLocalisedPercentage = function (percent, locale) {\n    if (percent === void 0) { percent = 0; }\n    var decimalPercent = percent / 100 / 100;\n    var localeOptions = {\n        style: 'percent',\n        maximumFractionDigits: 2\n    };\n    try {\n        return decimalPercent.toLocaleString(locale, localeOptions);\n    }\n    catch (e) {\n        return null;\n    }\n};\n","import { __assign, __spreadArrays } from \"tslib\";\nimport { formatCustomTranslations, formatLocale, getTranslation, loadTranslations, parseLocale } from './utils';\nimport { FALLBACK_LOCALE, defaultTranslation } from './config';\nimport locales from './locales';\nimport { getLocalisedAmount } from '../utils/amount-util';\nvar Language = /** @class */ (function () {\n    function Language(locale, customTranslations) {\n        if (locale === void 0) { locale = FALLBACK_LOCALE; }\n        if (customTranslations === void 0) { customTranslations = {}; }\n        this.translations = defaultTranslation;\n        var defaultLocales = Object.keys(locales);\n        this.customTranslations = formatCustomTranslations(customTranslations, defaultLocales);\n        var localesFromCustomTranslations = Object.keys(this.customTranslations);\n        this.supportedLocales = __spreadArrays(defaultLocales, localesFromCustomTranslations).filter(function (v, i, a) { return a.indexOf(v) === i; }); // our locales + validated custom locales\n        this.locale = formatLocale(locale) || parseLocale(locale, this.supportedLocales) || FALLBACK_LOCALE;\n        this.translations = loadTranslations(this.locale, this.customTranslations);\n    }\n    /**\n     * Returns a translated string from a key in the current {@link Language.locale}\n     * @param key - Translation key\n     * @param options - Translation options\n     * @returns Translated string\n     */\n    Language.prototype.get = function (key, options) {\n        var translation = getTranslation(this.translations, key, options);\n        if (translation !== null) {\n            return translation;\n        }\n        return key;\n    };\n    /**\n     * Returns a localized string for an amount\n     * @param amount - Amount to be converted\n     * @param currencyCode - Currency code of the amount\n     * @param options - Options for String.prototype.toLocaleString\n     */\n    Language.prototype.amount = function (amount, currencyCode, options) {\n        return getLocalisedAmount(amount, this.locale, currencyCode, options);\n    };\n    /**\n     * Returns a localized string for a date\n     * @param date - Date to be localized\n     * @param options - Options for {@link Date.toLocaleDateString}\n     */\n    Language.prototype.date = function (date, options) {\n        if (options === void 0) { options = {}; }\n        var dateOptions = __assign({ year: 'numeric', month: '2-digit', day: '2-digit' }, options);\n        return new Date(date).toLocaleDateString(this.locale, dateOptions);\n    };\n    return Language;\n}());\nexport { Language };\nexport default Language;\n","/**\n * returns the indicated property of an object, if it exists.\n *\n * @param object - The object to query\n * @param path - The property name or path to the property\n * @returns The value at `obj[p]`.\n\n * @example\n * ```\n *   getProp({x: 100}, 'x'); //=> 100\n *   getProp({}, 'x'); //=> undefined\n * ```\n */\nvar getProp = function (object, path) {\n    var splitPath = path.split('.');\n    var reducer = function (xs, x) { return (xs && xs[x] ? xs[x] : undefined); };\n    return splitPath.reduce(reducer, object);\n};\nexport default getProp;\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__r,f=n.diffed,e=n.__c,a=n.unmount;function v(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function m(n){return o=1,p(k,n)}function p(n,r,o){var i=v(t++,2);return i.t=n,i.__c||(i.__c=u,i.__=[o?o(r):k(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}]),i.__}function y(r,o){var i=v(t++,3);!n.__s&&j(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function l(r,o){var i=v(t++,4);!n.__s&&j(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function h(n){return o=5,_(function(){return{current:n}},[])}function s(n,t,u){o=6,l(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function _(n,u){var r=v(t++,7);return j(r.__H,u)?(r.__H=u,r.__h=n,r.__=n()):r.__}function A(n,t){return o=8,_(function(){return n},t)}function F(n){var r=u.context[n.__c],o=v(t++,9);return o.__c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function d(n){var r=v(t++,10),o=m();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function q(){i.some(function(t){if(t.__P)try{t.__H.__h.forEach(b),t.__H.__h.forEach(g),t.__H.__h=[]}catch(u){return t.__H.__h=[],n.__e(u,t.__v),!0}}),i=[]}n.__r=function(n){c&&c(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(b),r.__h.forEach(g),r.__h=[])},n.diffed=function(t){f&&f(t);var u=t.__c;u&&u.__H&&u.__H.__h.length&&(1!==i.push(u)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),x&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);x&&(t=requestAnimationFrame(u))})(q))},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(b),t.__h=t.__h.filter(function(n){return!n.__||g(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),e&&e(t,u)},n.unmount=function(t){a&&a(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(b)}catch(t){n.__e(t,u.__v)}};var x=\"function\"==typeof requestAnimationFrame;function b(n){\"function\"==typeof n.u&&n.u()}function g(n){n.u=n.__()}function j(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function k(n,t){return\"function\"==typeof t?t(n):t}export{m as useState,p as useReducer,y as useEffect,l as useLayoutEffect,h as useRef,s as useImperativeHandle,_ as useMemo,A as useCallback,F as useContext,T as useDebugValue,d as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","var EventEmitter = /** @class */ (function () {\n    function EventEmitter() {\n        var _this = this;\n        this.events = {};\n        this.on = function (eventName, fn) {\n            _this.events[eventName] = _this.events[eventName] || [];\n            _this.events[eventName].push(fn);\n        };\n        this.off = function (eventName, fn) {\n            if (_this.events[eventName]) {\n                _this.events[eventName] = _this.events[eventName].reduce(function (acc, cur) {\n                    if (cur !== fn)\n                        acc.push(cur);\n                    return acc;\n                }, []);\n            }\n        };\n        this.emit = function (eventName, data) {\n            if (_this.events[eventName]) {\n                _this.events[eventName].forEach(function (fn) {\n                    fn(data);\n                });\n            }\n        };\n    }\n    return EventEmitter;\n}());\nexport default EventEmitter;\n","import { __assign } from \"tslib\";\nimport { render } from 'preact';\nimport getProp from '../utils/getProp';\nimport EventEmitter from './EventEmitter';\nvar BaseElement = /** @class */ (function () {\n    function BaseElement(props) {\n        this.eventEmitter = new EventEmitter();\n        this.props = this.formatProps(__assign(__assign({}, this.constructor['defaultProps']), props));\n        this._node = null;\n        this.state = {};\n    }\n    /**\n     * Executed during creation of any payment element.\n     * Gives a chance to any paymentMethod to format the props we're receiving.\n     */\n    BaseElement.prototype.formatProps = function (props) {\n        return props;\n    };\n    /**\n     * Executed on the `data` getter.\n     * Returns the component data necessary for the /payments request\n     */\n    BaseElement.prototype.formatData = function () {\n        return {};\n    };\n    BaseElement.prototype.setState = function (newState) {\n        this.state = __assign(__assign({}, this.state), newState);\n    };\n    Object.defineProperty(BaseElement.prototype, \"data\", {\n        /**\n         * Returns the component payment data ready to submit to the Checkout API\n         * Note: this does not ensure validity, check isValid first\n         */\n        get: function () {\n            var clientData = getProp(this.props, 'modules.risk.data');\n            var conversionId = getProp(this.props, 'modules.analytics.conversionId');\n            return __assign(__assign(__assign(__assign({}, (clientData && { riskData: { clientData: clientData } })), (conversionId && { conversionId: conversionId })), this.formatData()), { clientStateDataIndicator: true });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BaseElement.prototype.render = function () {\n        // render() not implemented in the element\n        throw new Error('Payment method cannot be rendered.');\n    };\n    /**\n     * Mounts an element into the dom\n     * @param domNode - Node (or selector) where we will mount the payment element\n     * @returns this - the payment element instance we mounted\n     */\n    BaseElement.prototype.mount = function (domNode) {\n        var node = typeof domNode === 'string' ? document.querySelector(domNode) : domNode;\n        if (!node) {\n            throw new Error('Component could not mount. Root node was not found.');\n        }\n        if (this._node) {\n            throw new Error('Component is already mounted.');\n        }\n        this._node = node;\n        this._component = this.render();\n        render(this._component, node);\n        if (this.props.modules && this.props.modules.analytics && !this.props.isDropin) {\n            this.props.modules.analytics.send({\n                containerWidth: this._node && this._node.offsetWidth,\n                component: this.constructor['type'],\n                flavor: 'components'\n            });\n        }\n        return this;\n    };\n    BaseElement.prototype.remount = function (component) {\n        if (!this._node) {\n            throw new Error('Component is not mounted.');\n        }\n        var newComponent = component || this.render();\n        render(newComponent, this._node, null);\n        return this;\n    };\n    /**\n     * Unmounts a payment element from the DOM\n     */\n    BaseElement.prototype.unmount = function () {\n        if (this._node) {\n            render(null, this._node);\n        }\n    };\n    BaseElement.defaultProps = {};\n    return BaseElement;\n}());\nexport default BaseElement;\n","/**\n * FALLBACK_CONTEXT\n */\nexport var FALLBACK_CONTEXT = 'https://checkoutshopper-live.adyen.com/checkoutshopper/';\nexport default {\n    FALLBACK_CONTEXT: FALLBACK_CONTEXT\n};\n","import { __assign, __rest } from \"tslib\";\nimport { FALLBACK_CONTEXT } from '../core/config';\nvar returnImage = function (_a) {\n    var name = _a.name, loadingContext = _a.loadingContext, _b = _a.imageFolder, imageFolder = _b === void 0 ? '' : _b, _c = _a.parentFolder, parentFolder = _c === void 0 ? '' : _c, extension = _a.extension, _d = _a.size, size = _d === void 0 ? '' : _d, _e = _a.subFolder, subFolder = _e === void 0 ? '' : _e;\n    return loadingContext + \"images/\" + imageFolder + subFolder + parentFolder + name + size + \".\" + extension;\n};\nexport var getImageUrl = function (_a) {\n    var _b = _a.loadingContext, loadingContext = _b === void 0 ? FALLBACK_CONTEXT : _b, _c = _a.extension, extension = _c === void 0 ? 'svg' : _c, _d = _a.size, size = _d === void 0 ? '3x' : _d, options = __rest(_a, [\"loadingContext\", \"extension\", \"size\"]);\n    return function (name) {\n        var imageOptions = __assign({ extension: extension,\n            loadingContext: loadingContext, imageFolder: 'logos/', parentFolder: '', name: name }, options);\n        if (extension !== 'svg') {\n            return returnImage(__assign({ size: \"@\" + size, subFolder: 'small/' }, imageOptions));\n        }\n        return returnImage(imageOptions);\n    };\n};\nexport default getImageUrl;\n","import { h } from 'preact';\nimport './Spinner.scss';\n/**\n * Default Loading Spinner\n * @param props -\n */\nvar Spinner = function (_a) {\n    var _b = _a.inline, inline = _b === void 0 ? false : _b, _c = _a.size, size = _c === void 0 ? 'large' : _c;\n    return (h(\"div\", { className: \"adyen-checkout__spinner__wrapper \" + (inline ? 'adyen-checkout__spinner__wrapper--inline' : '') },\n        h(\"div\", { className: \"adyen-checkout__spinner adyen-checkout__spinner--\" + size })));\n};\nexport default Spinner;\n","import { createContext } from 'preact';\nimport Language from '../../language/Language';\nexport var CoreContext = createContext({ i18n: new Language(), loadingContext: '' });\n","import { useContext } from 'preact/hooks';\nimport { CoreContext } from './CoreContext';\nfunction useCoreContext() {\n    return useContext(CoreContext);\n}\nexport default useCoreContext;\n","import { __extends, __spreadArrays } from \"tslib\";\nimport { Component, h } from 'preact';\nimport classNames from 'classnames';\nimport Spinner from '../Spinner';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport './Button.scss';\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    function Button() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onClick = function (e) {\n            e.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onClick(e, { complete: _this.complete });\n            }\n        };\n        _this.complete = function (delay) {\n            if (delay === void 0) { delay = 1000; }\n            _this.setState({ completed: true });\n            setTimeout(function () {\n                _this.setState({ completed: false });\n            }, delay);\n        };\n        return _this;\n    }\n    Button.prototype.render = function (_a, _b) {\n        var _c = _a.classNameModifiers, classNameModifiers = _c === void 0 ? [] : _c, disabled = _a.disabled, href = _a.href, icon = _a.icon, secondary = _a.secondary, inline = _a.inline, label = _a.label, status = _a.status;\n        var completed = _b.completed;\n        var i18n = useCoreContext().i18n;\n        var buttonIcon = icon ? h(\"img\", { className: \"adyen-checkout__button__icon\", src: icon, alt: \"\", \"aria-hidden\": \"true\" }) : '';\n        var modifiers = __spreadArrays(classNameModifiers, (inline ? ['inline'] : []), (completed ? ['completed'] : []), (secondary ? ['secondary'] : []), (status === 'loading' || status === 'redirect' ? ['loading'] : []));\n        var buttonClasses = classNames(__spreadArrays(['adyen-checkout__button'], modifiers.map(function (m) { return \"adyen-checkout__button--\" + m; })));\n        var buttonStates = {\n            loading: h(Spinner, { size: \"medium\" }),\n            redirect: (h(\"span\", { className: \"adyen-checkout__button__content\" },\n                h(Spinner, { size: \"small\", inline: true }),\n                i18n.get('payButton.redirecting'))),\n            default: (h(\"span\", { className: \"adyen-checkout__button__content\" },\n                buttonIcon,\n                h(\"span\", { className: \"adyen-checkout__button__text\" }, label)))\n        };\n        var buttonText = buttonStates[status] || buttonStates.default;\n        if (href) {\n            return (h(\"a\", { className: buttonClasses, href: href, disabled: disabled, target: this.props.target, rel: this.props.rel }, buttonText));\n        }\n        return (h(\"button\", { className: buttonClasses, type: \"button\", disabled: disabled, onClick: this.onClick }, buttonText));\n    };\n    Button.defaultProps = {\n        status: 'default',\n        disabled: false,\n        label: '',\n        secondary: false,\n        inline: false,\n        target: '_self',\n        onClick: function () { }\n    };\n    return Button;\n}(Component));\nexport default Button;\n","import { __assign, __rest, __spreadArrays } from \"tslib\";\nimport { h } from 'preact';\nimport Button from '../Button';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nvar PayButton = function (_a) {\n    var amount = _a.amount, _b = _a.classNameModifiers, classNameModifiers = _b === void 0 ? [] : _b, label = _a.label, props = __rest(_a, [\"amount\", \"classNameModifiers\", \"label\"]);\n    var i18n = useCoreContext().i18n;\n    var isZeroAuth = amount && {}.hasOwnProperty.call(amount, 'value') && amount.value === 0;\n    var defaultLabel = isZeroAuth\n        ? i18n.get('confirmPreauthorization')\n        : i18n.get('payButton') + \" \" + (!!(amount === null || amount === void 0 ? void 0 : amount.value) && !!(amount === null || amount === void 0 ? void 0 : amount.currency) ? i18n.amount(amount.value, amount.currency) : '');\n    return h(Button, __assign({}, props, { classNameModifiers: __spreadArrays(classNameModifiers, ['pay']), label: label || defaultLabel }));\n};\nexport default PayButton;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport BaseElement from './BaseElement';\nimport getImage from '../utils/get-image';\nimport PayButton from './internal/PayButton';\nvar UIElement = /** @class */ (function (_super) {\n    __extends(UIElement, _super);\n    function UIElement(props) {\n        var _this = _super.call(this, props) || this;\n        _this.payButton = function (props) {\n            return h(PayButton, __assign({}, props, { amount: _this.props.amount, onClick: _this.submit }));\n        };\n        _this.submit = _this.submit.bind(_this);\n        _this.setState = _this.setState.bind(_this);\n        _this.onValid = _this.onValid.bind(_this);\n        _this.onComplete = _this.onComplete.bind(_this);\n        _this.handleAction = _this.handleAction.bind(_this);\n        _this.elementRef = (props && props.elementRef) || _this;\n        return _this;\n    }\n    UIElement.prototype.setState = function (newState) {\n        this.state = __assign(__assign({}, this.state), newState);\n        this.onChange();\n    };\n    UIElement.prototype.onChange = function () {\n        var isValid = this.isValid;\n        var state = { data: this.data, isValid: isValid };\n        if (this.props.onChange)\n            this.props.onChange(state, this);\n        if (isValid)\n            this.onValid();\n        return state;\n    };\n    UIElement.prototype.onValid = function () {\n        var state = { data: this.data };\n        if (this.props.onValid)\n            this.props.onValid(state, this);\n        return state;\n    };\n    UIElement.prototype.startPayment = function () {\n        return Promise.resolve(true);\n    };\n    UIElement.prototype.submit = function () {\n        var _this = this;\n        var _a = this.props, _b = _a.onError, onError = _b === void 0 ? function () { } : _b, _c = _a.onSubmit, onSubmit = _c === void 0 ? function () { } : _c;\n        this.startPayment()\n            .then(function () {\n            var _a = _this, data = _a.data, isValid = _a.isValid;\n            if (!isValid) {\n                _this.showValidation();\n                return false;\n            }\n            return onSubmit({ data: data, isValid: isValid }, _this);\n        })\n            .catch(function (error) { return onError(error); });\n    };\n    UIElement.prototype.onComplete = function (state) {\n        if (this.props.onComplete)\n            this.props.onComplete(state, this);\n    };\n    UIElement.prototype.showValidation = function () {\n        if (this.componentRef && this.componentRef.showValidation)\n            this.componentRef.showValidation();\n        return this;\n    };\n    UIElement.prototype.setStatus = function (status) {\n        if (this.componentRef && this.componentRef.setStatus)\n            this.componentRef.setStatus(status);\n        return this;\n    };\n    UIElement.prototype.handleAction = function (action) {\n        var _this = this;\n        if (!action || !action.type)\n            throw new Error('Invalid Action');\n        var paymentAction = this.props.createFromAction(action, {\n            onAdditionalDetails: function (state) { return _this.props.onAdditionalDetails(state, _this.elementRef); },\n            onError: this.props.onError // Add ref to onError in case the merchant has defined one in the component options\n        });\n        if (paymentAction) {\n            this.unmount();\n            paymentAction.mount(this._node);\n            return paymentAction;\n        }\n        return null;\n    };\n    Object.defineProperty(UIElement.prototype, \"isValid\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UIElement.prototype, \"icon\", {\n        /**\n         * Get the element icon URL for the current environment\n         */\n        get: function () {\n            return getImage({ loadingContext: this.props.loadingContext })(this.constructor['type']);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(UIElement.prototype, \"displayName\", {\n        /**\n         * Get the element displayable name\n         */\n        get: function () {\n            return this.props.name || this.constructor['type'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return UIElement;\n}(BaseElement));\nexport { UIElement };\nexport default UIElement;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nvar Iframe = /** @class */ (function (_super) {\n    __extends(Iframe, _super);\n    function Iframe() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Iframe.prototype.iframeOnLoad = function () {\n        if (this.props.callback && typeof this.props.callback === 'function') {\n            this.props.callback(this.iframeEl.contentWindow);\n        }\n    };\n    Iframe.prototype.componentDidMount = function () {\n        if (this.iframeEl.addEventListener) {\n            this.iframeEl.addEventListener('load', this.iframeOnLoad.bind(this), false);\n        }\n        else if (this.iframeEl.attachEvent) {\n            // IE fallback\n            this.iframeEl.attachEvent('onload', this.iframeOnLoad.bind(this));\n        }\n        else {\n            this.iframeEl.onload = this.iframeOnLoad.bind(this);\n        }\n    };\n    Iframe.prototype.componentWillUnmount = function () {\n        if (this.iframeEl.removeEventListener) {\n            this.iframeEl.removeEventListener('load', this.iframeOnLoad.bind(this), false);\n        }\n        else if (this.iframeEl.detachEvent) {\n            // IE fallback\n            this.iframeEl.detachEvent('onload', this.iframeOnLoad.bind(this));\n        }\n        else {\n            this.iframeEl.onload = null;\n        }\n    };\n    Iframe.prototype.render = function (_a) {\n        var _this = this;\n        var name = _a.name, src = _a.src, width = _a.width, height = _a.height, minWidth = _a.minWidth, minHeight = _a.minHeight, border = _a.border, allow = _a.allow, title = _a.title;\n        return (h(\"iframe\", { ref: function (ref) {\n                _this.iframeEl = ref;\n            }, \n            /*\n            // @ts-ignore */\n            allow: allow, className: \"adyen-checkout__iframe adyen-checkout__iframe--\" + name, name: name, src: src, width: width, height: height, \"min-width\": minWidth, \"min-heigth\": minHeight, border: border, style: { border: 0 }, frameBorder: \"0\", title: title, referrerpolicy: \"origin\" }));\n    };\n    Iframe.defaultProps = {\n        width: '0',\n        height: '0',\n        minWidth: '0',\n        minHeight: '0',\n        border: '0',\n        src: null,\n        allow: null,\n        title: 'components iframe'\n    };\n    return Iframe;\n}(Component));\nexport default Iframe;\n","/**\n * Tests if a passed promise settles before a certain amount of time has elapsed\n *\n * @param ms - number of milliseconds the passed promise has to settle\n * @param promise - the passed promise\n * @param timeOutObject - the object that the promiseTimeout will reject with if the passed promise doesn't settle in time\n */\nvar promiseTimeout = function (ms, promise, timeOutObject) {\n    var timer;\n    var promiseTimer = new Promise(function (resolve, reject) {\n        // Create a timeout to reject promise if not resolved\n        /* eslint-disable-next-line */\n        timer = setTimeout(function () {\n            reject(timeOutObject);\n        }, ms);\n        promise\n            .then(function (res) {\n            clearTimeout(timer);\n            resolve(res);\n        })\n            .catch(function (err) {\n            clearTimeout(timer);\n            reject(err);\n        });\n    });\n    var cancelTimer = function () {\n        clearTimeout(timer);\n    };\n    return {\n        promise: promiseTimer,\n        cancel: cancelTimer\n    };\n};\nexport default promiseTimeout;\n","export var RISK_DATA_VERSION = '1.0.0';\nexport var DF_VERSION = '1.0.0';\nexport var DEVICE_FINGERPRINT = 'deviceFingerprint';\nexport var DF_TIMEOUT = 20000;\nexport var FAILED_DFP_RESOLVE_OBJECT_TIMEOUT = {\n    result: {\n        type: DEVICE_FINGERPRINT,\n        value: 'df-timedOut'\n    },\n    errorCode: 'timeout'\n};\nexport var FAILED_DFP_RESOLVE_OBJECT = {\n    result: {\n        type: DEVICE_FINGERPRINT,\n        value: 'df-failed'\n    }\n};\nexport var ERRORS = {\n    TIME_OUT: 'timeout',\n    WRONG_ORIGIN: 'wrongOrigin',\n    WRONG_DATA_TYPE: 'wrongDataType',\n    MISSING_PROPERTY: 'missingProperty',\n    UNKNOWN: 'unknownError'\n};\nexport var ERROR_MESSAGES = {\n    timeout: 'iframe loading timed out',\n    wrongOrigin: 'Result did not come from the expected origin',\n    wrongDataType: 'Result data was not of the expected type',\n    missingProperty: 'Result data did not contain the expected properties',\n    unknownError: 'An unknown error occurred'\n};\n","import { __assign } from \"tslib\";\n/**\n * Centralised window.postMessage processing function used in 3DS2 components\n *\n * @param domain - expected domain for the postMesssage to have originated from\n * @param resolve - the resolve function from the Promise that called this function\n * @param reject - the reject function from the Promise that called this function\n * @param rejectObj - an object to reject the promise with if origins don't match\n * @param expectedType - string to check that the passed data has the expected type\n */\nvar getProcessMessageHandler = function (domain, resolve, reject, rejectObj, expectedType) { return function (event) {\n    var clonedRejectObj = __assign({}, rejectObj);\n    var origin = event.origin || event.originalEvent.origin;\n    if (origin !== domain) {\n        return 'Message was not sent from the expected domain';\n    }\n    if (typeof event.data !== 'string') {\n        return 'Event data was not of type string';\n    }\n    if (!event.data.length) {\n        return 'Invalid event data string';\n    }\n    // Try to parse the data\n    try {\n        var feedbackObj = JSON.parse(event.data);\n        if (Object.prototype.hasOwnProperty.call(feedbackObj, 'type') && feedbackObj.type === expectedType) {\n            resolve(feedbackObj);\n        }\n        else {\n            return 'Event data was not of expected type';\n        }\n    }\n    catch (e) {\n        reject(clonedRejectObj);\n        return false;\n    }\n    return true;\n}; };\nexport default getProcessMessageHandler;\n","/**\n *  Used to retrieve the origin from a url\n *\n *  @remarks\n *  Uses a regex to get origin (can't handle localhost origins)\n *\n *  @param url - URL\n *  @returns The origin of the url\n */\nexport var getOrigin = function (url) {\n    var originRegex = /^(?:([A-Za-z]+):)?(\\/{0,3})([0-9.\\-A-Za-z]+)(?::(\\d+))?(?:\\/([^?#]*))?(?:\\?([^#]*))?(?:#(.*))?$/;\n    var matches = originRegex.exec(url);\n    if (!matches)\n        return null;\n    var protocol = matches[1], separator = matches[2], host = matches[3], port = matches[4];\n    if (!protocol || !separator || !host)\n        return null;\n    return protocol + \":\" + separator + host + (port ? \":\" + port : '');\n};\nexport default getOrigin;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport Iframe from '../../../../components/internal/IFrame';\nimport promiseTimeout from '../../../../utils/promiseTimeout';\nimport { DEVICE_FINGERPRINT, DF_TIMEOUT, FAILED_DFP_RESOLVE_OBJECT, FAILED_DFP_RESOLVE_OBJECT_TIMEOUT } from '../../constants';\nimport getProcessMessageHandler from '../../../../utils/get-process-message-handler';\nimport { getOrigin } from '../../../../utils/getOrigin';\nvar iframeName = 'dfIframe';\nvar allowProperties = 'geolocation; microphone; camera;';\nvar GetDeviceFingerprint = /** @class */ (function (_super) {\n    __extends(GetDeviceFingerprint, _super);\n    function GetDeviceFingerprint(props) {\n        var _this = _super.call(this, props) || this;\n        _this.postMessageDomain = getOrigin(_this.props.loadingContext) || _this.props.loadingContext;\n        return _this;\n    }\n    GetDeviceFingerprint.prototype.getDfpPromise = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            /**\n             * Listen for postMessage responses from the notification url\n             */\n            _this.processMessageHandler = getProcessMessageHandler(_this.postMessageDomain, resolve, reject, FAILED_DFP_RESOLVE_OBJECT, DEVICE_FINGERPRINT);\n            /* eslint-disable-next-line */\n            window.addEventListener('message', _this.processMessageHandler);\n        });\n    };\n    GetDeviceFingerprint.prototype.componentDidMount = function () {\n        var _this = this;\n        // Get device fingerprint\n        this.deviceFingerPrintPromise = promiseTimeout(DF_TIMEOUT, this.getDfpPromise(), FAILED_DFP_RESOLVE_OBJECT_TIMEOUT);\n        this.deviceFingerPrintPromise.promise\n            .then(function (resolveObject) {\n            _this.props.onCompleteFingerprint(resolveObject);\n            window.removeEventListener('message', _this.processMessageHandler);\n        })\n            .catch(function (rejectObject) {\n            _this.props.onErrorFingerprint(rejectObject);\n            window.removeEventListener('message', _this.processMessageHandler);\n        });\n    };\n    GetDeviceFingerprint.prototype.render = function (_a) {\n        var dfpURL = _a.dfpURL;\n        return (h(\"div\", { className: \"adyen-checkout-risk__device-fingerprint\" },\n            h(Iframe, { name: iframeName, src: dfpURL, allow: allowProperties, title: \"devicefingerprinting iframe\" })));\n    };\n    return GetDeviceFingerprint;\n}(Component));\nexport default GetDeviceFingerprint;\n","import { ERRORS, ERROR_MESSAGES, DEVICE_FINGERPRINT } from '../../constants';\nvar handleErrorCode = function (errorCode) { return ({\n    errorCode: errorCode,\n    message: ERROR_MESSAGES[errorCode] || ERROR_MESSAGES[ERRORS.UNKNOWN],\n    type: DEVICE_FINGERPRINT\n}); };\nexport default handleErrorCode;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport GetDeviceFingerprint from './GetDeviceFingerprint';\nimport handleErrorCode from './utils';\nimport { DF_VERSION } from '../../constants';\nvar DeviceFingerprint = /** @class */ (function (_super) {\n    __extends(DeviceFingerprint, _super);\n    function DeviceFingerprint(props) {\n        var _this = _super.call(this, props) || this;\n        var accessKey = props.clientKey || props.originKey;\n        if (accessKey) {\n            _this.state = {\n                status: 'retrievingFingerPrint',\n                dfpURL: _this.props.loadingContext + \"assets/html/\" + accessKey + \"/dfp.\" + DF_VERSION + \".html\"\n            };\n        }\n        return _this;\n    }\n    DeviceFingerprint.prototype.setStatusComplete = function (fingerprintResult) {\n        var _this = this;\n        this.setState({ status: 'complete' }, function () {\n            _this.props.onComplete(fingerprintResult);\n        });\n    };\n    DeviceFingerprint.prototype.render = function (_a, _b) {\n        var _this = this;\n        var loadingContext = _a.loadingContext;\n        var dfpURL = _b.dfpURL;\n        if (this.state.status === 'retrievingFingerPrint') {\n            return (h(\"div\", { className: \"adyen-checkout-risk__device-fingerprint--wrapper\", style: { position: 'absolute', width: 0, height: 0 } },\n                h(GetDeviceFingerprint, { loadingContext: loadingContext, dfpURL: dfpURL, onCompleteFingerprint: function (fingerprintResult) {\n                        _this.setStatusComplete(fingerprintResult);\n                    }, onErrorFingerprint: function (fingerprintError) {\n                        _this.props.onError(handleErrorCode(fingerprintError.errorCode));\n                        _this.setStatusComplete(fingerprintError.result);\n                    } })));\n        }\n        return null;\n    };\n    DeviceFingerprint.defaultProps = {\n        onComplete: function () { },\n        onError: function () { }\n    };\n    return DeviceFingerprint;\n}(Component));\nexport default DeviceFingerprint;\n","var checkedAtob = window.atob;\nvar checkedBtoa = window.btoa;\nvar b64DecodeUnicode = function (str) {\n    /**\n     * The \"Unicode Problem\" Since DOMStrings are 16-bit-encoded strings:\n     * In most browsers calling window.btoa on a Unicode string will cause\n     * a Character Out Of Range exception if a character exceeds the range\n     * of a 8-bit ASCII-encoded character.\n     * This method solves the problem\n     */\n    return decodeURIComponent(Array.prototype.map.call(checkedAtob(str), function (c) { return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2); }).join(''));\n};\n/**\n * @internal\n */\nvar base64 = {\n    decode: function (pData) {\n        if (!base64.isBase64(pData)) {\n            return false;\n        }\n        if (base64.isBase64(pData)) {\n            return b64DecodeUnicode(pData);\n        }\n        return false;\n    },\n    encode: function (pData) { return checkedBtoa(pData); },\n    isBase64: function (pDataStr) {\n        if (!pDataStr) {\n            return false;\n        }\n        if (pDataStr.length % 4) {\n            return false;\n        }\n        return checkedBtoa(checkedAtob(pDataStr)) === pDataStr;\n    }\n};\nexport default base64;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport BaseElement from '../../components/BaseElement';\nimport DeviceFingerprint from './components/DeviceFingerprint';\nimport base64 from '../../utils/base64';\nimport { RISK_DATA_VERSION, DEVICE_FINGERPRINT } from './constants';\nvar RiskElement = /** @class */ (function (_super) {\n    __extends(RiskElement, _super);\n    function RiskElement(props) {\n        var _a;\n        var _this = _super.call(this, props) || this;\n        _this.nodeRiskContainer = null;\n        _this.onComplete = function (result) {\n            var _a;\n            var data = __assign(__assign({}, _this.state.data), (_a = {}, _a[result.type] = result.value, _a.persistentCookie = result.persistentCookie, _a.components = result.components, _a));\n            _this.setState({ data: data, isValid: true });\n            _this.props.risk.onComplete(_this.data);\n            _this.cleanUp();\n        };\n        _this.onError = function (error) {\n            _this.props.risk.onError(error);\n            _this.cleanUp();\n        };\n        _this.cleanUp = function () {\n            if (_this.nodeRiskContainer)\n                _this.nodeRiskContainer.remove();\n        };\n        // Populate state with null values\n        var riskElements = (_a = {},\n            _a[DEVICE_FINGERPRINT] = null,\n            _a);\n        _this.setState({ data: riskElements });\n        if (_this.props.risk.enabled === true) {\n            if (document.querySelector(_this.props.risk.node)) {\n                _this.nodeRiskContainer = document.createElement('div');\n                document.querySelector(_this.props.risk.node).appendChild(_this.nodeRiskContainer);\n                _this.mount(_this.nodeRiskContainer);\n            }\n            else {\n                _this.onError({ message: 'RiskModule node was not found' });\n            }\n        }\n        return _this;\n    }\n    RiskElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, props), { risk: __assign(__assign({}, RiskElement.defaultProps.risk), props.risk) });\n    };\n    Object.defineProperty(RiskElement.prototype, \"isValid\", {\n        get: function () {\n            return this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RiskElement.prototype, \"data\", {\n        get: function () {\n            if (this.isValid) {\n                var dataObj = __assign({ version: RISK_DATA_VERSION }, this.state.data);\n                return base64.encode(JSON.stringify(dataObj));\n            }\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RiskElement.prototype.componentWillUnmount = function () {\n        this.cleanUp();\n    };\n    RiskElement.prototype.render = function () {\n        return h(DeviceFingerprint, __assign({}, this.props, { loadingContext: this.props.loadingContext, onComplete: this.onComplete, onError: this.onError }));\n    };\n    RiskElement.type = 'risk';\n    RiskElement.defaultProps = {\n        risk: {\n            enabled: true,\n            onComplete: function () { },\n            onError: function () { },\n            node: 'body'\n        }\n    };\n    return RiskElement;\n}(BaseElement));\nexport default RiskElement;\n","import { __spreadArrays } from \"tslib\";\nimport { h } from 'preact';\nimport cx from 'classnames';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport './Fieldset.scss';\nexport default function Fieldset(_a) {\n    var children = _a.children, _b = _a.classNameModifiers, classNameModifiers = _b === void 0 ? [] : _b, label = _a.label, _c = _a.readonly, readonly = _c === void 0 ? false : _c;\n    var i18n = useCoreContext().i18n;\n    return (h(\"div\", { className: cx(__spreadArrays([\n            'adyen-checkout__fieldset'\n        ], classNameModifiers.map(function (m) { return \"adyen-checkout__fieldset--\" + m; }), [\n            { 'adyen-checkout__fieldset--readonly': readonly }\n        ])) },\n        label && h(\"div\", { className: \"adyen-checkout__fieldset__title\" }, i18n.get(label)),\n        h(\"div\", { className: \"adyen-checkout__fieldset__fields\" }, children)));\n}\n","import { h } from 'preact';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport getImageUrl from '../../../utils/get-image';\nvar Icon = function (_a) {\n    var type = _a.type;\n    var loadingContext = useCoreContext().loadingContext;\n    var iconUrl = getImageUrl({ loadingContext: loadingContext, imageFolder: 'components/' })(type);\n    return h(\"img\", { className: \"adyen-checkout__icon\", alt: type, src: iconUrl });\n};\nexport default Icon;\n","import { __extends, __spreadArrays } from \"tslib\";\nimport { Component, cloneElement, toChildArray, h } from 'preact';\nimport classNames from 'classnames';\nimport './Field.scss';\nimport Spinner from '../../Spinner';\nimport Icon from '../../Icon';\nvar Field = /** @class */ (function (_super) {\n    __extends(Field, _super);\n    function Field(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { focused: false };\n        _this.onFocus = _this.onFocus.bind(_this);\n        _this.onBlur = _this.onBlur.bind(_this);\n        return _this;\n    }\n    Field.prototype.onFocus = function (e) {\n        var _this = this;\n        this.setState({ focused: true }, function () {\n            if (_this.props.onFocus)\n                _this.props.onFocus(e);\n        });\n    };\n    Field.prototype.onBlur = function (e) {\n        var _this = this;\n        this.setState({ focused: false }, function () {\n            if (_this.props.onBlur)\n                _this.props.onBlur(e);\n            // When we also need to fire a specific function when a field blurs\n            if (_this.props.onFieldBlur)\n                _this.props.onFieldBlur(e);\n        });\n    };\n    Field.getDerivedStateFromProps = function (nextProps, prevState) {\n        if (nextProps.focused !== undefined && nextProps.focused !== prevState.focused) {\n            return { focused: nextProps.focused };\n        }\n        if (nextProps.filled !== undefined && nextProps.filled !== prevState.filled) {\n            return { filled: nextProps.filled };\n        }\n        return null;\n    };\n    Field.prototype.render = function (_a) {\n        var _this = this;\n        var _b = _a.className, className = _b === void 0 ? '' : _b, _c = _a.classNameModifiers, classNameModifiers = _c === void 0 ? [] : _c, children = _a.children, errorMessage = _a.errorMessage, helper = _a.helper, _d = _a.inputWrapperModifiers, inputWrapperModifiers = _d === void 0 ? [] : _d, isLoading = _a.isLoading, isValid = _a.isValid, label = _a.label, dualBrandingElements = _a.dualBrandingElements;\n        return (h(\"div\", { className: classNames('adyen-checkout__field', className, classNameModifiers.map(function (m) { return \"adyen-checkout__field--\" + m; }), {\n                'adyen-checkout__field--error': errorMessage,\n                'adyen-checkout__field--valid': isValid\n            }) },\n            h(\"label\", { onClick: this.props.onFocusField, className: classNames({\n                    'adyen-checkout__label': true,\n                    'adyen-checkout__label--focused': this.state.focused,\n                    'adyen-checkout__label--filled': this.state.filled,\n                    'adyen-checkout__label--disabled': this.props.disabled\n                }) },\n                typeof label === 'string' && (h(\"span\", { className: classNames({\n                        'adyen-checkout__label__text': true,\n                        'adyen-checkout__label__text--error': errorMessage\n                    }) }, label)),\n                typeof label === 'function' && label(),\n                helper && h(\"span\", { className: 'adyen-checkout__helper-text' }, helper),\n                h(\"div\", { className: classNames(__spreadArrays([\n                        'adyen-checkout__input-wrapper'\n                    ], inputWrapperModifiers.map(function (m) { return \"adyen-checkout__input-wrapper--\" + m; }))) },\n                    toChildArray(children).map(function (child) {\n                        var childProps = { isValid: isValid, onFocus: _this.onFocus, onBlur: _this.onBlur, isInvalid: !!errorMessage };\n                        return cloneElement(child, childProps);\n                    }),\n                    isLoading && (h(\"span\", { className: \"adyen-checkout-input__inline-validation adyen-checkout-input__inline-validation--loading\" },\n                        h(Spinner, { size: \"small\" }))),\n                    isValid && !dualBrandingElements && (h(\"span\", { className: \"adyen-checkout-input__inline-validation adyen-checkout-input__inline-validation--valid\" },\n                        h(Icon, { type: \"checkmark\" }))),\n                    errorMessage && (h(\"span\", { className: \"adyen-checkout-input__inline-validation adyen-checkout-input__inline-validation--invalid\" },\n                        h(Icon, { type: \"field_error\" })))),\n                errorMessage && errorMessage.length && (h(\"span\", { className: 'adyen-checkout__error-text', \"aria-live\": \"polite\" }, errorMessage)))));\n    };\n    return Field;\n}(Component));\nexport default Field;\n","import { h } from 'preact';\nimport Fieldset from '../FormFields/Fieldset';\nvar ReadOnlyCompanyDetails = function (_a) {\n    var data = _a.data;\n    var name = data.name, registrationNumber = data.registrationNumber;\n    return (h(Fieldset, { classNameModifiers: ['companyDetails'], label: \"companyDetails\", readonly: true },\n        name && name + \" \",\n        registrationNumber && registrationNumber + \" \"));\n};\nexport default ReadOnlyCompanyDetails;\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport { convertFullToHalf } from './utils';\nexport default function InputBase(props) {\n    var autoCorrect = props.autoCorrect, classNameModifiers = props.classNameModifiers, isInvalid = props.isInvalid, isValid = props.isValid, _a = props.readonly, readonly = _a === void 0 ? null : _a, spellCheck = props.spellCheck, type = props.type;\n    var handleInput = function (e) {\n        e.target.value = convertFullToHalf(e.target.value);\n        props.onInput(e);\n    };\n    var inputClassNames = classNames('adyen-checkout__input', [\"adyen-checkout__input--\" + type], props.className, {\n        'adyen-checkout__input--invalid': isInvalid,\n        'adyen-checkout__input--valid': isValid\n    }, classNameModifiers.map(function (m) { return \"adyen-checkout__input--\" + m; }));\n    return (h(\"input\", __assign({}, props, { type: type, className: inputClassNames, onInput: handleInput, readOnly: readonly, spellCheck: spellCheck, autoCorrect: autoCorrect })));\n}\nInputBase.defaultProps = {\n    type: 'text',\n    classNameModifiers: []\n};\n","var convertFullToHalf = function (str) { return str.replace(/[-]/g, function (r) { return String.fromCharCode(r.charCodeAt(0) - 0xfee0); }); };\nexport { convertFullToHalf };\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport InputBase from './InputBase';\nexport default function InputText(props) {\n    return h(InputBase, __assign({ classNameModifiers: ['large'] }, props, { type: \"text\" }));\n}\n","/**\n * Returns either the date input is supported or not in the current browser\n */\nvar checkDateInputSupport = function () {\n    var input = document.createElement('input');\n    input.setAttribute('type', 'date');\n    return input.type === 'date';\n};\n/**\n * Returns a formatted date\n * @param value -\n * @example\n * formatDate('22111990');\n * // '22/11/1990'\n */\nvar formatDate = function (value) {\n    var date = value\n        .replace(/\\D|\\s/g, '') // Digits only\n        .replace(/^(00)(.*)?/, '01$2') // 00 -> 01\n        .replace(/^(3[2-9])(.*)?/, '0$1$2') // 34 -> 03/04\n        .replace(/^([4-9])(.*)?/, '0$1') // 4 -> 04\n        .replace(/^([0-9]{2})(00)(.*)?/, '$101') // 01/00 -> 01/01\n        .replace(/^(3[01])(02)(.*)?/, '29$2') // Force up to day 29 for Feb\n        .replace(/^([0-9]{2})([2-9]|1[3-9])(.*)?/, '$10$2') // 01/4 -> 01/04\n        .replace(/^([0-9]{2})([0-9]{2})([0-9])/, '$1/$2/$3') // 22111990 -> 22/11/1990\n        .replace(/^([0-9]{2})([0-9])/, '$1/$2'); // 2211 -> 22/11\n    var _a = date.split('/'), _b = _a[0], day = _b === void 0 ? '' : _b, _c = _a[1], month = _c === void 0 ? '' : _c, _d = _a[2], year = _d === void 0 ? '' : _d;\n    // Check leap year\n    if (year.length === 4 && day === '29' && month === '02' && (Number(year) % 4 !== 0 || (year.substr(2, 2) === '00' && Number(year) % 400 !== 0))) {\n        return date.replace(/^29/, '28');\n    }\n    return date;\n};\n/**\n * Receives a formatted date and returns it as the API expects it\n * @param value -\n * @example\n * unformatDate('22/11/1990');\n * // '1990-11-22'\n */\nvar unformatDate = function (value) {\n    if (value === void 0) { value = ''; }\n    if (value.indexOf('/') === -1)\n        return value;\n    var _a = value.split('/'), _b = _a[0], day = _b === void 0 ? '' : _b, _c = _a[1], month = _c === void 0 ? '' : _c, _d = _a[2], year = _d === void 0 ? '' : _d;\n    if (!day || !month || !year)\n        return null;\n    return year + \"-\" + month + \"-\" + day;\n};\nexport { checkDateInputSupport, formatDate, unformatDate };\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport InputBase from '../InputBase';\nimport { checkDateInputSupport, formatDate } from './utils';\nexport default function InputDate(props) {\n    var isDateInputSupported = useMemo(checkDateInputSupport, []);\n    var handleInput = function (e) {\n        var value = e.target.value;\n        e.target.value = formatDate(value);\n        props.onInput(e);\n    };\n    if (isDateInputSupported) {\n        return h(InputBase, __assign({}, props, { type: \"date\" }));\n    }\n    return h(InputBase, __assign({}, props, { onInput: handleInput, maxLength: 10 }));\n}\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport InputBase from './InputBase';\nexport default function InputTelephone(props) {\n    return h(InputBase, __assign({}, props, { type: \"tel\" }));\n}\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport InputBase from './InputBase';\nexport default function InputEmail(props) {\n    return h(InputBase, __assign({}, props, { type: \"email\", autoCapitalize: \"off\" }));\n}\n","import { h } from 'preact';\nimport cx from 'classnames';\nimport './RadioGroup.scss';\nexport default function RadioGroup(props) {\n    var items = props.items, i18n = props.i18n, onChange = props.onChange, value = props.value, isInvalid = props.isInvalid;\n    return (h(\"div\", { className: \"adyen-checkout__radio_group\" }, items.map(function (item) { return (h(\"label\", { key: item.id, className: \"adyen-checkout__radio_group__input-wrapper\" },\n        h(\"input\", { type: \"radio\", checked: value === item.id, className: \"adyen-checkout__radio_group__input\", onChange: onChange, onClick: onChange, value: item.id }),\n        h(\"span\", { className: cx([\n                'adyen-checkout__label__text',\n                'adyen-checkout__radio_group__label',\n                props.className,\n                { 'adyen-checkout__radio_group__label--invalid': isInvalid }\n            ]) }, i18n.get(item.name)))); })));\n}\nRadioGroup.defaultProps = {\n    onChange: function () { },\n    items: []\n};\n","import { __assign, __rest } from \"tslib\";\nimport { h } from 'preact';\nimport cx from 'classnames';\nimport './Checkbox.scss';\nexport default function Checkbox(_a) {\n    var _b = _a.classNameModifiers, classNameModifiers = _b === void 0 ? [] : _b, label = _a.label, isInvalid = _a.isInvalid, onChange = _a.onChange, props = __rest(_a, [\"classNameModifiers\", \"label\", \"isInvalid\", \"onChange\"]);\n    return (h(\"label\", { className: \"adyen-checkout__checkbox\" },\n        h(\"input\", __assign({}, props, { className: cx([\n                'adyen-checkout__checkbox__input',\n                [props.className],\n                { 'adyen-checkout__checkbox__input--invalid': isInvalid },\n                classNameModifiers.map(function (m) { return \"adyen-checkout__input--\" + m; })\n            ]), type: \"checkbox\", onChange: onChange })),\n        h(\"span\", { className: \"adyen-checkout__checkbox__label\" }, label)));\n}\nCheckbox.defaultProps = {\n    onChange: function () { }\n};\n","import { __extends, __spreadArrays } from \"tslib\";\nimport { Component, h } from 'preact';\nimport cx from 'classnames';\nimport styles from './Select.module.scss';\nimport './Select.scss';\nvar Select = /** @class */ (function (_super) {\n    __extends(Select, _super);\n    function Select(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            toggleDropdown: false\n        };\n        _this.toggle = _this.toggle.bind(_this);\n        _this.select = _this.select.bind(_this);\n        _this.closeDropdown = _this.closeDropdown.bind(_this);\n        _this.handleButtonKeyDown = _this.handleButtonKeyDown.bind(_this);\n        _this.handleClickOutside = _this.handleClickOutside.bind(_this);\n        _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n        _this.handleOnError = _this.handleOnError.bind(_this);\n        return _this;\n    }\n    Select.prototype.componentDidMount = function () {\n        document.addEventListener('click', this.handleClickOutside, false);\n    };\n    Select.prototype.componentWillUnmount = function () {\n        document.removeEventListener('click', this.handleClickOutside, false);\n    };\n    Select.prototype.handleClickOutside = function (e) {\n        if (!this.selectContainer.contains(e.target)) {\n            this.setState({ toggleDropdown: false });\n        }\n    };\n    Select.prototype.toggle = function (e) {\n        e.preventDefault();\n        this.setState({ toggleDropdown: !this.state.toggleDropdown });\n    };\n    Select.prototype.select = function (e) {\n        e.preventDefault();\n        this.closeDropdown();\n        this.props.onChange(e);\n    };\n    /**\n     * Closes the dropdown and focuses the button element\n     */\n    Select.prototype.closeDropdown = function () {\n        var _this = this;\n        this.setState({ toggleDropdown: false }, function () { return _this.toggleButton.focus(); });\n    };\n    /**\n     * Handle keyDown events on the adyen-checkout__dropdown__element\n     * Navigates through the list, or select an element, or close the menu.\n     * @param e - KeyDownEvent\n     */\n    Select.prototype.handleKeyDown = function (e) {\n        switch (e.key) {\n            case 'Escape':\n                e.preventDefault();\n                this.setState({ toggleDropdown: false });\n                break;\n            case ' ': // space\n            case 'Enter':\n                this.select(e);\n                break;\n            case 'ArrowDown':\n                e.preventDefault();\n                if (e.target.nextElementSibling)\n                    e.target.nextElementSibling.focus();\n                break;\n            case 'ArrowUp':\n                e.preventDefault();\n                if (e.target.previousElementSibling)\n                    e.target.previousElementSibling.focus();\n                break;\n            default:\n        }\n    };\n    /**\n     * Handle keyDown events on the adyen-checkout__dropdown__button\n     * Opens the dropdownList and focuses the first element if available\n     * @param e - KeyDownEvent\n     */\n    Select.prototype.handleButtonKeyDown = function (e) {\n        var _a;\n        switch (e.key) {\n            case 'ArrowUp':\n            case 'ArrowDown':\n            case ' ': // space\n            case 'Enter':\n                e.preventDefault();\n                this.setState({ toggleDropdown: true });\n                if ((_a = this.dropdownList) === null || _a === void 0 ? void 0 : _a.firstElementChild) {\n                    this.dropdownList.firstElementChild.focus();\n                }\n                break;\n            default:\n        }\n    };\n    Select.prototype.handleOnError = function (e) {\n        e.target.style.cssText = 'display: none';\n    };\n    Select.prototype.render = function (_a, _b) {\n        var _c, _d;\n        var _this = this;\n        var _e = _a.className, className = _e === void 0 ? '' : _e, _f = _a.classNameModifiers, classNameModifiers = _f === void 0 ? [] : _f, isInvalid = _a.isInvalid, _g = _a.items, items = _g === void 0 ? [] : _g, placeholder = _a.placeholder, readonly = _a.readonly, selected = _a.selected;\n        var toggleDropdown = _b.toggleDropdown;\n        var active = items.find(function (i) { return i.id === selected; }) || {};\n        return (h(\"div\", { className: cx(__spreadArrays([\n                'adyen-checkout__dropdown',\n                styles['adyen-checkout__dropdown'],\n                className\n            ], classNameModifiers.map(function (m) { return \"adyen-checkout__dropdown--\" + m; }))), ref: function (ref) {\n                _this.selectContainer = ref;\n            } },\n            h(\"button\", { type: \"button\", className: cx([\n                    'adyen-checkout__dropdown__button',\n                    styles['adyen-checkout__dropdown__button'],\n                    (_c = {\n                            'adyen-checkout__dropdown__button--readonly': readonly,\n                            'adyen-checkout__dropdown__button--active': toggleDropdown\n                        },\n                        _c[styles['adyen-checkout__dropdown__button--active']] = toggleDropdown,\n                        _c['adyen-checkout__dropdown__button--invalid'] = isInvalid,\n                        _c)\n                ]), onClick: !readonly ? this.toggle : undefined, onKeyDown: !readonly ? this.handleButtonKeyDown : undefined, tabIndex: 0, title: active.name || placeholder, \"aria-haspopup\": \"listbox\", \"aria-expanded\": toggleDropdown, \"aria-disabled\": readonly, ref: function (ref) {\n                    _this.toggleButton = ref;\n                } },\n                h(\"span\", { className: \"adyen-checkout__dropdown__button__text\" }, active.selectedOptionName || active.name || placeholder),\n                active.icon && (h(\"img\", { className: \"adyen-checkout__dropdown__button__icon\", src: active.icon, alt: active.name, onError: this.handleOnError }))),\n            h(\"ul\", { role: \"listbox\", className: cx((_d = {\n                        'adyen-checkout__dropdown__list': true\n                    },\n                    _d[styles['adyen-checkout__dropdown__list']] = true,\n                    _d['adyen-checkout__dropdown__list--active'] = toggleDropdown,\n                    _d[styles['adyen-checkout__dropdown__list--active']] = toggleDropdown,\n                    _d)), ref: function (ref) {\n                    _this.dropdownList = ref;\n                } }, items.map(function (item) { return (h(\"li\", { key: item.id, role: \"option\", tabIndex: -1, \"aria-selected\": item.id === active.id, className: cx([\n                    'adyen-checkout__dropdown__element',\n                    styles['adyen-checkout__dropdown__element'],\n                    { 'adyen-checkout__dropdown__element--active': item.id === active.id }\n                ]), \"data-value\": item.id, onClick: _this.select, onKeyDown: _this.handleKeyDown },\n                h(\"span\", null, item.name),\n                item.icon && (h(\"img\", { className: \"adyen-checkout__dropdown__element__icon\", alt: item.name, src: item.icon, onError: _this.handleOnError })))); }))));\n    };\n    Select.defaultProps = {\n        items: [],\n        readonly: false,\n        onChange: function () { }\n    };\n    return Select;\n}(Component));\nexport default Select;\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport InputText from './InputText';\nimport InputDate from './InputDate';\nimport InputTelephone from './InputTelephone';\nimport InputEmail from './InputEmail';\nimport RadioGroup from './RadioGroup';\nimport Checkbox from './Checkbox';\nimport Select from './Select';\nimport './FormFields.scss';\nexport var renderFormField = function (type, props) {\n    var formFieldTypes = {\n        boolean: Checkbox,\n        date: InputDate,\n        emailAddress: InputEmail,\n        radio: RadioGroup,\n        select: Select,\n        tel: InputTelephone,\n        text: InputText,\n        default: InputText\n    };\n    var FormInputElement = formFieldTypes[type] || formFieldTypes.default;\n    return h(FormInputElement, __assign({}, props));\n};\nexport default renderFormField;\n","export default {\n    input: {\n        default: function () { return true; }\n    },\n    blur: {\n        shopperEmail: function (email) { return /\\S+@\\S+\\.\\S+/.test(email); },\n        default: function () { return true; }\n    }\n};\n","import { __assign } from \"tslib\";\nimport defaultRules from './defaultRules';\nvar Validator = /** @class */ (function () {\n    function Validator(rules) {\n        if (rules === void 0) { rules = {}; }\n        this.rules = defaultRules;\n        this.setRules(rules);\n    }\n    Validator.prototype.setRules = function (newRules) {\n        this.rules = {\n            input: __assign(__assign({}, (this.rules && this.rules.input)), (newRules && newRules.input)),\n            blur: __assign(__assign({}, (this.rules && this.rules.blur)), (newRules && newRules.blur))\n        };\n    };\n    Validator.prototype.validate = function (field, mode) {\n        var _this = this;\n        if (mode === void 0) { mode = 'blur'; }\n        return function (value) {\n            var fieldRule = _this.rules[mode][field] ? field : 'default';\n            return _this.rules[mode][fieldRule](value);\n        };\n    };\n    return Validator;\n}());\nexport default Validator;\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useEffect, useState } from 'preact/hooks';\nimport Fieldset from '../FormFields/Fieldset';\nimport Field from '../FormFields/Field';\nimport ReadOnlyCompanyDetails from './ReadOnlyCompanyDetails';\nimport { renderFormField } from '../FormFields';\nimport { companyDetailsValidationRules } from './validate';\nimport Validator from '../../../utils/Validator';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nvar companyDetailsSchema = ['name', 'registrationNumber'];\nexport default function CompanyDetails(props) {\n    var _a = props.label, label = _a === void 0 ? '' : _a, namePrefix = props.namePrefix, requiredFields = props.requiredFields, visibility = props.visibility, validator = props.validator;\n    var i18n = useCoreContext().i18n;\n    var _b = useState(props.data), data = _b[0], setData = _b[1];\n    var _c = useState({}), errors = _c[0], setErrors = _c[1];\n    var _d = useState({}), valid = _d[0], setValid = _d[1];\n    var eventHandler = function (mode) { return function (e) {\n        var _a = e.target, name = _a.name, value = _a.value;\n        var key = name.split(namePrefix + \".\").pop();\n        var _b = validator.validate(key, mode)(value), isValid = _b.isValid, errorMessage = _b.errorMessage;\n        setData(function (prevData) {\n            var _a;\n            return (__assign(__assign({}, prevData), (_a = {}, _a[key] = value, _a)));\n        });\n        setValid(function (prevValid) {\n            var _a;\n            return (__assign(__assign({}, prevValid), (_a = {}, _a[key] = isValid, _a)));\n        });\n        setErrors(function (prevErrors) {\n            var _a;\n            return (__assign(__assign({}, prevErrors), (_a = {}, _a[key] = !isValid && errorMessage, _a)));\n        });\n    }; };\n    var generateFieldName = function (name) { return \"\" + (namePrefix ? namePrefix + \".\" : '') + name; };\n    useEffect(function () {\n        var isValid = requiredFields.every(function (field) { return validator.validate(field, 'blur')(data[field]).isValid; });\n        props.onChange({ data: data, isValid: isValid });\n    }, [data, valid, errors]);\n    this.showValidation = function () {\n        var errorsReducer = function (acc, field) {\n            var _a = validator.validate(field, 'blur')(data[field]), isValid = _a.isValid, errorMessage = _a.errorMessage;\n            acc[field] = !isValid && errorMessage;\n            return acc;\n        };\n        setErrors(requiredFields.reduce(errorsReducer, {}));\n    };\n    if (visibility === 'hidden')\n        return null;\n    if (visibility === 'readOnly')\n        return h(ReadOnlyCompanyDetails, __assign({}, props, { data: data }));\n    return (h(Fieldset, { classNameModifiers: [label], label: label },\n        requiredFields.includes('name') && (h(Field, { label: i18n.get('companyDetails.name'), classNameModifiers: ['name'], errorMessage: !!errors.name }, renderFormField('text', {\n            name: generateFieldName('name'),\n            value: data.name,\n            classNameModifiers: ['name'],\n            onInput: eventHandler('input'),\n            onChange: eventHandler('blur'),\n            spellCheck: false\n        }))),\n        requiredFields.includes('registrationNumber') && (h(Field, { label: i18n.get('companyDetails.registrationNumber'), classNameModifiers: ['registrationNumber'], errorMessage: !!errors.registrationNumber }, renderFormField('text', {\n            name: generateFieldName('registrationNumber'),\n            value: data.registrationNumber,\n            classNameModifiers: ['registrationNumber'],\n            onInput: eventHandler('input'),\n            onChange: eventHandler('blur'),\n            spellCheck: false\n        })))));\n}\nCompanyDetails.defaultProps = {\n    data: {},\n    onChange: function () { },\n    visibility: 'editable',\n    requiredFields: companyDetailsSchema,\n    validator: new Validator(companyDetailsValidationRules)\n};\n","export var companyDetailsValidationRules = {\n    blur: {\n        default: function (value) {\n            var isValid = value && value.length > 0;\n            return { isValid: isValid, errorMessage: true };\n        }\n    }\n};\n","import { h, Fragment } from 'preact';\nimport Fieldset from '../FormFields/Fieldset';\nvar ReadOnlyPersonalDetails = function (_a) {\n    var data = _a.data;\n    var firstName = data.firstName, lastName = data.lastName, shopperEmail = data.shopperEmail, telephoneNumber = data.telephoneNumber;\n    return (h(Fieldset, { classNameModifiers: ['personalDetails'], label: \"personalDetails\", readonly: true },\n        firstName && firstName + \" \",\n        lastName && lastName + \" \",\n        shopperEmail && (h(Fragment, null,\n            h(\"br\", null),\n            shopperEmail)),\n        telephoneNumber && (h(Fragment, null,\n            h(\"br\", null),\n            telephoneNumber))));\n};\nexport default ReadOnlyPersonalDetails;\n","/**\n * Email regex\n */\nexport var email = /^\\s*[\\w\\-+_]+(\\.[\\w\\-+_]+)*@[\\w\\-+_]+\\.[\\w\\-+_]+(\\.[\\w-+_]+)*\\s*$/;\n/**\n * Telephone number regex\n */\nexport var telephoneNumber = /^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\\s./0-9]*$/;\n","import { email, telephoneNumber } from '../../../utils/regex';\nimport { unformatDate } from '../FormFields/InputDate/utils';\nvar isDateOfBirthValid = function (value) {\n    if (!value)\n        return false;\n    var rawValue = unformatDate(value);\n    var ageDiff = Date.now() - Date.parse(rawValue);\n    var age = new Date(ageDiff).getFullYear() - 1970;\n    return age >= 18;\n};\nexport var personalDetailsValidationRules = {\n    blur: {\n        default: function (value) {\n            var isValid = value && value.length > 0;\n            return { isValid: isValid, errorMessage: true };\n        },\n        dateOfBirth: function (value) {\n            return { isValid: isDateOfBirthValid(value), errorMessage: 'dateOfBirth.invalid' };\n        },\n        telephoneNumber: function (value) {\n            return { isValid: telephoneNumber.test(value), errorMessage: true };\n        },\n        shopperEmail: function (value) {\n            return { isValid: email.test(value), errorMessage: true };\n        }\n    }\n};\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useEffect, useMemo, useState } from 'preact/hooks';\nimport Fieldset from '../FormFields/Fieldset';\nimport Field from '../FormFields/Field';\nimport ReadOnlyPersonalDetails from './ReadOnlyPersonalDetails';\nimport { renderFormField } from '../FormFields';\nimport { personalDetailsValidationRules } from './validate';\nimport Validator from '../../../utils/Validator';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { checkDateInputSupport } from '../FormFields/InputDate/utils';\nvar personalDetailsSchema = ['firstName', 'lastName', 'gender', 'dateOfBirth', 'shopperEmail', 'telephoneNumber'];\nexport default function PersonalDetails(props) {\n    var _a = props.label, label = _a === void 0 ? '' : _a, namePrefix = props.namePrefix, placeholders = props.placeholders, requiredFields = props.requiredFields, visibility = props.visibility, validator = props.validator;\n    var i18n = useCoreContext().i18n;\n    var _b = useState(props.data), data = _b[0], setData = _b[1];\n    var _c = useState({}), errors = _c[0], setErrors = _c[1];\n    var _d = useState({}), valid = _d[0], setValid = _d[1];\n    var isDateInputSupported = useMemo(checkDateInputSupport, []);\n    var eventHandler = function (mode) { return function (e) {\n        var _a = e.target, name = _a.name, value = _a.value;\n        var key = name.split(namePrefix + \".\").pop();\n        var _b = validator.validate(key, mode)(value), isValid = _b.isValid, errorMessage = _b.errorMessage;\n        setData(function (prevData) {\n            var _a;\n            return (__assign(__assign({}, prevData), (_a = {}, _a[key] = value, _a)));\n        });\n        setValid(function (prevValid) {\n            var _a;\n            return (__assign(__assign({}, prevValid), (_a = {}, _a[key] = isValid, _a)));\n        });\n        setErrors(function (prevErrors) {\n            var _a;\n            return (__assign(__assign({}, prevErrors), (_a = {}, _a[key] = !isValid && errorMessage, _a)));\n        });\n    }; };\n    var generateFieldName = function (name) { return \"\" + (namePrefix ? namePrefix + \".\" : '') + name; };\n    var getErrorMessage = function (error) { return (typeof error === 'string' ? i18n.get(error) : error); };\n    useEffect(function () {\n        var isValid = requiredFields.every(function (field) { return validator.validate(field, 'blur')(data[field]).isValid; });\n        props.onChange({ data: data, isValid: isValid });\n    }, [data, valid, errors]);\n    this.showValidation = function () {\n        var errorsReducer = function (acc, field) {\n            var _a = validator.validate(field, 'blur')(data[field]), isValid = _a.isValid, errorMessage = _a.errorMessage;\n            acc[field] = !isValid && errorMessage;\n            return acc;\n        };\n        setErrors(requiredFields.reduce(errorsReducer, {}));\n    };\n    if (visibility === 'hidden')\n        return null;\n    if (visibility === 'readOnly')\n        return h(ReadOnlyPersonalDetails, __assign({}, props, { data: data }));\n    return (h(Fieldset, { classNameModifiers: [label], label: label },\n        requiredFields.includes('firstName') && (h(Field, { label: i18n.get('firstName'), classNameModifiers: ['col-50', 'firstName'], errorMessage: !!errors.firstName }, renderFormField('text', {\n            name: generateFieldName('firstName'),\n            value: data.firstName,\n            classNameModifiers: ['firstName'],\n            onInput: eventHandler('input'),\n            onChange: eventHandler('blur'),\n            placeholder: placeholders.firstName,\n            spellCheck: false\n        }))),\n        requiredFields.includes('lastName') && (h(Field, { label: i18n.get('lastName'), classNameModifiers: ['col-50', 'lastName'], errorMessage: !!errors.lastName }, renderFormField('text', {\n            name: generateFieldName('lastName'),\n            value: data.lastName,\n            classNameModifiers: ['lastName'],\n            onInput: eventHandler('input'),\n            onChange: eventHandler('blur'),\n            placeholder: placeholders.lastName,\n            spellCheck: false\n        }))),\n        requiredFields.includes('gender') && (h(Field, { errorMessage: !!errors.gender, classNameModifiers: ['gender'] }, renderFormField('radio', {\n            i18n: i18n,\n            name: generateFieldName('gender'),\n            value: data.gender,\n            items: [\n                { id: 'MALE', name: 'male' },\n                { id: 'FEMALE', name: 'female' }\n            ],\n            classNameModifiers: ['gender'],\n            onInput: eventHandler('input'),\n            onChange: eventHandler('blur')\n        }))),\n        requiredFields.includes('dateOfBirth') && (h(Field, { label: i18n.get('dateOfBirth'), classNameModifiers: ['col-50', 'lastName'], errorMessage: getErrorMessage(errors.dateOfBirth), helper: isDateInputSupported ? null : i18n.get('dateOfBirth.format') }, renderFormField('date', {\n            name: generateFieldName('dateOfBirth'),\n            value: data.dateOfBirth,\n            classNameModifiers: ['dateOfBirth'],\n            onInput: eventHandler('input'),\n            onChange: eventHandler('blur'),\n            placeholder: placeholders.dateOfBirth\n        }))),\n        requiredFields.includes('shopperEmail') && (h(Field, { label: i18n.get('shopperEmail'), classNameModifiers: ['shopperEmail'], errorMessage: getErrorMessage(errors.shopperEmail) }, renderFormField('emailAddress', {\n            name: generateFieldName('shopperEmail'),\n            value: data.shopperEmail,\n            classNameModifiers: ['shopperEmail'],\n            onInput: eventHandler('input'),\n            onChange: eventHandler('blur'),\n            placeholder: placeholders.shopperEmail\n        }))),\n        requiredFields.includes('telephoneNumber') && (h(Field, { label: i18n.get('telephoneNumber'), classNameModifiers: ['telephoneNumber'], errorMessage: getErrorMessage(errors.telephoneNumber) }, renderFormField('tel', {\n            name: generateFieldName('telephoneNumber'),\n            value: data.telephoneNumber,\n            classNameModifiers: ['telephoneNumber'],\n            onInput: eventHandler('input'),\n            onChange: eventHandler('blur'),\n            placeholder: placeholders.telephoneNumber\n        })))));\n}\nPersonalDetails.defaultProps = {\n    data: {},\n    onChange: function () { },\n    placeholders: {},\n    requiredFields: personalDetailsSchema,\n    validator: new Validator(personalDetailsValidationRules),\n    visibility: 'editable'\n};\n","import { h } from 'preact';\nimport Fieldset from '../../FormFields/Fieldset';\nvar ReadOnlyAddress = function (_a) {\n    var data = _a.data, label = _a.label;\n    var street = data.street, houseNumberOrName = data.houseNumberOrName, city = data.city, postalCode = data.postalCode, stateOrProvince = data.stateOrProvince, country = data.country;\n    return (h(Fieldset, { classNameModifiers: [label], label: label, readonly: true },\n        !!street && street,\n        houseNumberOrName && \", \" + houseNumberOrName + \",\",\n        h(\"br\", null),\n        postalCode && \"\" + postalCode,\n        city && \", \" + city,\n        stateOrProvince && stateOrProvince !== 'N/A' && \", \" + stateOrProvince,\n        country && \", \" + country + \" \"));\n};\nexport default ReadOnlyAddress;\n","import { FALLBACK_CONTEXT } from '../core/config';\nexport default (function (_a, dataObj) {\n    var path = _a.path, _b = _a.loadingContext, loadingContext = _b === void 0 ? FALLBACK_CONTEXT : _b, _c = _a.method, method = _c === void 0 ? 'GET' : _c, _d = _a.contentType, contentType = _d === void 0 ? 'text/plain' : _d;\n    var options = {\n        method: method,\n        mode: 'cors',\n        cache: 'default',\n        credentials: 'same-origin',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': contentType\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer-when-downgrade',\n        body: JSON.stringify(dataObj)\n    };\n    var url = \"\" + loadingContext + path;\n    return fetch(url, options)\n        .then(function (response) {\n        if (response.ok)\n            return response.json();\n        return console.warn(\"Service at \" + url + \" is not available\");\n    })\n        .then(function (data) { return data; })\n        .catch(function (e) {\n        console.warn(\"Call to \" + url + \" failed. Error= \" + e);\n    });\n});\n","export var ADDRESS_SCHEMA = ['street', 'houseNumberOrName', 'postalCode', 'city', 'stateOrProvince', 'country'];\nexport var COUNTRIES_WITH_STATES_DATASET = ['BR', 'CA', 'US'];\n","import { h } from 'preact';\nimport { useState, useLayoutEffect } from 'preact/hooks';\nimport { renderFormField } from '../../FormFields';\nimport Field from '../../FormFields/Field';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport fetchJSONData from '../../../../utils/fetch-json-data';\nimport { COUNTRIES_WITH_STATES_DATASET } from '../constants';\nexport default function StateField(props) {\n    var country = props.country, onDropdownChange = props.onDropdownChange, value = props.value, readOnly = props.readOnly;\n    var _a = useCoreContext(), i18n = _a.i18n, loadingContext = _a.loadingContext;\n    var _b = useState([]), states = _b[0], setStates = _b[1];\n    var _c = useState(false), loaded = _c[0], setLoaded = _c[1];\n    useLayoutEffect(function () {\n        if (!country || !COUNTRIES_WITH_STATES_DATASET.includes(country)) {\n            setStates([]);\n            setLoaded(true);\n            return;\n        }\n        fetchJSONData({\n            path: \"datasets/states/\" + country + \"/\" + i18n.locale + \".json\",\n            loadingContext: loadingContext\n        })\n            .then(function (response) {\n            var newStates = response && response.length ? response : [];\n            setStates(newStates);\n            setLoaded(true);\n        })\n            .catch(function () {\n            setStates([]);\n            setLoaded(true);\n        });\n    }, [country]);\n    if (!loaded || !states.length)\n        return null;\n    return (h(Field, { label: i18n.get('stateOrProvince'), classNameModifiers: ['stateOrProvince'], errorMessage: props.errorMessage }, renderFormField('select', {\n        name: 'stateOrProvince',\n        onChange: onDropdownChange,\n        selected: value,\n        placeholder: i18n.get('select.stateOrProvince'),\n        items: states,\n        readonly: readOnly && !!value\n    })));\n}\n","import { h } from 'preact';\nimport { useState, useLayoutEffect } from 'preact/hooks';\nimport { renderFormField } from '../../FormFields';\nimport Field from '../../FormFields/Field';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport fetchJSONData from '../../../../utils/fetch-json-data';\nexport default function CountryField(props) {\n    var _a = props.allowedCountries, allowedCountries = _a === void 0 ? [] : _a, errorMessage = props.errorMessage, onDropdownChange = props.onDropdownChange, value = props.value;\n    var _b = useCoreContext(), i18n = _b.i18n, loadingContext = _b.loadingContext;\n    var _c = useState([]), countries = _c[0], setCountries = _c[1];\n    var _d = useState(false), loaded = _d[0], setLoaded = _d[1];\n    var _e = useState(props.readOnly), readOnly = _e[0], setReadOnly = _e[1];\n    useLayoutEffect(function () {\n        fetchJSONData({\n            path: \"datasets/countries/\" + i18n.locale + \".json\",\n            loadingContext: loadingContext\n        })\n            .then(function (response) {\n            var countriesFilter = function (country) { return allowedCountries.includes(country.id); };\n            var newCountries = allowedCountries.length ? response.filter(countriesFilter) : response;\n            setCountries(newCountries || []);\n            setReadOnly(newCountries.length === 1 || readOnly);\n            setLoaded(true);\n        })\n            .catch(function (error) {\n            console.error(error);\n            setCountries([]);\n            setLoaded(true);\n        });\n    }, []);\n    if (!loaded)\n        return null;\n    return (h(Field, { label: i18n.get('country'), errorMessage: errorMessage, classNameModifiers: ['country'] }, renderFormField('select', {\n        onChange: onDropdownChange,\n        name: 'country',\n        placeholder: i18n.get('select.country'),\n        selected: value,\n        items: countries,\n        readonly: readOnly && !!value\n    })));\n}\n","export var addressValidationRules = {\n    blur: {\n        default: function (value) { return value && value.length > 0; }\n    }\n};\n","import { __assign, __spreadArrays } from \"tslib\";\nimport { h } from 'preact';\nimport { useEffect, useState } from 'preact/hooks';\nimport Fieldset from '../FormFields/Fieldset';\nimport Field from '../FormFields/Field';\nimport ReadOnlyAddress from './components/ReadOnlyAddress';\nimport StateField from './components/StateField';\nimport CountryField from './components/CountryField';\nimport { renderFormField } from '../FormFields';\nimport { addressValidationRules } from './validate';\nimport Validator from '../../../utils/Validator';\nimport { getInitialData } from './utils';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { ADDRESS_SCHEMA, COUNTRIES_WITH_STATES_DATASET } from './constants';\nexport default function Address(props) {\n    var _a = props.label, label = _a === void 0 ? '' : _a, requiredFields = props.requiredFields, visibility = props.visibility;\n    var validator = new Validator(addressValidationRules);\n    var i18n = useCoreContext().i18n;\n    var _b = useState(getInitialData(props.data, requiredFields)), data = _b[0], setData = _b[1];\n    var _c = useState({}), errors = _c[0], setErrors = _c[1];\n    var _d = useState({}), valid = _d[0], setValid = _d[1];\n    var handleChange = function (e) {\n        var _a = e.target, name = _a.name, value = _a.value;\n        var isValid = validator.validate(name, 'blur')(value);\n        setData(function (prevData) {\n            var _a;\n            return (__assign(__assign({}, prevData), (_a = {}, _a[name] = value, _a)));\n        });\n        setValid(function (prevValid) {\n            var _a;\n            return (__assign(__assign({}, prevValid), (_a = {}, _a[name] = isValid, _a)));\n        });\n        setErrors(function (prevErrors) {\n            var _a;\n            return (__assign(__assign({}, prevErrors), (_a = {}, _a[name] = !isValid, _a)));\n        });\n    };\n    var handleStateChange = function (e) {\n        var field = e.currentTarget;\n        var value = field.getAttribute('data-value');\n        setData(function (prevData) { return (__assign(__assign({}, prevData), { stateOrProvince: value })); });\n        setValid(function (prevValid) { return (__assign(__assign({}, prevValid), { stateOrProvince: !!value })); });\n        setErrors(function (prevErrors) { return (__assign(__assign({}, prevErrors), { stateOrProvince: !value })); });\n    };\n    var handleCountryChange = function (e) {\n        var field = e.currentTarget;\n        var value = field.getAttribute('data-value');\n        var stateOrProvince = COUNTRIES_WITH_STATES_DATASET.includes(value) ? '' : 'N/A';\n        setData(function (prevData) { return (__assign(__assign({}, prevData), { stateOrProvince: stateOrProvince, country: value })); });\n        setValid(function (prevValid) { return (__assign(__assign({}, prevValid), { country: !!value })); });\n        setErrors(function (prevErrors) { return (__assign(__assign({}, prevErrors), { country: !value })); });\n    };\n    useEffect(function () {\n        var stateFieldIsRequired = requiredFields.includes('stateOrProvince');\n        var countryHasStatesDataset = data.country && COUNTRIES_WITH_STATES_DATASET.includes(data.country);\n        var addressShouldHaveState = stateFieldIsRequired && countryHasStatesDataset;\n        var stateOrProvince = data.stateOrProvince || (addressShouldHaveState ? '' : 'N/A');\n        setData(function (prevData) { return (__assign(__assign({}, prevData), { stateOrProvince: stateOrProvince })); });\n    }, []);\n    useEffect(function () {\n        var isValid = requiredFields.every(function (field) { return validator.validate(field, 'blur')(data[field]); });\n        props.onChange({ data: data, isValid: isValid });\n    }, [data, valid, errors]);\n    this.showValidation = function () {\n        var errorsReducer = function (acc, cur) {\n            acc[cur] = !validator.validate(cur, 'blur')(data[cur]);\n            return acc;\n        };\n        setErrors(requiredFields.reduce(errorsReducer, {}));\n    };\n    if (visibility === 'hidden')\n        return null;\n    if (visibility === 'readOnly')\n        return h(ReadOnlyAddress, { data: data, label: label });\n    return (h(Fieldset, { classNameModifiers: [label], label: label },\n        requiredFields.includes('street') && (h(Field, { label: i18n.get('street'), classNameModifiers: __spreadArrays((requiredFields.includes('houseNumberOrName') ? ['col-70'] : []), ['street']), errorMessage: !!errors.street }, renderFormField('text', {\n            name: 'street',\n            value: data.street,\n            classNameModifiers: ['street'],\n            onInput: handleChange\n        }))),\n        requiredFields.includes('houseNumberOrName') && (h(Field, { label: i18n.get('houseNumberOrName'), classNameModifiers: ['col-30', 'houseNumberOrName'], errorMessage: !!errors.houseNumberOrName }, renderFormField('text', {\n            name: 'houseNumberOrName',\n            value: data.houseNumberOrName,\n            classNameModifiers: ['houseNumberOrName'],\n            onInput: handleChange\n        }))),\n        h(\"div\", { className: \"adyen-checkout__field-group\" },\n            requiredFields.includes('postalCode') && (h(Field, { label: i18n.get('postalCode'), classNameModifiers: ['postalCode', 'col-30'], errorMessage: !!errors.postalCode }, renderFormField('text', {\n                name: 'postalCode',\n                value: data.postalCode,\n                classNameModifiers: ['postalCode'],\n                onInput: handleChange\n            }))),\n            requiredFields.includes('city') && (h(Field, { label: i18n.get('city'), classNameModifiers: ['city', 'col-70'], errorMessage: !!errors.city }, renderFormField('text', {\n                name: 'city',\n                value: data.city,\n                classNameModifiers: ['city'],\n                onInput: handleChange\n            })))),\n        requiredFields.includes('country') && (h(CountryField, { value: data.country, errorMessage: !!errors.country, onDropdownChange: handleCountryChange, allowedCountries: props.allowedCountries })),\n        requiredFields.includes('stateOrProvince') && (h(StateField, { value: data.stateOrProvince, errorMessage: !!errors.stateOrProvince, country: data.country, onDropdownChange: handleStateChange }))));\n}\nAddress.defaultProps = {\n    data: {},\n    onChange: function () { },\n    visibility: 'editable',\n    requiredFields: ADDRESS_SCHEMA,\n    countryCode: null\n};\n","import { ADDRESS_SCHEMA } from './constants';\n/**\n * Generates an object to be used as the initial data.\n * @param data - The data to pre-fill the address fields\n * @param requiredFields - The list of fields to be included in the address form\n */\nexport var getInitialData = function (data, requiredFields) {\n    /**\n     * We only want to include the fields if they have pre-filled data or if the field is not required.\n     */\n    var addressFilter = function (field) { return !!data[field] || !requiredFields.includes(field); };\n    /**\n     * Creates the data object filling it with either its pre-filled data or `N/A`.\n     */\n    var addressReducer = function (acc, cur) {\n        acc[cur] = data[cur] || 'N/A';\n        return acc;\n    };\n    return ADDRESS_SCHEMA.filter(addressFilter).reduce(addressReducer, {});\n};\n","import { h } from 'preact';\nimport Field from '../Field';\nimport Checkbox from '../Checkbox';\nexport default function ConsentCheckbox(_a) {\n    var data = _a.data, errorMessage = _a.errorMessage, label = _a.label, onChange = _a.onChange;\n    return (h(Field, { classNameModifiers: ['consentCheckbox'], errorMessage: errorMessage },\n        h(Checkbox, { name: \"consentCheckbox\", classNameModifiers: ['consentCheckbox'], onInput: onChange, value: data.consentCheckbox, label: label })));\n}\n","var getInitialActiveFieldsets = function (fieldsets, visibility) {\n    return fieldsets.reduce(function (acc, fieldset) {\n        acc[fieldset] = visibility[fieldset] !== 'hidden';\n        return acc;\n    }, {});\n};\nexport { getInitialActiveFieldsets };\n","import { __assign } from \"tslib\";\nimport { h, createRef } from 'preact';\nimport { useEffect, useState } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport CompanyDetails from '../CompanyDetails';\nimport PersonalDetails from '../PersonalDetails';\nimport Address from '../Address';\nimport Checkbox from '../FormFields/Checkbox';\nimport ConsentCheckbox from '../FormFields/ConsentCheckbox';\nimport { getInitialActiveFieldsets } from './utils';\nimport './OpenInvoice.scss';\nvar fieldsetsSchema = ['companyDetails', 'personalDetails', 'billingAddress', 'deliveryAddress'];\nexport default function OpenInvoice(props) {\n    var countryCode = props.countryCode, visibility = props.visibility;\n    var i18n = useCoreContext().i18n;\n    var initialActiveFieldsets = getInitialActiveFieldsets(fieldsetsSchema, visibility);\n    var _a = useState(__assign(__assign({}, initialActiveFieldsets), { deliveryAddress: false })), activeFieldsets = _a[0], setActiveFieldsets = _a[1];\n    var fieldsetsRefs = fieldsetsSchema.reduce(function (acc, fieldset) {\n        acc[fieldset] = createRef();\n        return acc;\n    }, {});\n    var checkFieldsets = function () { return Object.keys(activeFieldsets).every(function (fieldset) { return !activeFieldsets[fieldset] || !!valid[fieldset]; }); };\n    var hasConsentCheckbox = !!props.consentCheckboxLabel;\n    var _b = useState(__assign(__assign({}, props.data), (hasConsentCheckbox && { consentCheckbox: false }))), data = _b[0], setData = _b[1];\n    var _c = useState({}), errors = _c[0], setErrors = _c[1];\n    var _d = useState({}), valid = _d[0], setValid = _d[1];\n    var _e = useState('ready'), status = _e[0], setStatus = _e[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    useEffect(function () {\n        var fieldsetsAreValid = checkFieldsets();\n        var consentCheckboxValid = !hasConsentCheckbox || !!valid.consentCheckbox;\n        var isValid = fieldsetsAreValid && consentCheckboxValid;\n        props.onChange({ data: data, isValid: isValid });\n    }, [data, valid, errors]);\n    var handleFieldset = function (key) { return function (state) {\n        setData(function (prevData) {\n            var _a;\n            return (__assign(__assign({}, prevData), (_a = {}, _a[key] = state.data, _a)));\n        });\n        setValid(function (prevValid) {\n            var _a;\n            return (__assign(__assign({}, prevValid), (_a = {}, _a[key] = state.isValid, _a)));\n        });\n    }; };\n    var handleSeparateDeliveryAddress = function (e) {\n        setActiveFieldsets(function (prevActiveFields) { return (__assign(__assign({}, prevActiveFields), { deliveryAddress: e.target.checked })); });\n    };\n    var handleConsentCheckbox = function (e) {\n        var checked = e.target.checked;\n        setData(function (prevData) { return (__assign(__assign({}, prevData), { consentCheckbox: checked })); });\n        setValid(function (prevValid) { return (__assign(__assign({}, prevValid), { consentCheckbox: checked })); });\n        setErrors(function (prevErrors) { return (__assign(__assign({}, prevErrors), { consentCheckbox: !checked })); });\n    };\n    this.showValidation = function () {\n        fieldsetsSchema.forEach(function (fieldset) {\n            if (fieldsetsRefs[fieldset].current)\n                fieldsetsRefs[fieldset].current.showValidation();\n        });\n        setErrors(__assign({}, (hasConsentCheckbox && { consentCheckbox: !data.consentCheckbox })));\n    };\n    return (h(\"div\", { className: \"adyen-checkout__open-invoice\" },\n        activeFieldsets.companyDetails && (h(CompanyDetails, { data: data.companyDetails, label: \"companyDetails\", onChange: handleFieldset('companyDetails'), ref: fieldsetsRefs.companyDetails, visibility: visibility.companyDetails })),\n        activeFieldsets.personalDetails && (h(PersonalDetails, { data: data.personalDetails, requiredFields: props.personalDetailsRequiredFields, label: \"personalDetails\", onChange: handleFieldset('personalDetails'), ref: fieldsetsRefs.personalDetails, visibility: visibility.personalDetails })),\n        activeFieldsets.billingAddress && (h(Address, { allowedCountries: props.allowedCountries, countryCode: countryCode, data: data.billingAddress, label: \"billingAddress\", onChange: handleFieldset('billingAddress'), ref: fieldsetsRefs.billingAddress, visibility: visibility.billingAddress })),\n        initialActiveFieldsets.deliveryAddress && (h(Checkbox, { label: i18n.get('separateDeliveryAddress'), classNameModifiers: ['separateDeliveryAddress'], name: \"separateDeliveryAddress\", onChange: handleSeparateDeliveryAddress })),\n        activeFieldsets.deliveryAddress && (h(Address, { allowedCountries: props.allowedCountries, countryCode: countryCode, data: data.deliveryAddress, label: \"deliveryAddress\", onChange: handleFieldset('deliveryAddress'), ref: fieldsetsRefs.deliveryAddress, visibility: visibility.deliveryAddress })),\n        hasConsentCheckbox && (h(ConsentCheckbox, { data: data, errorMessage: !!errors.consentCheckbox, label: props.consentCheckboxLabel, onChange: handleConsentCheckbox })),\n        props.showPayButton && props.payButton({ status: status, label: i18n.get('confirmPurchase') })));\n}\n","import { __extends } from \"tslib\";\nimport { Component, h, toChildArray } from 'preact';\nimport { CoreContext } from './CoreContext';\n/**\n * CoreProvider Component\n * Wraps a component delaying the render until after the i18n module is fully loaded\n */\nvar CoreProvider = /** @class */ (function (_super) {\n    __extends(CoreProvider, _super);\n    function CoreProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CoreProvider.prototype.render = function (_a) {\n        var children = _a.children;\n        return (h(CoreContext.Provider, { value: { i18n: this.props.i18n, loadingContext: this.props.loadingContext } }, toChildArray(children)));\n    };\n    return CoreProvider;\n}(Component));\nexport default CoreProvider;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../../UIElement';\nimport OpenInvoice from '../../internal/OpenInvoice';\nimport CoreProvider from '../../../core/Context/CoreProvider';\nimport { unformatDate } from '../../internal/FormFields/InputDate/utils';\nvar OpenInvoiceContainer = /** @class */ (function (_super) {\n    __extends(OpenInvoiceContainer, _super);\n    function OpenInvoiceContainer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(OpenInvoiceContainer.prototype, \"isValid\", {\n        /**\n         * Returns whether the component state is valid or not\n         */\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Formats props on construction time\n     */\n    OpenInvoiceContainer.prototype.formatProps = function (props) {\n        var _a, _b;\n        var country = props.countryCode || ((_b = (_a = props.data) === null || _a === void 0 ? void 0 : _a.billingAddress) === null || _b === void 0 ? void 0 : _b.countryCode);\n        return __assign(__assign({}, props), { allowedCountries: [country], visibility: __assign(__assign({}, OpenInvoiceContainer.defaultProps.visibility), props.visibility), data: __assign(__assign({}, props.data), { billingAddress: __assign(__assign({}, props.data.billingAddress), { country: country }), deliveryAddress: __assign(__assign({}, props.data.deliveryAddress), { country: country }) }) });\n    };\n    /**\n     * Formats the component data output\n     */\n    OpenInvoiceContainer.prototype.formatData = function () {\n        var _a = this.state.data, data = _a === void 0 ? {} : _a;\n        var _b = data.companyDetails, companyDetails = _b === void 0 ? {} : _b, _c = data.personalDetails, personalDetails = _c === void 0 ? {} : _c, billingAddress = data.billingAddress, deliveryAddress = data.deliveryAddress;\n        var name = companyDetails.name, registrationNumber = companyDetails.registrationNumber;\n        var firstName = personalDetails.firstName, lastName = personalDetails.lastName, _d = personalDetails.gender, gender = _d === void 0 ? 'UNKNOWN' : _d, telephoneNumber = personalDetails.telephoneNumber, shopperEmail = personalDetails.shopperEmail, dateOfBirth = personalDetails.dateOfBirth;\n        return __assign(__assign(__assign(__assign(__assign(__assign(__assign({ paymentMethod: {\n                type: this.constructor['type']\n            } }, ((name || registrationNumber) && {\n            company: __assign(__assign({}, (name && { name: name })), (registrationNumber && { registrationNumber: registrationNumber }))\n        })), { shopperName: __assign(__assign(__assign({}, (firstName && { firstName: firstName })), (lastName && { lastName: lastName })), (gender && { gender: gender })) }), (dateOfBirth && { dateOfBirth: unformatDate(dateOfBirth) })), (telephoneNumber && { telephoneNumber: telephoneNumber })), (shopperEmail && { shopperEmail: shopperEmail })), ((billingAddress === null || billingAddress === void 0 ? void 0 : billingAddress.country) && { countryCode: billingAddress.country })), { billingAddress: billingAddress, deliveryAddress: deliveryAddress || billingAddress });\n    };\n    OpenInvoiceContainer.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(OpenInvoice, __assign({ ref: function (ref) {\n                    _this.componentRef = ref;\n                } }, this.props, this.state, { consentCheckbox: this.props.consentCheckbox, onChange: this.setState, onSubmit: this.submit, payButton: this.payButton }))));\n    };\n    OpenInvoiceContainer.defaultProps = {\n        onChange: function () { },\n        data: { companyDetails: {}, personalDetails: {}, billingAddress: {}, deliveryAddress: {} },\n        visibility: {\n            companyDetails: 'hidden',\n            personalDetails: 'editable',\n            billingAddress: 'editable',\n            deliveryAddress: 'editable'\n        }\n    };\n    return OpenInvoiceContainer;\n}(UIElement));\nexport default OpenInvoiceContainer;\n","import { Fragment, h } from 'preact';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nexport default function ConsentCheckboxLabel(props) {\n    var i18n = useCoreContext().i18n;\n    var linkText = i18n.get('paymentConditions');\n    var translationString = i18n.get('afterPay.agreement');\n    var _a = translationString.split('%@'), textBeforeLink = _a[0], textAfterLink = _a[1];\n    if (textBeforeLink && textAfterLink) {\n        return (h(Fragment, null,\n            textBeforeLink,\n            h(\"a\", { className: \"adyen-checkout__link\", target: \"_blank\", rel: \"noopener noreferrer\", href: props.url }, linkText),\n            textAfterLink));\n    }\n    return h(\"span\", { className: \"adyen-checkout__checkbox__label\" }, i18n.get('privacyPolicy'));\n}\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport OpenInvoiceContainer from '../helpers/OpenInvoiceContainer';\nimport ConsentCheckboxLabel from './components/ConsentCheckboxLabel';\nimport { getConsentLinkUrl } from './utils';\nvar AfterPay = /** @class */ (function (_super) {\n    __extends(AfterPay, _super);\n    function AfterPay() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AfterPay.prototype.formatProps = function (props) {\n        var _a;\n        return __assign(__assign({}, _super.prototype.formatProps.call(this, props)), { consentCheckboxLabel: h(ConsentCheckboxLabel, { url: getConsentLinkUrl(props.countryCode, (_a = props.i18n) === null || _a === void 0 ? void 0 : _a.locale) }) });\n    };\n    AfterPay.type = 'afterpay_default';\n    return AfterPay;\n}(OpenInvoiceContainer));\nexport default AfterPay;\n","import { AFTERPAY_CONSENT_URL_BE, AFTERPAY_CONSENT_URL_EN, AFTERPAY_CONSENT_URL_NL } from './config';\nfunction getConsentLinkUrl(countryCode, locale) {\n    var languageCode = locale === null || locale === void 0 ? void 0 : locale.toLowerCase().slice(0, 2);\n    if (languageCode === 'en')\n        return AFTERPAY_CONSENT_URL_EN;\n    if ((countryCode === null || countryCode === void 0 ? void 0 : countryCode.toLowerCase()) === 'be')\n        return AFTERPAY_CONSENT_URL_BE;\n    return AFTERPAY_CONSENT_URL_NL;\n}\nexport { getConsentLinkUrl };\n","var AFTERPAY_CONSENT_URL_EN = 'https://www.afterpay.nl/en/algemeen/pay-with-afterpay/payment-conditions';\nvar AFTERPAY_CONSENT_URL_BE = 'https://www.afterpay.be/be/footer/betalen-met-afterpay/betalingsvoorwaarden';\nvar AFTERPAY_CONSENT_URL_NL = 'https://www.afterpay.nl/nl/algemeen/betalen-met-afterpay/betalingsvoorwaarden';\nvar AFTERPAY_B2B_CONSENT_URL = 'https://www.afterpay.nl/nl/algemeen/zakelijke-partners/betalingsvoorwaarden-zakelijk';\nexport { AFTERPAY_CONSENT_URL_EN, AFTERPAY_CONSENT_URL_BE, AFTERPAY_CONSENT_URL_NL, AFTERPAY_B2B_CONSENT_URL };\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport OpenInvoiceContainer from '../helpers/OpenInvoiceContainer';\nimport ConsentCheckboxLabel from './components/ConsentCheckboxLabel';\nimport { AFTERPAY_B2B_CONSENT_URL } from './config';\nvar AfterPayB2B = /** @class */ (function (_super) {\n    __extends(AfterPayB2B, _super);\n    function AfterPayB2B() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AfterPayB2B.prototype.formatProps = function (props) {\n        return __assign(__assign({}, _super.prototype.formatProps.call(this, props)), { consentCheckboxLabel: h(ConsentCheckboxLabel, { url: AFTERPAY_B2B_CONSENT_URL }) });\n    };\n    AfterPayB2B.type = 'afterpay_b2b';\n    AfterPayB2B.defaultProps = {\n        onChange: function () { },\n        data: { companyDetails: {}, personalDetails: {}, billingAddress: {}, deliveryAddress: {} },\n        visibility: {\n            companyDetails: 'editable',\n            personalDetails: 'editable',\n            billingAddress: 'editable',\n            deliveryAddress: 'editable'\n        }\n    };\n    return AfterPayB2B;\n}(OpenInvoiceContainer));\nexport default AfterPayB2B;\n","import getProp from './getProp';\n/**\n * Collects available frontend browser info and store it in the properties dictated by the EMVCo spec\n * (3DS_Spec_protocolAndCoreFny_v2-1_Oct2017.pdf)\n *\n * @example\n * ```js\n * const browserInfo = collectBrowserInfo();\n * ```\n *\n * @returns An object containing the retrieved browser properties\n */\nexport default function collectBrowserInfo() {\n    var colorDepth = getProp(window, 'screen.colorDepth') || '';\n    var javaEnabled = getProp(window, 'navigator.javaEnabled') ? window.navigator.javaEnabled() : false;\n    var screenHeight = getProp(window, 'screen.height') || ''; // TODO: Shall we set this to null instead?\n    var screenWidth = getProp(window, 'screen.width') || ''; // TODO: Shall we set this to null instead?\n    var userAgent = getProp(window, 'navigator.userAgent') || '';\n    // IE <+ 10 supports navigator.browserLanguage instead of navigator.language\n    var language = getProp(window, 'navigator.language') || getProp(window, 'navigator.browserLanguage');\n    var d = new Date();\n    var timeZoneOffset = d.getTimezoneOffset();\n    return {\n        acceptHeader: '*/*',\n        colorDepth: colorDepth,\n        language: language,\n        javaEnabled: javaEnabled,\n        screenHeight: screenHeight,\n        screenWidth: screenWidth,\n        userAgent: userAgent,\n        timeZoneOffset: timeZoneOffset\n    };\n}\n","var AMAZONPAY_SIGN_STRING_ENDPOINT = 'v1/AmazonPayUtility/signString';\nvar AMAZONPAY_UPDATE_CHECKOUT_SESSION_ENDPOINT = 'v1/AmazonPayUtility/updateCheckoutSession';\nvar AMAZONPAY_URL_EU = 'https://static-eu.payments-amazon.com/checkout.js';\nvar AMAZONPAY_URL_US = 'https://static-na.payments-amazon.com/checkout.js';\nvar FALLBACK_LOCALE_EU = 'en_GB';\nvar FALLBACK_LOCALE_US = 'en_US';\nvar SUPPORTED_LOCALES_EU = ['en_GB', 'de_DE', 'fr_FR', 'it_IT', 'es_ES'];\nvar SUPPORTED_LOCALES_US = ['en_US'];\nexport { AMAZONPAY_SIGN_STRING_ENDPOINT, AMAZONPAY_UPDATE_CHECKOUT_SESSION_ENDPOINT, AMAZONPAY_URL_EU, AMAZONPAY_URL_US, FALLBACK_LOCALE_EU, FALLBACK_LOCALE_US, SUPPORTED_LOCALES_EU, SUPPORTED_LOCALES_US };\n","import { __assign } from \"tslib\";\nimport fetchJSONData from '../../utils/fetch-json-data';\nimport { AMAZONPAY_SIGN_STRING_ENDPOINT, AMAZONPAY_UPDATE_CHECKOUT_SESSION_ENDPOINT, AMAZONPAY_URL_EU, AMAZONPAY_URL_US, FALLBACK_LOCALE_EU, FALLBACK_LOCALE_US, SUPPORTED_LOCALES_EU, SUPPORTED_LOCALES_US } from './config';\n/**\n * Returns the AmazonPay script URL for passed region.\n * @param region - Two-letter country code in ISO 3166 format\n * @returns the AmazonPay script URL\n */\nexport function getAmazonPayUrl(region) {\n    return region === 'US' ? AMAZONPAY_URL_US : AMAZONPAY_URL_EU;\n}\n/**\n * Returns the fallback locale for passed region.\n * @param region - Two-letter country code in ISO 3166 format\n * @returns A fallback locale\n */\nexport function getFallbackLocale(region) {\n    return region === 'US' ? FALLBACK_LOCALE_US : FALLBACK_LOCALE_EU;\n}\n/**\n * Returns an array of supported locales for passed region.\n * @param region - Two-letter country code in ISO 3166 format\n * @returns An array of supported locales\n */\nexport function getSupportedLocales(region) {\n    var supportedLocales = region === 'US' ? SUPPORTED_LOCALES_US : SUPPORTED_LOCALES_EU;\n    return supportedLocales;\n}\n/**\n * Makes a call to the Sign String endpoint to the PayloadJSON string.\n * @param loadingContext - Loading context to be used in the call\n * @param accessKey - Access key to be used as a public token\n * @param payloadJSON - Object to be signed\n * @returns A promise containing the response of the call\n */\nexport function getAmazonSignature(loadingContext, accessKey, payloadJSON) {\n    var options = {\n        loadingContext: loadingContext,\n        method: 'POST',\n        path: AMAZONPAY_SIGN_STRING_ENDPOINT + \"?token=\" + accessKey\n    };\n    var request = { stringToSign: JSON.stringify(payloadJSON) };\n    return fetchJSONData(options, request);\n}\n/**\n * Makes a call to the Update Checkout Session endpoint to create an order.\n * @param loadingContext - Loading context to be used in the call\n * @param accessKey - Access key to be used as a public token\n * @param data -\n * @returns A promise containing the response of the call\n */\nexport function updateAmazonCheckoutSession(loadingContext, accessKey, data) {\n    var options = {\n        loadingContext: loadingContext,\n        method: 'POST',\n        path: AMAZONPAY_UPDATE_CHECKOUT_SESSION_ENDPOINT + \"?token=\" + accessKey\n    };\n    return fetchJSONData(options, data);\n}\n/**\n * Gets a locale and matches it with one of the supported locales for the given region.\n * If there's no match, it will return the region's fallback option.\n * @param locale - Locale to be processed\n * @param region - Two-letter country code in ISO 3166 format\n * @returns A supported locale\n */\nexport function getCheckoutLocale(locale, region) {\n    var supportedLocales = getSupportedLocales(region);\n    var isSupportedLocale = supportedLocales.includes(locale);\n    var fallbackLocale = getFallbackLocale(region);\n    var checkoutLocale = isSupportedLocale ? locale : fallbackLocale;\n    return checkoutLocale;\n}\n/**\n * Returns a PayloadJSON object.\n * @param storeId - Store ID from the merchant\n * @param returnUrl - Return URL to be used as checkoutReviewReturnUrl\n * @param deliverySpecifications - Optional delivery specifications object\n * @returns PayloadJSON\n */\nexport function getPayloadJSON(storeId, returnUrl, deliverySpecifications) {\n    return __assign({ storeId: storeId, webCheckoutDetails: {\n            checkoutReviewReturnUrl: returnUrl\n        } }, (deliverySpecifications && { deliverySpecifications: deliverySpecifications }));\n}\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useEffect } from 'preact/hooks';\nimport { getAmazonSignature, getCheckoutLocale, getPayloadJSON } from '../utils';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nexport default function AmazonPayButton(props) {\n    var loadingContext = useCoreContext().loadingContext;\n    var amazonRef = props.amazonRef, buttonColor = props.buttonColor, currency = props.currency, environment = props.environment, locale = props.locale, merchantId = props.merchantId, placement = props.placement, productType = props.productType, publicKeyId = props.publicKeyId, region = props.region, size = props.size;\n    var sandbox = environment === 'TEST';\n    var checkoutLanguage = getCheckoutLocale(locale, region);\n    var handleOnClick = function (amazonPayButton, createCheckoutSessionConfig) {\n        new Promise(props.onClick)\n            .then(function () {\n            amazonPayButton.initCheckout({ createCheckoutSessionConfig: createCheckoutSessionConfig });\n        })\n            .catch(console.error);\n    };\n    var renderAmazonPayButton = function (payloadJSON, signature) {\n        var settings = __assign(__assign(__assign({}, (buttonColor && { buttonColor: buttonColor })), (size && { size: size })), { merchantId: merchantId,\n            sandbox: sandbox,\n            productType: productType,\n            placement: placement,\n            checkoutLanguage: checkoutLanguage, ledgerCurrency: currency });\n        var checkoutSessionConfig = {\n            payloadJSON: JSON.stringify(payloadJSON),\n            signature: signature,\n            publicKeyId: publicKeyId\n        };\n        var amazonPayButton = amazonRef.Pay.renderButton('#amazonPayButton', settings);\n        amazonPayButton.onClick(function () {\n            handleOnClick(amazonPayButton, checkoutSessionConfig);\n        });\n    };\n    useEffect(function () {\n        var clientKey = props.clientKey, originKey = props.originKey, storeId = props.storeId, returnUrl = props.returnUrl, deliverySpecifications = props.deliverySpecifications;\n        var accessKey = clientKey || originKey;\n        var payloadJSON = getPayloadJSON(storeId, returnUrl, deliverySpecifications);\n        getAmazonSignature(loadingContext, accessKey, payloadJSON)\n            .then(function (response) {\n            if (!(response === null || response === void 0 ? void 0 : response.signature))\n                return console.error('Could not get AmazonPay signature');\n            renderAmazonPayButton(payloadJSON, response.signature);\n        })\n            .catch(function (error) {\n            console.error(error);\n            if (props.onError)\n                props.onError(error);\n        });\n    }, []);\n    return h(\"div\", { className: \"adyen-checkout__amazonpay__button\", id: \"amazonPayButton\" });\n}\n","import { h } from 'preact';\nimport { useEffect } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nexport default function ChangePaymentDetailsButton(props) {\n    var i18n = useCoreContext().i18n;\n    var amazonRef = props.amazonRef, amazonCheckoutSessionId = props.amazonCheckoutSessionId;\n    useEffect(function () {\n        amazonRef.Pay.bindChangeAction('.adyen-checkout__amazonpay__button--changeAddress', {\n            amazonCheckoutSessionId: amazonCheckoutSessionId,\n            changeAction: 'changeAddress'\n        });\n    }, []);\n    return (h(\"button\", { type: \"button\", className: \"adyen-checkout__button adyen-checkout__button--ghost adyen-checkout__amazonpay__button--changeAddress\" }, i18n.get('amazonpay.changePaymentDetails')));\n}\n","import { h } from 'preact';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport Button from '../../internal/Button';\nimport { updateAmazonCheckoutSession } from '../utils';\nexport default function OrderButton(props) {\n    var _a = useCoreContext(), i18n = _a.i18n, loadingContext = _a.loadingContext;\n    var createOrder = function () {\n        var amount = props.amount, clientKey = props.clientKey, originKey = props.originKey, checkoutSessionId = props.amazonCheckoutSessionId, checkoutResultReturnUrl = props.returnUrl;\n        var accessKey = clientKey || originKey;\n        var data = {\n            amount: amount,\n            checkoutSessionId: checkoutSessionId,\n            checkoutResultReturnUrl: checkoutResultReturnUrl\n        };\n        updateAmazonCheckoutSession(loadingContext, accessKey, data)\n            .then(function (response) {\n            var _a;\n            if (!((_a = response === null || response === void 0 ? void 0 : response.action) === null || _a === void 0 ? void 0 : _a.type))\n                return console.error('Could not get the AmazonPay URL');\n            if (response.action.type === 'redirect')\n                window.location.assign(response.action.url);\n        })\n            .catch(function (error) {\n            console.error(error);\n            if (props.onError)\n                props.onError(error);\n        });\n    };\n    return h(Button, { classNameModifiers: ['standalone', 'pay'], label: i18n.get('confirmPurchase'), onClick: createOrder });\n}\n","import { h } from 'preact';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nexport default function SignOutButton(props) {\n    var i18n = useCoreContext().i18n;\n    var handleClick = function () {\n        new Promise(props.onSignOut)\n            .then(function () {\n            props.amazonRef.Pay.signout();\n        })\n            .catch(console.error);\n    };\n    return (h(\"button\", { type: \"button\", className: \"adyen-checkout__button  adyen-checkout__button--ghost adyen-checkout__amazonpay__button--signOut\", onClick: handleClick }, i18n.get('amazonpay.signout')));\n}\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport Spinner from '../../internal/Spinner';\nimport { getAmazonPayUrl } from '../utils';\nimport AmazonPayButton from './AmazonPayButton';\nimport ChangePaymentDetailsButton from './ChangePaymentDetailsButton';\nimport OrderButton from './OrderButton';\nimport SignOutButton from './SignOutButton';\nexport default function AmazonPayComponent(props) {\n    var _a = useState('pending'), status = _a[0], setStatus = _a[1];\n    var handleLoad = function () {\n        setStatus('ready');\n    };\n    useEffect(function () {\n        var script = document.createElement('script');\n        var amazonPayUrl = getAmazonPayUrl(props.region);\n        script.async = true;\n        script.onload = handleLoad;\n        script.src = amazonPayUrl;\n        document.body.appendChild(script);\n    }, []);\n    if (status === 'pending') {\n        return (h(\"div\", { className: \"adyen-checkout__amazonpay\" },\n            h(\"div\", { className: \"adyen-checkout__amazonpay__status adyen-checkout__amazonpay__status--pending\" },\n                h(Spinner, null))));\n    }\n    if (props.showSignOutButton) {\n        return h(SignOutButton, { amazonRef: window.amazon, onSignOut: props.onSignOut });\n    }\n    if (props.amazonCheckoutSessionId) {\n        return (h(\"div\", { className: \"adyen-checkout__amazonpay\" },\n            props.showOrderButton && (h(OrderButton, { amazonCheckoutSessionId: props.amazonCheckoutSessionId, amount: props.amount, clientKey: props.clientKey, originKey: props.originKey, onError: props.onError, returnUrl: props.returnUrl })),\n            props.showChangePaymentDetailsButton && (h(ChangePaymentDetailsButton, { amazonCheckoutSessionId: props.amazonCheckoutSessionId, amazonRef: window.amazon }))));\n    }\n    return (h(\"div\", { className: \"adyen-checkout__amazonpay\" },\n        h(AmazonPayButton, __assign({}, props, { amazonRef: window.amazon }))));\n}\n","export default {\n    environment: 'TEST',\n    locale: 'en_GB',\n    placement: 'Cart',\n    productType: 'PayAndShip',\n    region: 'EU',\n    showOrderButton: true,\n    showChangePaymentDetailsButton: false,\n    showSignOutButton: false,\n    showPayButton: true,\n    onClick: function (resolve) { return resolve(); },\n    onSignOut: function (resolve) { return resolve(); }\n};\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport collectBrowserInfo from '../../utils/browserInfo';\nimport AmazonPayComponent from './components/AmazonPayComponent';\nimport defaultProps from './defaultProps';\nimport './AmazonPay.scss';\nvar AmazonPayElement = /** @class */ (function (_super) {\n    __extends(AmazonPayElement, _super);\n    function AmazonPayElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AmazonPayElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, props), { environment: props.environment.toUpperCase(), locale: props.locale.replace('-', '_'), region: props.region.toUpperCase() });\n    };\n    /**\n     * Formats the component data output\n     */\n    AmazonPayElement.prototype.formatData = function () {\n        var checkoutSessionId = this.props.amazonCheckoutSessionId;\n        return {\n            paymentMethod: __assign({ type: AmazonPayElement.type }, (checkoutSessionId && { checkoutSessionId: checkoutSessionId })),\n            browserInfo: this.browserInfo\n        };\n    };\n    Object.defineProperty(AmazonPayElement.prototype, \"isValid\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AmazonPayElement.prototype, \"browserInfo\", {\n        get: function () {\n            return collectBrowserInfo();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AmazonPayElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(AmazonPayComponent, __assign({ ref: function (ref) {\n                    _this.componentRef = ref;\n                } }, this.props))));\n    };\n    AmazonPayElement.type = 'amazonpay';\n    AmazonPayElement.defaultProps = defaultProps;\n    return AmazonPayElement;\n}(UIElement));\nexport { AmazonPayElement };\nexport default AmazonPayElement;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport cx from 'classnames';\nimport styles from './ApplePayButton.module.scss';\nimport './ApplePayButton.scss';\nvar ApplePayButton = /** @class */ (function (_super) {\n    __extends(ApplePayButton, _super);\n    function ApplePayButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ApplePayButton.prototype.render = function (_a) {\n        var buttonColor = _a.buttonColor, buttonType = _a.buttonType;\n        /* eslint-disable jsx-a11y/no-static-element-interactions */\n        return (h(\"div\", { className: cx('adyen-checkout__applepay__button', \"adyen-checkout__applepay__button--\" + buttonColor, \"adyen-checkout__applepay__button--\" + buttonType, [styles['apple-pay-button']], [styles[\"apple-pay-button-\" + buttonColor]], [styles[\"apple-pay-button--type-\" + buttonType]]), onClick: this.props.onClick }));\n        /* eslint-enable jsx-a11y/no-static-element-interactions */\n    };\n    ApplePayButton.defaultProps = {\n        onClick: function () { },\n        buttonColor: 'black',\n        buttonType: 'plain'\n    };\n    return ApplePayButton;\n}(Component));\nexport default ApplePayButton;\n","var ApplePayService = /** @class */ (function () {\n    function ApplePayService(paymentRequest, options) {\n        var _this = this;\n        this.session = new ApplePaySession(options.version, paymentRequest);\n        this.session.onvalidatemerchant = function (event) { return _this.onvalidatemerchant(event, options.onValidateMerchant); };\n        this.session.onpaymentauthorized = function (event) { return _this.onpaymentauthorized(event, options.onPaymentAuthorized); };\n        this.session.oncancel = function (event) { return _this.oncancel(event, options.onCancel); };\n        if (typeof options.onPaymentMethodSelected === 'function') {\n            this.session.onpaymentmethodselected = function (event) { return _this.onpaymentmethodselected(event, options.onPaymentMethodSelected); };\n        }\n        if (typeof options.onShippingContactSelected === 'function') {\n            this.session.onshippingcontactselected = function (event) { return _this.onshippingcontactselected(event, options.onShippingContactSelected); };\n        }\n        if (typeof options.onShippingMethodSelected === 'function') {\n            this.session.onshippingmethodselected = function (event) { return _this.onshippingmethodselected(event, options.onShippingMethodSelected); };\n        }\n    }\n    /**\n     * Begins the merchant validation process.\n     * When this method is called, the payment sheet is presented and the merchant validation process is initiated.\n     * @see {@link https://developer.apple.com/documentation/apple_pay_on_the_web/applepaysession/1778001-begin}\n     */\n    ApplePayService.prototype.begin = function () {\n        return this.session.begin();\n    };\n    /**\n     * An event handler that is called when the payment sheet is displayed.\n     * Use this attribute to request and return a merchant session.\n     * @param event - An ApplePayValidateMerchantEvent object (contains validationURL)\n     * @param onValidateMerchant - A promise implemented by the merchant that will resolve with the merchantSession\n     * @see {@link https://developer.apple.com/documentation/apple_pay_on_the_web/apple_pay_js_api/providing_merchant_validation}\n     */\n    ApplePayService.prototype.onvalidatemerchant = function (event, onValidateMerchant) {\n        var _this = this;\n        new Promise(function (resolve, reject) { return onValidateMerchant(resolve, reject, event.validationURL); })\n            .then(function (response) {\n            _this.session.completeMerchantValidation(response);\n        })\n            .catch(function (error) {\n            console.error(error);\n            _this.session.abort();\n        });\n    };\n    /**\n     * An event handler that is called when the user has authorized the Apple Pay payment with Touch ID, Face ID, or passcode.\n     * The onpaymentauthorized function must complete the payment and respond by calling completePayment before the 30 second timeout.\n     * @param event - The event parameter contains the payment (ApplePayPayment) attribute.\n     * @param onPaymentAuthorized - A promise that will complete the payment when resolved. Use this promise to process the payment.\n     * @see {@link https://developer.apple.com/documentation/apple_pay_on_the_web/applepaysession/1778020-onpaymentauthorized}\n     */\n    ApplePayService.prototype.onpaymentauthorized = function (event, onPaymentAuthorized) {\n        var _this = this;\n        return new Promise(function (resolve, reject) { return onPaymentAuthorized(resolve, reject, event); })\n            .then(function () {\n            _this.session.completePayment(ApplePaySession.STATUS_SUCCESS);\n        })\n            .catch(function () {\n            _this.session.completePayment(ApplePaySession.STATUS_FAILURE);\n        });\n    };\n    /**\n     * An event handler that is called when a new payment method is selected.\n     * The onpaymentmethodselected function must resolve before the 30 second timeout\n     * @param event - The event parameter contains the payment (ApplePayPayment) attribute.\n     * @param onPaymentMethodSelected - A promise that will complete the payment when resolved. Use this promise to process the payment.\n     * @see {@link https://developer.apple.com/documentation/apple_pay_on_the_web/applepaysession/1778013-onpaymentmethodselected}\n     */\n    ApplePayService.prototype.onpaymentmethodselected = function (event, onPaymentMethodSelected) {\n        var _this = this;\n        return new Promise(function (resolve, reject) { return onPaymentMethodSelected(resolve, reject, event); })\n            .then(function (paymentMethodUpdate) {\n            _this.session.completePaymentMethodSelection(paymentMethodUpdate);\n        })\n            .catch(function (paymentMethodUpdate) {\n            _this.session.completePaymentMethodSelection(paymentMethodUpdate);\n        });\n    };\n    /**\n     * An event handler that is called when a new payment method is selected.\n     * The onpaymentmethodselected function must resolve before the 30 second timeout\n     * @param event - The event parameter contains the shippingContact attribute.\n     * @param onShippingContactSelected - A promise that will complete the selection of a shipping contact with an update.\n     * @see {@link https://developer.apple.com/documentation/apple_pay_on_the_web/applepaysession/1778009-onshippingcontactselected}\n     */\n    ApplePayService.prototype.onshippingcontactselected = function (event, onShippingContactSelected) {\n        var _this = this;\n        return new Promise(function (resolve, reject) { return onShippingContactSelected(resolve, reject, event); })\n            .then(function (shippingContactUpdate) {\n            _this.session.completeShippingContactSelection(shippingContactUpdate);\n        })\n            .catch(function (shippingContactUpdate) {\n            _this.session.completeShippingContactSelection(shippingContactUpdate);\n        });\n    };\n    /**\n     * An event handler that is called when a new payment method is selected.\n     * The onpaymentmethodselected function must resolve before the 30 second timeout\n     * @param event - The event parameter contains the shippingMethod attribute.\n     * @param onShippingMethodSelected - A promise that will complete the selection of a shipping method with an update.\n     * @see {@link https://developer.apple.com/documentation/apple_pay_on_the_web/applepaysession/1778009-onshippingcontactselected}\n     */\n    ApplePayService.prototype.onshippingmethodselected = function (event, onShippingMethodSelected) {\n        var _this = this;\n        return new Promise(function (resolve, reject) { return onShippingMethodSelected(resolve, reject, event); })\n            .then(function (shippingMethodUpdate) {\n            _this.session.completeShippingMethodSelection(shippingMethodUpdate);\n        })\n            .catch(function (shippingMethodUpdate) {\n            _this.session.completeShippingMethodSelection(shippingMethodUpdate);\n        });\n    };\n    /**\n     * An event handler that is automatically called when the payment UI is dismissed.\n     * This function can be called even after an onpaymentauthorized event has been dispatched.\n     * @param event -\n     * @param onCancel -\n     * @see {@link https://developer.apple.com/documentation/apple_pay_on_the_web/applepaysession/1778029-oncancel}\n     */\n    ApplePayService.prototype.oncancel = function (event, onCancel) {\n        return onCancel(event);\n    };\n    return ApplePayService;\n}());\nexport default ApplePayService;\n","import { __rest } from \"tslib\";\nimport { getDecimalAmount } from '../../utils/amount-util';\nvar formatAmount = function (amount) { return String(getDecimalAmount(amount.value, amount.currency)); };\nexport var preparePaymentRequest = function (_a) {\n    var countryCode = _a.countryCode, companyName = _a.companyName, amount = _a.amount, props = __rest(_a, [\"countryCode\", \"companyName\", \"amount\"]);\n    var formattedAmount = formatAmount(amount);\n    return {\n        countryCode: countryCode,\n        currencyCode: amount.currency,\n        total: {\n            label: props.totalPriceLabel,\n            amount: formattedAmount,\n            type: props.totalPriceStatus\n        },\n        lineItems: props.lineItems,\n        shippingMethods: props.shippingMethods,\n        shippingType: props.shippingType,\n        merchantCapabilities: props.merchantCapabilities,\n        supportedCountries: props.supportedCountries,\n        supportedNetworks: props.supportedNetworks,\n        requiredShippingContactFields: props.requiredShippingContactFields,\n        requiredBillingContactFields: props.requiredBillingContactFields,\n        billingContact: props.billingContact,\n        shippingContact: props.shippingContact,\n        applicationData: props.applicationData\n    };\n};\nexport default preparePaymentRequest;\n","var defaultProps = {\n    // Transaction Information\n    amount: { currency: 'USD', value: 0 },\n    /**\n     * The merchants two-letter ISO 3166 country code.\n     */\n    countryCode: 'US',\n    totalPriceStatus: 'final',\n    totalPriceLabel: undefined,\n    configuration: {\n        merchantName: '',\n        merchantIdentifier: ''\n    },\n    /**\n     * https://developer.apple.com/documentation/apple_pay_on_the_web/applepaypaymentrequest/1916120-lineitems\n     * A set of line items that explain recurring payments and additional charges and discounts.\n     */\n    lineItems: undefined,\n    /**\n     * https://developer.apple.com/documentation/apple_pay_on_the_web/applepaypaymentrequest/1916123-merchantcapabilities\n     * The payment capabilities supported by the merchant.\n     */\n    merchantCapabilities: ['supports3DS'],\n    /**\n     * https://developer.apple.com/documentation/apple_pay_on_the_web/applepaypaymentrequest/1916121-shippingmethods\n     * A list of available methods for shipping physical goods.\n     */\n    shippingMethods: undefined,\n    /**\n     * https://developer.apple.com/documentation/apple_pay_on_the_web/applepaypaymentrequest/1916128-shippingtype\n     * An optional value that indicates how purchased items are to be shipped.\n     */\n    shippingType: undefined,\n    /**\n     * https://developer.apple.com/documentation/apple_pay_on_the_web/applepaypaymentrequest/2928612-supportedcountries\n     * A list of two-character country codes you provide, used to limit payments to cards from specific countries.\n     */\n    supportedCountries: undefined,\n    /**\n     * https://developer.apple.com/documentation/apple_pay_on_the_web/applepaypaymentrequest/1916122-supportednetworks\n     * The payment networks supported by the merchant.\n     */\n    supportedNetworks: ['amex', 'discover', 'masterCard', 'visa'],\n    // Requested Billing and Shipping Contact Information\n    /**\n     * The fields of billing information that you require from the user to process the transaction.\n     */\n    requiredBillingContactFields: undefined,\n    /**\n     * The fields of shipping information that you require from the user to fulfill the order.\n     */\n    requiredShippingContactFields: undefined,\n    // Known Contact Information\n    billingContact: undefined,\n    shippingContact: undefined,\n    // Custom Data\n    applicationData: undefined,\n    // Events\n    onSubmit: function () { },\n    onError: function () { },\n    onAuthorized: function (resolve) { return resolve(); },\n    onValidateMerchant: function (resolve, reject) { return reject('onValidateMerchant event not implemented'); },\n    onPaymentMethodSelected: null,\n    onShippingContactSelected: null,\n    onShippingMethodSelected: null,\n    // ButtonOptions\n    buttonType: 'plain',\n    buttonColor: 'black',\n    showPayButton: true // show or hide the Apple Pay button\n};\nexport default defaultProps;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport ApplePayButton from './components/ApplePayButton';\nimport ApplePayService from './ApplePayService';\nimport { preparePaymentRequest } from './payment-request';\nimport { normalizeAmount, resolveSupportedVersion } from './utils';\nimport defaultProps from './defaultProps';\nvar latestSupportedVersion = 10;\nvar ApplePayElement = /** @class */ (function (_super) {\n    __extends(ApplePayElement, _super);\n    function ApplePayElement(props) {\n        var _this = _super.call(this, props) || this;\n        _this.startSession = _this.startSession.bind(_this);\n        _this.submit = _this.submit.bind(_this);\n        return _this;\n    }\n    /**\n     * Formats the component props\n     */\n    ApplePayElement.prototype.formatProps = function (props) {\n        var _a;\n        var amount = normalizeAmount(props);\n        var version = props.version || resolveSupportedVersion(latestSupportedVersion);\n        return __assign(__assign({ onAuthorized: function (resolve) { return resolve(); }, onValidateMerchant: function (resolve, reject) { return reject('onValidateMerchant event not implemented'); } }, props), { version: version, totalPriceLabel: props.totalPriceLabel || ((_a = props.configuration) === null || _a === void 0 ? void 0 : _a.merchantName), amount: amount, onCancel: function (event) { return props.onError(event); } });\n    };\n    /**\n     * Formats the component data output\n     */\n    ApplePayElement.prototype.formatData = function () {\n        return {\n            paymentMethod: __assign({ type: ApplePayElement.type }, this.state)\n        };\n    };\n    ApplePayElement.prototype.submit = function () {\n        this.startPayment();\n    };\n    ApplePayElement.prototype.startPayment = function () {\n        return Promise.resolve(this.startSession(this.props.onAuthorized));\n    };\n    ApplePayElement.prototype.startSession = function (onPaymentAuthorized) {\n        var _this = this;\n        var _a = this.props, version = _a.version, onValidateMerchant = _a.onValidateMerchant, onSubmit = _a.onSubmit, onCancel = _a.onCancel, onPaymentMethodSelected = _a.onPaymentMethodSelected, onShippingMethodSelected = _a.onShippingMethodSelected, onShippingContactSelected = _a.onShippingContactSelected;\n        var paymentRequest = preparePaymentRequest(__assign({ companyName: this.props.configuration.merchantName }, this.props));\n        var session = new ApplePayService(paymentRequest, {\n            version: version,\n            onValidateMerchant: onValidateMerchant,\n            onCancel: onCancel,\n            onPaymentMethodSelected: onPaymentMethodSelected,\n            onShippingMethodSelected: onShippingMethodSelected,\n            onShippingContactSelected: onShippingContactSelected,\n            onPaymentAuthorized: function (resolve, reject, event) {\n                if (!!event.payment.token && !!event.payment.token.paymentData) {\n                    _this.setState({ 'applepay.token': btoa(JSON.stringify(event.payment.token.paymentData)) });\n                }\n                onSubmit({ data: _this.data, isValid: _this.isValid }, _this);\n                onPaymentAuthorized(resolve, reject, event);\n            }\n        });\n        session.begin();\n    };\n    Object.defineProperty(ApplePayElement.prototype, \"isValid\", {\n        /**\n         * Validation\n         *\n         * @remarks\n         * Apple Pay does not require any specific validation\n         */\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Determine a shopper's ability to return a form of payment from Apple Pay.\n     * @returns Promise Resolve/Reject whether the shopper can use Apple Pay\n     */\n    ApplePayElement.prototype.isAvailable = function () {\n        if (document.location.protocol !== 'https:') {\n            return Promise.reject(new Error('Trying to start an Apple Pay session from an insecure document'));\n        }\n        if (!this.props.onValidateMerchant) {\n            return Promise.reject(new Error('onValidateMerchant event was not provided'));\n        }\n        if (window.ApplePaySession && ApplePaySession.canMakePayments() && ApplePaySession.supportsVersion(this.props.version)) {\n            return Promise.resolve(ApplePaySession.canMakePayments());\n        }\n        return Promise.reject(new Error('Apple Pay is not available on this device'));\n    };\n    /**\n     * Renders the Apple Pay button or nothing in the Dropin\n     */\n    ApplePayElement.prototype.render = function () {\n        if (this.props.showPayButton) {\n            return h(ApplePayButton, { buttonColor: this.props.buttonColor, buttonType: this.props.buttonType, onClick: this.submit });\n        }\n        return null;\n    };\n    ApplePayElement.type = 'applepay';\n    ApplePayElement.defaultProps = defaultProps;\n    return ApplePayElement;\n}(UIElement));\nexport default ApplePayElement;\n","/**\n * @internal\n * Gets an amount value from an amount object or defaults to an amount property.\n */\nexport function normalizeAmount(props) {\n    var _a, _b;\n    if (typeof ((_a = props.amount) === null || _a === void 0 ? void 0 : _a.value) !== 'undefined' && ((_b = props.amount) === null || _b === void 0 ? void 0 : _b.currency)) {\n        return props.amount;\n    }\n    else if (typeof props.amount === 'number' && props.currencyCode) {\n        return { value: props.amount, currency: props.currencyCode };\n    }\n    return null;\n}\nexport function resolveSupportedVersion(latestVersion) {\n    var versions = [];\n    for (var i = latestVersion; i > 0; i--) {\n        versions.push(i);\n    }\n    return versions.find(function (v) { return v && window.ApplePaySession && ApplePaySession.supportsVersion(v); });\n}\n","import { __rest } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport { renderFormField } from '../FormFields';\nimport Field from '../FormFields/Field';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport './IssuerList.scss';\nvar payButtonLabel = function (_a, i18n) {\n    var issuer = _a.issuer, items = _a.items;\n    if (!issuer)\n        return i18n.get('continue');\n    var issuerName = items.find(function (i) { return i.id === issuer; }).name;\n    return i18n.get('continueTo') + \" \" + issuerName;\n};\nfunction IssuerList(_a) {\n    var items = _a.items, placeholder = _a.placeholder, _b = _a.issuer, issuer = _b === void 0 ? null : _b, props = __rest(_a, [\"items\", \"placeholder\", \"issuer\"]);\n    var i18n = useCoreContext().i18n;\n    var _c = useState(issuer), selectedIssuer = _c[0], setSelectedIssuer = _c[1];\n    var _d = useState(false), errors = _d[0], setErrors = _d[1];\n    var _e = useState('ready'), status = _e[0], setStatus = _e[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    var onSelectIssuer = function (e) {\n        var newIssuer = e.currentTarget.getAttribute('data-value');\n        setSelectedIssuer(newIssuer);\n        setErrors(false);\n    };\n    useEffect(function () {\n        props.onChange({ issuer: selectedIssuer });\n    }, [selectedIssuer]);\n    this.showValidation = function () {\n        setErrors(!selectedIssuer);\n    };\n    return (h(\"div\", { className: \"adyen-checkout__issuer-list\" },\n        h(Field, { errorMessage: errors, classNameModifiers: ['issuer-list'] }, renderFormField('select', {\n            items: items,\n            selected: selectedIssuer,\n            placeholder: i18n.get(placeholder),\n            name: 'issuer',\n            className: 'adyen-checkout__issuer-list__dropdown',\n            onChange: onSelectIssuer\n        })),\n        props.showPayButton && props.payButton({ status: status, label: payButtonLabel({ issuer: selectedIssuer, items: items }, i18n) })));\n}\nIssuerList.defaultProps = {\n    onChange: function () { },\n    placeholder: 'idealIssuer.selectField.placeholder'\n};\nexport default IssuerList;\n","import { __assign } from \"tslib\";\nimport { getImageUrl } from './get-image';\nvar getIssuerImageUrl = function (options, type) { return function (issuer) {\n    if (!issuer)\n        return null;\n    var imageOptions = __assign({ parentFolder: issuer ? type + \"/\" : '', type: issuer || type }, options);\n    return getImageUrl(imageOptions)(issuer);\n}; };\nexport default getIssuerImageUrl;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport IssuerList from '../internal/IssuerList';\nimport getIssuerImageUrl from '../../utils/get-issuer-image';\nimport { FALLBACK_CONTEXT } from '../../core/config';\nimport CoreProvider from '../../core/Context/CoreProvider';\nvar IssuerListContainer = /** @class */ (function (_super) {\n    __extends(IssuerListContainer, _super);\n    function IssuerListContainer(props) {\n        var _this = _super.call(this, props) || this;\n        if (_this.props.showImage) {\n            var getIssuerIcon_1 = getIssuerImageUrl({ loadingContext: _this.props.loadingContext }, _this.constructor['type']);\n            _this.props.items = _this.props.items.map(function (item) { return (__assign(__assign({}, item), { icon: getIssuerIcon_1(item.id) })); });\n        }\n        return _this;\n    }\n    /**\n     * Formats props on construction time\n     */\n    IssuerListContainer.prototype.formatProps = function (props) {\n        return __assign(__assign({}, props), { items: props.details && props.details.length ? (props.details.find(function (d) { return d.key === 'issuer'; }) || {}).items : props.items });\n    };\n    /**\n     * Formats the component data output\n     */\n    IssuerListContainer.prototype.formatData = function () {\n        return {\n            paymentMethod: {\n                type: this.constructor['type'],\n                issuer: this.state.issuer\n            }\n        };\n    };\n    Object.defineProperty(IssuerListContainer.prototype, \"isValid\", {\n        /**\n         * Returns whether the component state is valid or not\n         */\n        get: function () {\n            var _a;\n            return !!((_a = this.state) === null || _a === void 0 ? void 0 : _a.issuer);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IssuerListContainer.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(IssuerList, __assign({ ref: function (ref) {\n                    _this.componentRef = ref;\n                } }, this.props, this.state, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton }))));\n    };\n    IssuerListContainer.defaultProps = {\n        showImage: true,\n        onValid: function () { },\n        items: [],\n        loadingContext: FALLBACK_CONTEXT\n    };\n    return IssuerListContainer;\n}(UIElement));\nexport default IssuerListContainer;\n","import { __assign, __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar BillDeskOnlineElement = /** @class */ (function (_super) {\n    __extends(BillDeskOnlineElement, _super);\n    function BillDeskOnlineElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BillDeskOnlineElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, _super.prototype.formatProps.call(this, props)), { showImage: false });\n    };\n    BillDeskOnlineElement.type = 'billdesk_online';\n    return BillDeskOnlineElement;\n}(IssuerListContainer));\nexport default BillDeskOnlineElement;\n","import { __assign, __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar BillDeskWalletElement = /** @class */ (function (_super) {\n    __extends(BillDeskWalletElement, _super);\n    function BillDeskWalletElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BillDeskWalletElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, _super.prototype.formatProps.call(this, props)), { showImage: false, placeholder: 'issuerList.wallet.placeholder' });\n    };\n    BillDeskWalletElement.type = 'billdesk_wallet';\n    return BillDeskWalletElement;\n}(IssuerListContainer));\nexport default BillDeskWalletElement;\n","var shortestPermittedCardLength;\nvar CardType = {};\nCardType.__NO_BRAND = 'noBrand';\nCardType.cards = [];\nCardType.cards.push({\n    cardType: 'mc',\n    displayName: 'Mastercard',\n    startingRules: [51, 52, 53, 54, 55, 22, 23, 24, 25, 26, 27],\n    permittedLengths: [16],\n    pattern: /^(5[1-5][0-9]{0,14}|2[2-7][0-9]{0,14})$/,\n    securityCode: 'CVC'\n});\nCardType.cards.push({ cardType: 'visadankort', startingRules: [4571], permittedLengths: [16], pattern: /^(4571)[0-9]{0,12}$/ });\nCardType.cards.push({\n    cardType: 'visa',\n    displayName: 'Visa',\n    startingRules: [4],\n    permittedLengths: [13, 16, 19],\n    pattern: /^4[0-9]{0,18}$/,\n    securityCode: 'CVV'\n});\nCardType.cards.push({ cardType: 'amex', startingRules: [34, 37], permittedLengths: [15], pattern: /^3[47][0-9]{0,13}$/, securityCode: 'CID' });\nCardType.cards.push({ cardType: 'diners', startingRules: [36], permittedLengths: [14], pattern: /^(36)[0-9]{0,12}$/ });\nCardType.cards.push({ cardType: 'maestrouk', startingRules: [6759], permittedLengths: [16, 18, 19], pattern: /^(6759)[0-9]{0,15}$/ });\nCardType.cards.push({ cardType: 'solo', startingRules: [6767], permittedLengths: [16, 18, 19], pattern: /^(6767)[0-9]{0,15}$/ });\nCardType.cards.push({\n    cardType: 'laser',\n    startingRules: [6304, 6706, 677117, 677120],\n    permittedLengths: [16, 17, 18, 19],\n    pattern: /^(6304|6706|6709|6771)[0-9]{0,15}$/,\n    cvcRequired: false\n});\nCardType.cards.push({\n    cardType: 'discover',\n    startingRules: [6011, 644, 645, 646, 647, 648, 649, 65],\n    permittedLengths: [16],\n    pattern: /^(6011[0-9]{0,12}|(644|645|646|647|648|649)[0-9]{0,13}|65[0-9]{0,14})$/\n});\nCardType.cards.push({\n    cardType: 'jcb',\n    startingRules: [3528, 3529, 353, 354, 355, 356, 357, 358],\n    permittedLengths: [16, 19],\n    pattern: /^(352[8,9]{1}[0-9]{0,15}|35[4-8]{1}[0-9]{0,16})$/,\n    securityCode: 'CAV'\n});\nCardType.cards.push({\n    cardType: 'bcmc',\n    startingRules: [6703, 479658, 606005],\n    permittedLengths: [16, 17, 18, 19],\n    pattern: /^((6703)[0-9]{0,15}|(479658|606005)[0-9]{0,13})$/,\n    cvcRequired: false,\n    hideCVC: true\n});\nCardType.cards.push({ cardType: 'bijcard', startingRules: [5100081], permittedLengths: [16], pattern: /^(5100081)[0-9]{0,9}$/ });\nCardType.cards.push({ cardType: 'dankort', startingRules: [5019], permittedLengths: [16], pattern: /^(5019)[0-9]{0,12}$/ });\nCardType.cards.push({ cardType: 'hipercard', startingRules: [606282], permittedLengths: [16], pattern: /^(606282)[0-9]{0,10}$/ });\n// Moved above maestro (from position below uatp) to stop maestro being recognised over cup\nCardType.cards.push({ cardType: 'cup', startingRules: [62, 81], permittedLengths: [14, 15, 16, 17, 18, 19], pattern: /^(62|81)[0-9]{0,17}$/ }); // orig & android v1 + modified to include our test cards (81...)\nCardType.cards.push({\n    cardType: 'maestro',\n    startingRules: [50, 56, 57, 58, 6],\n    permittedLengths: [16, 17, 18, 19],\n    pattern: /^(5[0|6-8][0-9]{0,17}|6[0-9]{0,18})$/,\n    cvcRequired: false\n});\nCardType.cards.push({\n    cardType: 'elo',\n    startingRules: [\n        506699,\n        50670,\n        50671,\n        50672,\n        50673,\n        50674,\n        50675,\n        50676,\n        506770,\n        506771,\n        506772,\n        506773,\n        506774,\n        506775,\n        506776,\n        506777,\n        506778,\n        401178,\n        438935,\n        451416,\n        457631,\n        457632,\n        504175,\n        627780,\n        636297,\n        636368,\n        651653,\n        506728,\n        509096,\n        509083,\n        509082,\n        655001,\n        650487,\n        509081,\n        509074,\n        509066,\n        431274,\n        438935,\n        457631,\n        457632,\n        506744,\n        506747,\n        506748,\n        506753,\n        509069,\n        650906,\n        506730,\n        509067,\n        655003,\n        509068\n    ],\n    permittedLengths: [16],\n    pattern: /^((((506699)|(506770)|(506771)|(506772)|(506773)|(506774)|(506775)|(506776)|(506777)|(506778)|(401178)|(438935)|(451416)|(457631)|(457632)|(504175)|(627780)|(636368)|(636297))[0-9]{0,10})|((50676)|(50675)|(50674)|(50673)|(50672)|(50671)|(50670))[0-9]{0,11})$/ // eslint-disable-line max-len\n});\nCardType.cards.push({ cardType: 'uatp', startingRules: [1], permittedLengths: [15], pattern: /^1[0-9]{0,14}$/, cvcRequired: false });\nCardType.cards.push({\n    cardType: 'cartebancaire',\n    displayName: 'Cartes Bancaires',\n    startingRules: [4, 5, 6],\n    permittedLengths: [16],\n    pattern: /^[4-6][0-9]{0,15}$/\n});\nCardType.cards.push({ cardType: 'visaalphabankbonus', startingRules: [450903], permittedLengths: [16], pattern: /^(450903)[0-9]{0,10}$/ });\nCardType.cards.push({ cardType: 'mcalphabankbonus', startingRules: [510099], permittedLengths: [16], pattern: /^(510099)[0-9]{0,10}$/ });\nCardType.cards.push({\n    cardType: 'hiper',\n    startingRules: [637095, 637568, 637599, 637609, 637612],\n    permittedLengths: [16],\n    pattern: /^(637095|637568|637599|637609|637612)[0-9]{0,10}$/\n});\nCardType.cards.push({ cardType: 'oasis', startingRules: [982616], permittedLengths: [16], pattern: /^(982616)[0-9]{0,10}$/, cvcRequired: false });\nCardType.cards.push({\n    cardType: 'karenmillen',\n    startingRules: [98261465],\n    permittedLengths: [16],\n    pattern: /^(98261465)[0-9]{0,8}$/,\n    cvcRequired: false\n});\nCardType.cards.push({ cardType: 'warehouse', startingRules: [982633], permittedLengths: [16], pattern: /^(982633)[0-9]{0,10}$/, cvcRequired: false });\nCardType.cards.push({ cardType: 'mir', startingRules: [220], permittedLengths: [16, 17, 18, 19], pattern: /^(220)[0-9]{0,16}$/ });\nCardType.cards.push({ cardType: 'codensa', startingRules: [590712], permittedLengths: [16], pattern: /^(590712)[0-9]{0,10}$/ });\nCardType.cards.push({\n    cardType: 'naranja',\n    startingRules: [377798, 377799, 402917, 402918, 527571, 527572, 589562],\n    permittedLengths: [16, 17, 18, 19],\n    pattern: /^(37|40|5[28])([279])\\d*$/\n});\n// TODO: 589657 clashes with naranja, rest ok\nCardType.cards.push({\n    cardType: 'cabal',\n    startingRules: [589657, 600691, 603522, 6042, 6043, 636908],\n    permittedLengths: [16, 17, 18, 19],\n    pattern: /^(58|6[03])([03469])\\d*$/\n});\nCardType.cards.push({\n    cardType: 'shopping',\n    startingRules: [2799, 589407, 603488],\n    permittedLengths: [16, 17, 18, 19],\n    pattern: /^(27|58|60)([39])\\d*$/\n});\nCardType.cards.push({ cardType: 'argencard', startingRules: [501], permittedLengths: [16, 17, 18, 19], pattern: /^(50)(1)\\d*$/ }); // NOTE: starting rule changed, from 501105, to not clash with dankort. Plus it now matches its regEx!\nCardType.cards.push({ cardType: 'troy', startingRules: [9792], permittedLengths: [16], pattern: /^(97)(9)\\d*$/ });\n// TODO: clashes with cabal\nCardType.cards.push({ cardType: 'forbrugsforeningen', startingRules: [600722], permittedLengths: [16], pattern: /^(60)(0)\\d*$/ });\nCardType.cards.push({\n    cardType: 'vpay',\n    startingRules: [401, 408, 413, 434, 435, 437, 439, 441, 442, 443, 444, 446, 447, 455, 458, 460, 461, 463, 466, 471, 479, 482, 483, 487],\n    permittedLengths: [13, 14, 15, 16, 17, 18, 19],\n    pattern: /^(40[1,8]|413|43[4,5]|44[1,2,3,4,6,7]|45[5,8]|46[0,1,3,6]|47[1,9]|48[2,3,7])[0-9]{0,16}$/ // ^(4[0-1|3-8][0-9]{1,17})$\n});\nvar detectCard = function (pCardNumber, pAvailableCards) {\n    var matchedCards;\n    var i;\n    var len;\n    if (pAvailableCards) {\n        // Filter CardType.cards down to those that are found in pAvailableCards\n        matchedCards = CardType.cards\n            .filter(function (card) { return pAvailableCards.includes(card.cardType); })\n            // Further filter them to those with a regEx pattern that matches pCardNumber\n            .filter(function (card) { return Object.prototype.hasOwnProperty.call(card, 'pattern') && pCardNumber.match(card.pattern); });\n        // If we have matched cards: if there's only one - return it; else return the one with the longest startingRule\n        if (matchedCards.length) {\n            if (matchedCards.length === 1) {\n                return matchedCards[0];\n            }\n            // Find longest rule for each matched card & store it as a property on the card\n            for (i = 0, len = matchedCards.length; i < len; i += 1) {\n                if (!matchedCards[i].longestRule) {\n                    var longestRule = matchedCards[i].startingRules.reduce(function (a, b) { return (a > b ? a : b); });\n                    // What we actually store is how many chars are in the rule\n                    matchedCards[i].longestRule = String(longestRule).length;\n                }\n            }\n            // Based on each matched cards longest rule - find the card with the longest one!\n            return matchedCards.reduce(function (a, b) { return (a.longestRule >= b.longestRule ? a : b); });\n        }\n        return { cardType: CardType.__NO_BRAND };\n    }\n    return { cardType: CardType.__NO_BRAND };\n};\nvar detectCardLength = function (pCard, pUnformattedVal) {\n    var maxLength;\n    var shortenedNewValue;\n    var lengthDiff = 0;\n    var reachedValidLength = false;\n    var unformattedVal = pUnformattedVal;\n    // Find the longest of the permitted card number lengths for this card brand\n    var maxPermittedLength = pCard.cardType !== CardType.__NO_BRAND ? pCard.permittedLengths[pCard.permittedLengths.length - 1] : 0;\n    // If the input value is longer than it's max permitted length then shorten it to that length\n    if (maxPermittedLength && unformattedVal > maxPermittedLength) {\n        lengthDiff = unformattedVal.length - maxPermittedLength;\n        if (lengthDiff > 0) {\n            unformattedVal = unformattedVal.substring(0, unformattedVal.length - lengthDiff);\n            shortenedNewValue = unformattedVal;\n        }\n    }\n    // If cardNumber has reached one of the cardBrand's 'permitted lengths' - mark it as 'valid'\n    pCard.permittedLengths.forEach(function (pItem) {\n        if (unformattedVal.length === pItem) {\n            reachedValidLength = true;\n        }\n    });\n    // If cardNumber is as long as the cardBrand's maximum permitted length then set the maxLength var\n    if (unformattedVal.length === maxPermittedLength) {\n        // Set maxlength to max + the right amount of spaces (one for every 4 digits, but not on the last block)\n        var div = Math.floor(unformattedVal.length / 4);\n        var mod = unformattedVal.length % 4;\n        var numSpaces = mod > 0 ? div : div - 1;\n        maxLength = maxPermittedLength + numSpaces;\n        if (pCard.cardType.toLowerCase() === 'amex') {\n            maxLength = maxPermittedLength + 2; // = 17 = 15 digits with space after 4th & 10th\n        }\n    }\n    return {\n        shortenedNewValue: shortenedNewValue,\n        maxLength: maxLength,\n        reachedValidLength: reachedValidLength\n    };\n};\nvar getShortestPermittedCardLength = function () {\n    if (!shortestPermittedCardLength) {\n        var permittedLengthsArray_1 = [];\n        CardType.cards.forEach(function (pItem) {\n            permittedLengthsArray_1 = permittedLengthsArray_1.concat(pItem.permittedLengths);\n        });\n        shortestPermittedCardLength = Math.min.apply(null, permittedLengthsArray_1);\n    }\n    return shortestPermittedCardLength;\n};\nvar getCardByBrand = function (pBrand) {\n    var cardType = CardType.cards.filter(function (card) { return card.cardType === pBrand; });\n    return cardType[0];\n};\nvar getDisplayName = function (pBrand) {\n    var card = getCardByBrand(pBrand);\n    return card ? card.displayName : null;\n};\nvar isGenericCardType = function (type) {\n    if (type === void 0) { type = 'card'; }\n    return type === 'card' || type === 'scheme';\n};\nexport default {\n    detectCard: detectCard,\n    detectCardLength: detectCardLength,\n    getShortestPermittedCardLength: getShortestPermittedCardLength,\n    getCardByBrand: getCardByBrand,\n    getDisplayName: getDisplayName,\n    isGenericCardType: isGenericCardType,\n    __NO_BRAND: CardType.__NO_BRAND,\n    allCards: CardType.cards\n};\n","import { getImageUrl } from '../../../../utils/get-image';\nimport cardType from '../../../internal/SecuredFields/lib/utilities/cardType';\nexport var getCardImageUrl = function (brand, loadingContext) {\n    var imageOptions = {\n        type: brand === 'card' ? 'nocard' : brand || 'nocard',\n        extension: 'svg',\n        loadingContext: loadingContext\n    };\n    return getImageUrl(imageOptions)(brand);\n};\n/**\n * Creates an object used for setting state - that will trigger the rendering of a select element to allow a choice between 2 different card variants\n * @param types - array containing 2 card brands or types\n * @param switcherType - type of switcher ('brandSwitcher' or 'cardTypeSwitcher' - the latter would switch between 'debit' & 'credit' varieties)\n */\nexport var createCardVariantSwitcher = function (types, switcherType) {\n    var leadType = types[0];\n    var displayName = cardType.getDisplayName(leadType); // Works for when types are card brands e.g. 'visa', 'mc' NOT when types are 'credit'/'debit'\n    var leadDisplayName = displayName || leadType;\n    var subType = types[1];\n    displayName = cardType.getDisplayName(subType);\n    var subDisplayName = displayName || subType;\n    return {\n        stateObject: {\n            additionalSelectElements: [\n                { id: leadType, name: leadDisplayName },\n                { id: subType, name: subDisplayName }\n            ],\n            // additionalSelectValue: leadType, // comment out line if no initial selection is to be made\n            additionalSelectType: switcherType\n        },\n        leadType: leadType\n    };\n};\n","import { h } from 'preact';\nimport { getCardImageUrl } from '../utils';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport styles from '../CardInput.module.scss';\nexport default function BrandIcon(_a) {\n    var brand = _a.brand;\n    var loadingContext = useCoreContext().loadingContext;\n    var imageName = brand === 'card' ? 'nocard' : brand;\n    var handleError = function (e) {\n        e.target.style.cssText = 'display: none';\n    };\n    return (h(\"img\", { className: styles['card-input__icon'] + \" adyen-checkout__card__cardNumber__brandIcon\", onError: handleError, alt: brand, src: getCardImageUrl(imageName, loadingContext) }));\n}\n","import { h } from 'preact';\nimport styles from '../../CardInput.module.scss';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport { getCardImageUrl } from '../../utils';\nimport './DualBrandingIcon.scss';\nvar DualBrandingIcon = function (_a) {\n    var brand = _a.brand, onClick = _a.onClick, dataValue = _a.dataValue, notSelected = _a.notSelected;\n    var loadingContext = useCoreContext().loadingContext;\n    var imageName = brand === 'card' ? 'nocard' : brand;\n    var handleError = function (e) {\n        e.target.style.cssText = 'display: none';\n    };\n    return (h(\"img\", { className: styles['card-input__icon'] + \" \" + (notSelected ? 'adyen-checkout__card__cardNumber__brandIcon--not-selected' : '') + \" adyen-checkout__card__cardNumber__brandIcon\", onError: handleError, alt: brand, src: getCardImageUrl(imageName, loadingContext), onClick: onClick, \"data-value\": dataValue }));\n};\nexport default DualBrandingIcon;\n","import { h } from 'preact';\nimport classNames from 'classnames';\nimport BrandIcon from './BrandIcon';\nimport DualBrandingIcon from './DualBrandingIcon/DualBrandingIcon';\nimport Field from '../../../../internal/FormFields/Field';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport styles from '../CardInput.module.scss';\nexport default function CardNumber(props) {\n    var _a;\n    var i18n = useCoreContext().i18n;\n    var _b = props.error, error = _b === void 0 ? '' : _b, _c = props.isValid, isValid = _c === void 0 ? false : _c, _d = props.onFocusField, onFocusField = _d === void 0 ? function () { } : _d, dualBrandingElements = props.dualBrandingElements, dualBrandingChangeHandler = props.dualBrandingChangeHandler, dualBrandingSelected = props.dualBrandingSelected;\n    return (h(Field, { label: props.label, focused: props.focused, filled: props.filled, classNameModifiers: ['cardNumber'], onFocusField: function () { return onFocusField('encryptedCardNumber'); }, errorMessage: error && i18n.get(error), isValid: isValid, dualBrandingElements: dualBrandingElements },\n        h(\"span\", { \"data-cse\": \"encryptedCardNumber\", className: classNames((_a = {\n                    'adyen-checkout__input': true,\n                    'adyen-checkout__input--large': true,\n                    'adyen-checkout__card__cardNumber__input': true\n                },\n                _a[styles['adyen-checkout__input']] = true,\n                _a['adyen-checkout__input--error'] = error,\n                _a['adyen-checkout__input--focus'] = props.focused,\n                _a['adyen-checkout__input--valid'] = isValid,\n                _a['adyen-checkout__card__cardNumber__input--noBrand'] = !props.showBrandIcon,\n                _a)) }, props.showBrandIcon && !dualBrandingElements && h(BrandIcon, { brand: props.brand })),\n        dualBrandingElements && !error && (h(\"div\", { className: classNames([\n                'adyen-checkout__card__dual-branding__buttons',\n                { 'adyen-checkout__card__dual-branding__buttons--active': isValid }\n            ]) }, dualBrandingElements.map(function (element) { return (h(DualBrandingIcon, { key: element.id, brand: element.id, onClick: dualBrandingChangeHandler, dataValue: element.id, notSelected: dualBrandingSelected !== '' && dualBrandingSelected !== element.id })); })))));\n}\n","import { h } from 'preact';\nimport classNames from 'classnames';\nexport default function CVCHint(_a) {\n    var _b = _a.frontCVC, frontCVC = _b === void 0 ? false : _b;\n    var hintClassnames = classNames({\n        'adyen-checkout__card__cvc__hint__wrapper': true,\n        'adyen-checkout__field__cvc--front-hint': !!frontCVC,\n        'adyen-checkout__field__cvc--back-hint': !frontCVC\n    });\n    /* eslint-disable max-len */\n    return (h(\"div\", { className: hintClassnames },\n        h(\"svg\", { className: 'adyen-checkout__card__cvc__hint adyen-checkout__card__cvc__hint--front', width: \"27\", height: \"18\", viewBox: \"0 0 27 18\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M0 3C0 1.34315 1.34315 0 3 0H24C25.6569 0 27 1.34315 27 3V15C27 16.6569 25.6569 18 24 18H3C1.34315 18 0 16.6569 0 15V3Z\", fill: \"#E6E9EB\" }),\n            h(\"rect\", { x: \"4\", y: \"12\", width: \"19\", height: \"2\", fill: \"#B9C4C9\" }),\n            h(\"rect\", { x: \"4\", y: \"4\", width: \"4\", height: \"4\", rx: \"1\", fill: \"white\" }),\n            h(\"rect\", { className: 'adyen-checkout__card__cvc__hint__location', x: \"16.5\", y: \"4.5\", width: \"7\", height: \"5\", rx: \"2.5\", stroke: \"#D10244\" })),\n        h(\"svg\", { className: 'adyen-checkout__card__cvc__hint adyen-checkout__card__cvc__hint--back', width: \"27\", height: \"18\", viewBox: \"0 0 27 18\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M27 4.00001V3.37501C27 2.4799 26.6444 1.62146 26.0115 0.988518C25.3786 0.355581 24.5201 0 23.625 0H3.375C2.47989 0 1.62145 0.355581 0.988514 0.988518C0.355579 1.62146 0 2.4799 0 3.37501V4.00001H27Z\", fill: \"#E6E9EB\" }),\n            h(\"path\", { d: \"M0 6.99994V14.6666C0 15.5507 0.355579 16.3985 0.988514 17.0237C1.62145 17.6488 2.47989 18 3.375 18H23.625C24.5201 18 25.3786 17.6488 26.0115 17.0237C26.6444 16.3985 27 15.5507 27 14.6666V6.99994H0Z\", fill: \"#E6E9EB\" }),\n            h(\"rect\", { y: \"4.00012\", width: \"27\", height: \"3.00001\", fill: \"#687282\" }),\n            h(\"path\", { d: \"M4 11C4 10.4477 4.44772 10 5 10H21C22.1046 10 23 10.8954 23 12C23 13.1046 22.1046 14 21 14H5C4.44771 14 4 13.5523 4 13V11Z\", fill: \"white\" }),\n            h(\"rect\", { className: 'adyen-checkout__card__cvc__hint__location', x: \"16.5\", y: \"9.5\", width: \"7\", height: \"5\", rx: \"2.5\", stroke: \"#D10244\" }))));\n    /* eslint-enable max-len */\n}\n","import { __spreadArrays } from \"tslib\";\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport CVCHint from './CVCHint';\nimport Field from '../../../../internal/FormFields/Field';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport styles from '../CardInput.module.scss';\nexport default function CVC(props) {\n    var _a, _b;\n    var label = props.label, _c = props.onFocusField, onFocusField = _c === void 0 ? function () { } : _c, _d = props.error, error = _d === void 0 ? '' : _d, _e = props.className, className = _e === void 0 ? '' : _e, _f = props.classNameModifiers, classNameModifiers = _f === void 0 ? [] : _f, focused = props.focused, filled = props.filled, isValid = props.isValid, _g = props.frontCVC, frontCVC = _g === void 0 ? false : _g, _h = props.hideCVCForBrand, hideCVCForBrand = _h === void 0 ? false : _h, _j = props.cvcRequired, cvcRequired = _j === void 0 ? true : _j;\n    var i18n = useCoreContext().i18n;\n    var fieldClassnames = classNames(className, (_a = {\n            'adyen-checkout__field__cvc': true\n        },\n        _a[styles['adyen-checkout__card__cvc__input--hidden']] = hideCVCForBrand,\n        _a['adyen-checkout__field__cvc--optional'] = !cvcRequired,\n        _a));\n    var cvcClassnames = classNames((_b = {\n            'adyen-checkout__input': true,\n            'adyen-checkout__input--small': true,\n            'adyen-checkout__card__cvc__input': true,\n            'adyen-checkout__input--error': error,\n            'adyen-checkout__input--focus': focused,\n            'adyen-checkout__input--valid': isValid\n        },\n        _b[styles['adyen-checkout__input']] = true,\n        _b));\n    var fieldLabel = cvcRequired ? label : i18n.get('creditCard.cvcField.title.optional');\n    return (h(Field, { label: fieldLabel, focused: focused, filled: filled, classNameModifiers: __spreadArrays(classNameModifiers, ['securityCode']), onFocusField: function () { return onFocusField('encryptedSecurityCode'); }, className: fieldClassnames, errorMessage: error && i18n.get(error), isValid: isValid },\n        h(\"span\", { className: cvcClassnames, \"data-cse\": \"encryptedSecurityCode\" }),\n        h(CVCHint, { frontCVC: frontCVC })));\n}\n","import { h } from 'preact';\nimport classNames from 'classnames';\nimport Field from '../../../../internal/FormFields/Field';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport styles from '../CardInput.module.scss';\nexport default function ExpirationDate(props) {\n    var label = props.label, focused = props.focused, filled = props.filled, onFocusField = props.onFocusField, _a = props.className, className = _a === void 0 ? '' : _a, _b = props.error, error = _b === void 0 ? '' : _b, _c = props.isValid, isValid = _c === void 0 ? false : _c;\n    var i18n = useCoreContext().i18n;\n    return (h(Field, { label: label, classNameModifiers: ['expiryDate'], className: className, focused: focused, filled: filled, onFocusField: function () { return onFocusField('encryptedExpiryDate'); }, errorMessage: error && i18n.get(error), isValid: isValid },\n        h(\"span\", { \"data-cse\": \"encryptedExpiryDate\", className: classNames('adyen-checkout__input', 'adyen-checkout__input--small', 'adyen-checkout__card__exp-date__input', [styles['adyen-checkout__input']], {\n                'adyen-checkout__input--error': error,\n                'adyen-checkout__input--focus': focused,\n                'adyen-checkout__input--valid': isValid\n            }) })));\n}\n// export default ExpirationDate;\n","import { h } from 'preact';\nimport CardNumber from './CardNumber';\nimport CVC from './CVC';\nimport ExpirationDate from './ExpirationDate';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nexport default function CardFields(_a) {\n    var brand = _a.brand, cvcRequired = _a.cvcRequired, dualBrandingElements = _a.dualBrandingElements, dualBrandingChangeHandler = _a.dualBrandingChangeHandler, dualBrandingSelected = _a.dualBrandingSelected, errors = _a.errors, focusedElement = _a.focusedElement, hasCVC = _a.hasCVC, hideCVCForBrand = _a.hideCVCForBrand, onFocusField = _a.onFocusField, showBrandIcon = _a.showBrandIcon, valid = _a.valid;\n    var i18n = useCoreContext().i18n;\n    return (h(\"div\", { className: \"adyen-checkout__card__form\" },\n        h(CardNumber, { brand: brand, error: errors.encryptedCardNumber, focused: focusedElement === 'encryptedCardNumber', isValid: !!valid.encryptedCardNumber, label: i18n.get('creditCard.numberField.title'), onFocusField: onFocusField, filled: !!errors.encryptedCardNumber || !!valid.encryptedCardNumber, showBrandIcon: showBrandIcon, dualBrandingElements: dualBrandingElements, dualBrandingChangeHandler: dualBrandingChangeHandler, dualBrandingSelected: dualBrandingSelected }),\n        h(\"div\", { className: \"adyen-checkout__card__exp-cvc adyen-checkout__field-wrapper\" },\n            h(ExpirationDate, { error: errors.encryptedExpiryDate || errors.encryptedExpiryYear || errors.encryptedExpiryMonth, focused: focusedElement === 'encryptedExpiryDate', isValid: !!valid.encryptedExpiryMonth && !!valid.encryptedExpiryYear, filled: !!errors.encryptedExpiryDate || !!valid.encryptedExpiryYear, label: i18n.get('creditCard.expiryDateField.title'), onFocusField: onFocusField, className: 'adyen-checkout__field--50' }),\n            hasCVC && (h(CVC, { cvcRequired: cvcRequired, error: errors.encryptedSecurityCode, focused: focusedElement === 'encryptedSecurityCode', hideCVCForBrand: hideCVCForBrand, isValid: !!valid.encryptedSecurityCode, filled: !!errors.encryptedSecurityCode || !!valid.encryptedSecurityCode, label: i18n.get('creditCard.cvcField.title'), onFocusField: onFocusField, className: 'adyen-checkout__field--50', frontCVC: brand === 'amex' })))));\n}\n","import { h } from 'preact';\nimport Field from '../../../../internal/FormFields/Field';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { renderFormField } from '../../../../internal/FormFields';\nimport styles from '../CardInput.module.scss';\nexport default function CardHolderName(_a) {\n    var onChange = _a.onChange, placeholder = _a.placeholder, value = _a.value, required = _a.required, _b = _a.error, error = _b === void 0 ? false : _b, isValid = _a.isValid;\n    var i18n = useCoreContext().i18n;\n    return (h(Field, { label: i18n.get('creditCard.holderName'), className: 'adyen-checkout__card__holderName', errorMessage: error && i18n.get('creditCard.holderName.invalid'), isValid: !!isValid }, renderFormField('text', {\n        className: \"adyen-checkout__card__holderName__input \" + styles['adyen-checkout__input'],\n        placeholder: placeholder || i18n.get('creditCard.holderName.placeholder'),\n        value: value,\n        required: required,\n        onInput: onChange\n    })));\n}\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport { renderFormField } from '../../../../../internal/FormFields';\nimport Field from '../../../../../internal/FormFields/Field';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport Fieldset from '../../../../../internal/FormFields/Fieldset/Fieldset';\nimport RadioGroup from '../../../../../internal/FormFields/RadioGroup';\nimport styles from '../../CardInput.module.scss';\n/**\n * Installments generic dropdown\n */\nfunction Installments(props) {\n    var _a;\n    var i18n = useCoreContext().i18n;\n    var amount = props.amount, brand = props.brand, onChange = props.onChange, type = props.type;\n    var _b = useState(1), installmentAmount = _b[0], setInstallmentAmount = _b[1];\n    var _c = useState('onetime'), radioBtnValue = _c[0], setRadioBtnValue = _c[1];\n    var installmentOptions = props.installmentOptions[brand] || props.installmentOptions.card;\n    // hasRadioButtonUI determines if we have 3 radio buttons in the UI ('onetime', 'installments' and 'revolving')\n    var hasRadioButtonUI = (_a = installmentOptions === null || installmentOptions === void 0 ? void 0 : installmentOptions.plans) === null || _a === void 0 ? void 0 : _a.includes('revolving');\n    var getPartialAmount = function (divider) { return i18n.amount(amount.value / divider, amount.currency); };\n    var onSelectInstallment = function (e) {\n        var selectedInstallments = e.currentTarget.getAttribute('data-value');\n        setInstallmentAmount(Number(selectedInstallments));\n    };\n    var onRadioSelect = function (e) {\n        var selectedBtn = e.currentTarget.getAttribute('value');\n        setRadioBtnValue(selectedBtn);\n    };\n    var installmentItemsMapper = function (value) {\n        var translationKey;\n        var translationObj;\n        if (type === 'amount') {\n            translationKey = 'installmentOption';\n            translationObj = { count: value, values: { times: value, partialValue: getPartialAmount(value) } };\n        }\n        else {\n            translationKey = \"installmentOptionMonths\";\n            translationObj = { count: value, values: { times: value } };\n        }\n        return {\n            id: value,\n            name: amount.value ? i18n.get(translationKey, translationObj) : \"\" + value\n        };\n    };\n    useEffect(function () {\n        var newAmount = installmentOptions && installmentOptions.values.includes(installmentAmount) ? installmentAmount : 1;\n        setInstallmentAmount(newAmount);\n    }, [brand]);\n    useEffect(function () {\n        var stateObj = __assign(__assign({ value: installmentAmount }, (hasRadioButtonUI && radioBtnValue === 'revolving' && { plan: radioBtnValue, value: 1 })), (hasRadioButtonUI && radioBtnValue === 'onetime' && { value: 1 }));\n        onChange(installmentOptions ? stateObj : { value: null });\n    }, [installmentAmount, installmentOptions, radioBtnValue]);\n    if (!installmentOptions)\n        return null;\n    if (amount.value === 0)\n        return null;\n    // Alternate interface for installments with the possibility of a \"revolving\" plan\n    if (hasRadioButtonUI) {\n        return (h(\"div\", { className: \"adyen-checkout__installments\" },\n            h(Fieldset, { classNameModifiers: ['revolving-plan'], label: '' },\n                h(RadioGroup, { items: [\n                        { id: 'onetime', name: 'installments.oneTime' },\n                        { id: 'installments', name: 'installments.installments' },\n                        { id: 'revolving', name: 'installments.revolving' }\n                    ], i18n: i18n, onChange: onRadioSelect, value: radioBtnValue }),\n                h(Field, { className: radioBtnValue !== 'installments'\n                        ? \"\" + styles['revolving-plan-installments__disabled']\n                        : \"\" + styles['revolving-plan-installments'], classNameModifiers: ['revolving-plan-installments'] }, renderFormField('select', {\n                    items: installmentOptions.values.map(installmentItemsMapper),\n                    selected: installmentAmount,\n                    onChange: onSelectInstallment,\n                    name: 'installments'\n                })))));\n    }\n    return (h(\"div\", { className: \"adyen-checkout__installments\" },\n        h(Field, { label: i18n.get('installments'), classNameModifiers: ['installments'] }, renderFormField('select', {\n            items: installmentOptions.values.map(installmentItemsMapper),\n            selected: installmentAmount,\n            onChange: onSelectInstallment,\n            name: 'installments'\n        }))));\n}\nInstallments.defaultProps = {\n    brand: '',\n    amount: {},\n    onChange: function () { }\n};\nexport default Installments;\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect, useMemo } from 'preact/hooks';\nimport { renderFormField } from '../../../../internal/FormFields';\nimport classNames from 'classnames';\nimport Field from '../../../../internal/FormFields/Field';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport styles from '../CardInput.module.scss';\nexport default function KCPAuthentication(props) {\n    var _a;\n    var i18n = useCoreContext().i18n;\n    var isTaxNumberValid = function (taxNumber) {\n        if (taxNumber === void 0) { taxNumber = ''; }\n        return taxNumber.length === 6 || taxNumber.length === 10;\n    };\n    var _b = useState({ taxNumber: props.taxNumber }), data = _b[0], setData = _b[1];\n    var _c = useState({ taxNumber: isTaxNumberValid(props.taxNumber) }), valid = _c[0], setValid = _c[1];\n    var _d = useState({}), errors = _d[0], setErrors = _d[1];\n    var taxNumberLabel = useMemo(function () {\n        var _a;\n        if (((_a = data.taxNumber) === null || _a === void 0 ? void 0 : _a.length) > 6)\n            return i18n.get('creditCard.taxNumber.labelAlt');\n        return i18n.get('creditCard.taxNumber.label');\n    }, [data.taxNumber]);\n    var handleTaxNumber = function (e) {\n        setData(__assign(__assign({}, data), { taxNumber: e.target.value }));\n        setValid(__assign(__assign({}, valid), { taxNumber: isTaxNumberValid(e.target.value) }));\n        setErrors(__assign(__assign({}, errors), { taxNumber: false }));\n    };\n    useEffect(function () {\n        props.onChange(data, valid);\n    }, [data.taxNumber]);\n    this.showValidation = function () {\n        setErrors({ taxNumber: !isTaxNumberValid(data.taxNumber) });\n    };\n    return (h(\"div\", { className: \"adyen-checkout__card__kcp-authentication\" },\n        h(Field, { label: taxNumberLabel, filled: props.filled, classNameModifiers: ['kcp-taxNumber'], errorMessage: errors.taxNumber && i18n.get('creditCard.taxNumber.invalid'), isValid: valid.taxNumber }, renderFormField('tel', {\n            className: \"adyen-checkout__card__kcp-taxNumber__input \" + styles['adyen-checkout__input'],\n            placeholder: i18n.get('creditCard.taxNumber.placeholder'),\n            maxLength: 10,\n            minLength: 6,\n            autoComplete: false,\n            value: data.taxNumber,\n            required: true,\n            onChange: handleTaxNumber,\n            onInput: handleTaxNumber\n        })),\n        h(Field, { label: i18n.get('creditCard.encryptedPassword.label'), focused: props.focusedElement === 'encryptedPassword', filled: props.filled, classNameModifiers: ['50', 'koreanAuthentication-encryptedPassword'], onFocusField: function () { return props.onFocusField('encryptedPassword'); }, errorMessage: props.encryptedPasswordState.errors && i18n.get('creditCard.encryptedPassword.invalid'), isValid: props.encryptedPasswordState.valid },\n            h(\"span\", { \"data-cse\": \"encryptedPassword\", className: classNames((_a = {\n                        'adyen-checkout__input': true,\n                        'adyen-checkout__input--large': true\n                    },\n                    _a[styles['adyen-checkout__input']] = true,\n                    _a['adyen-checkout__input--error'] = props.encryptedPasswordState.errors,\n                    _a['adyen-checkout__input--valid'] = props.encryptedPasswordState.valid,\n                    _a['adyen-checkout__input--focus'] = props.focusedElement === 'encryptedPassword',\n                    _a)) }))));\n}\n","import { h } from 'preact';\nimport classNames from 'classnames';\nimport Spinner from '../../internal/Spinner';\nimport styles from './LoadingWrapper.module.scss';\nvar LoadingWrapper = function (_a) {\n    var _b, _c;\n    var children = _a.children, status = _a.status;\n    var wrapperClass = classNames('adyen-checkout__loading-input__form', styles['loading-input__form'], (_b = {},\n        _b[styles['loading-input__form--loading']] = status === 'loading',\n        _b));\n    var spinnerClass = classNames((_c = {},\n        _c[styles['loading-input__spinner']] = true,\n        _c[styles['loading-input__spinner--active']] = status === 'loading',\n        _c));\n    return (h(\"div\", { style: { position: 'relative' } },\n        h(\"div\", { className: spinnerClass },\n            h(Spinner, null)),\n        h(\"div\", { className: wrapperClass }, children)));\n};\nexport default LoadingWrapper;\n","import { __rest } from \"tslib\";\nimport { h } from 'preact';\nimport CVC from './CVC';\nimport Field from '../../../../internal/FormFields/Field';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nexport default function StoredCardFields(_a) {\n    var brand = _a.brand, hasCVC = _a.hasCVC, onFocusField = _a.onFocusField, errors = _a.errors, valid = _a.valid, props = __rest(_a, [\"brand\", \"hasCVC\", \"onFocusField\", \"errors\", \"valid\"]);\n    var i18n = useCoreContext().i18n;\n    var storedCardDescription = i18n.get('creditCard.storedCard.description.ariaLabel').replace('%@', props.lastFour);\n    var ariaLabel = storedCardDescription + \" \" + i18n.get('creditCard.expiryDateField.title') + \" \" + props.expiryMonth + \"/\" + props.expiryYear;\n    return (h(\"div\", { className: \"adyen-checkout__card__form adyen-checkout__card__form--oneClick\", \"aria-label\": ariaLabel },\n        h(\"div\", { className: \"adyen-checkout__card__exp-cvc adyen-checkout__field-wrapper\" },\n            h(Field, { label: i18n.get('creditCard.expiryDateField.title'), className: \"adyen-checkout__field--50\", classNameModifiers: ['storedCard'], disabled: true },\n                h(\"div\", { className: \"adyen-checkout__input adyen-checkout__input--disabled adyen-checkout__card__exp-date__input--oneclick\" },\n                    props.expiryMonth,\n                    \" / \",\n                    props.expiryYear)),\n            hasCVC && (h(CVC, { cvcRequired: props.cvcRequired, error: errors.encryptedSecurityCode, focused: props.focusedElement === 'encryptedSecurityCode', filled: !!valid.encryptedSecurityCode || !!errors.encryptedSecurityCode, hideCVCForBrand: props.hideCVCForBrand, isValid: !!valid.encryptedSecurityCode, label: i18n.get('creditCard.cvcField.title'), onFocusField: onFocusField, className: 'adyen-checkout__field--50', classNameModifiers: ['storedCard'], frontCVC: brand === 'amex' })))));\n}\n","export var ENCRYPTED_CARD_NUMBER = 'encryptedCardNumber';\nexport var ENCRYPTED_EXPIRY_DATE = 'encryptedExpiryDate';\nexport var ENCRYPTED_EXPIRY_MONTH = 'encryptedExpiryMonth';\nexport var ENCRYPTED_EXPIRY_YEAR = 'encryptedExpiryYear';\nexport var ENCRYPTED_SECURITY_CODE = 'encryptedSecurityCode';\nexport var ENCRYPTED_PWD_FIELD = 'encryptedPassword';\nexport var ENCRYPTED_PIN_FIELD = 'encryptedPin';\nexport var ENCRYPTED_BANK_ACCNT_NUMBER_FIELD = 'encryptedBankAccountNumber';\nexport var ENCRYPTED_BANK_LOCATION_FIELD = 'encryptedBankLocationId';\nexport var SF_VERSION = '3.2.6';\nexport var DEFAULT_CARD_GROUP_TYPES = ['amex', 'mc', 'visa'];\nexport var IFRAME_TITLE = 'Iframe for secured card data input field';\nexport var NON_CREDIT_CARD_TYPE_SECURED_FIELDS = ['sepa', 'sepadirectdebit', 'ach', 'giftcard'];\nexport var CSF_FIELDS_ARRAY = [\n    ENCRYPTED_CARD_NUMBER,\n    ENCRYPTED_EXPIRY_DATE,\n    ENCRYPTED_EXPIRY_MONTH,\n    ENCRYPTED_EXPIRY_YEAR,\n    ENCRYPTED_SECURITY_CODE\n];\n","var _a;\nexport var ERROR_MSG_CARD_TOO_OLD = 'Card too old';\nexport var ERROR_MSG_CARD_TOO_FAR_IN_FUTURE = 'Date too far in future';\nexport var ERROR_MSG_CARD_NUMBER_MISMATCH = \"Typed card number doesn't match card brand\";\nexport var ERROR_MSG_INCOMPLETE_FIELD = 'incomplete field';\nexport var ERROR_MSG_LUHN_CHECK_FAILED = 'luhn check failed';\nexport var ERROR_MSG_UNSUPPORTED_CARD_ENTERED = 'Unsupported card entered';\nexport var ERROR_MSG_INVALID_FIELD = 'field not valid';\nexport var ERROR_MSG_CLEARED = 'error was cleared';\nexport var ERROR_MSG_MBWAY_EMAIL_INVALID = 'Not valid email address';\n/**\n * Error Codes\n * @example error.va.sf-cc-num.01\n * =\n * error\n * .validation error\n * .field description\n * .error type (luhn check failed)]\n */\nexport var ERROR_CODES = (_a = {},\n    _a[ERROR_MSG_INCOMPLETE_FIELD] = 'error.va.gen.01',\n    _a[ERROR_MSG_INVALID_FIELD] = 'error.va.gen.02',\n    _a[ERROR_MSG_LUHN_CHECK_FAILED] = 'error.va.sf-cc-num.01',\n    _a[ERROR_MSG_CARD_NUMBER_MISMATCH] = 'error.va.sf-cc-num.02',\n    _a[ERROR_MSG_CARD_TOO_OLD] = 'error.va.sf-cc-dat.01',\n    _a[ERROR_MSG_CARD_TOO_FAR_IN_FUTURE] = 'error.va.sf-cc-dat.02',\n    _a[ERROR_MSG_UNSUPPORTED_CARD_ENTERED] = 'error.va.sf-cc-num.03' // Triggered in Components\n,\n    _a);\nexport var DEFAULT_ERROR = ERROR_CODES[ERROR_MSG_INCOMPLETE_FIELD];\n","import { __assign } from \"tslib\";\nimport getProp from '../../../utils/getProp';\nimport { getImageUrl } from '../../../utils/get-image';\nimport { ENCRYPTED_CARD_NUMBER, ENCRYPTED_EXPIRY_DATE, ENCRYPTED_EXPIRY_MONTH, ENCRYPTED_EXPIRY_YEAR, ENCRYPTED_SECURITY_CODE, ENCRYPTED_PWD_FIELD } from './lib/configuration/constants';\nimport { DEFAULT_ERROR } from '../../../core/Errors/constants';\n// ROUTINES USED IN SecuredFieldsProvider.componentDidMount TO DETECT & MAP FIELD NAMES ///////////\n/**\n * Make an array of encrypted field names based on the value of the 'data-cse' attribute of elements in the rootNode\n */\nexport var getFields = function (rootNode) {\n    if (rootNode) {\n        return Array.prototype.slice.call(rootNode.querySelectorAll('[data-cse*=\"encrypted\"]')).map(function (f) { return f.getAttribute('data-cse'); });\n    }\n    return [];\n};\n/**\n * If, visually, we're dealing with a single date field (expiryDate) we still need separate entries\n * for expiryMonth & expiryYear - since that is how the values will be delivered from securedFields\n */\nexport var validFieldsReducer = function (acc, cur) {\n    if (cur === ENCRYPTED_EXPIRY_DATE) {\n        acc[ENCRYPTED_EXPIRY_MONTH] = false;\n        acc[ENCRYPTED_EXPIRY_YEAR] = false;\n    }\n    else {\n        acc[cur] = false;\n    }\n    return acc;\n};\n// -- end ROUTINES USED IN SecuredFieldsProvider.componentDidMount --------------------------------\n// ROUTINES USED IN SecuredFieldsProvider.showValidation TO GENERATE ERRORS ///////////\n/**\n *  If, visually, we're dealing with a single date field (expiryDate) remap the separate entries we have\n *  for the valid states of expiryMonth & expiryYear back to the single key we use to an store an error\n *  i.e `\"encryptedExpiryMonth\" & \"encryptedExpiryYear\" => \"encryptedExpiryDate\"`\n */\nvar mapDateFields = function (field, numDateFields) {\n    var isDateField = field === ENCRYPTED_EXPIRY_MONTH || field === ENCRYPTED_EXPIRY_YEAR;\n    return numDateFields === 1 && isDateField ? ENCRYPTED_EXPIRY_DATE : field;\n};\n/**\n * Skip generating an error for an optional CVC field, unless it is already in error\n */\nvar mapCVCField = function (field, state) {\n    var isCvcField = field === ENCRYPTED_SECURITY_CODE;\n    var isCvcFieldValid = !state.errors[ENCRYPTED_SECURITY_CODE];\n    return !state.cvcRequired && isCvcFieldValid && isCvcField ? null : field;\n};\nexport var getErrorReducer = function (numDateFields, state) { return function (acc, field) {\n    // We're only interested in the non-valid fields from the state.valid object...\n    var val = state.valid[field] !== true\n        ? mapDateFields(field, numDateFields) // Map the keys we use for the valid state to the key(s) we use for the error state\n        : null;\n    // Skip error generation for optional CVC unless field is already in error\n    val = mapCVCField(val, state);\n    if (val && !acc.includes(val))\n        acc.push(val);\n    return acc;\n}; };\n/**\n * Create an object suitable for sending to our handleOnError function\n */\nexport var getErrorObject = function (fieldType, rootNode, state) {\n    var error = getProp(state, \"errors.\" + fieldType) || DEFAULT_ERROR;\n    return {\n        rootNode: rootNode,\n        fieldType: fieldType,\n        error: error,\n        type: 'card'\n    };\n};\n// -- end ROUTINES USED IN SecuredFieldsProvider.showValidation -----------------------\nexport var resolvePlaceholders = function (i18n) {\n    var _a;\n    return (_a = {},\n        _a[ENCRYPTED_CARD_NUMBER] = i18n.get && i18n.get('creditCard.numberField.placeholder'),\n        _a[ENCRYPTED_EXPIRY_DATE] = i18n.get && i18n.get('creditCard.expiryDateField.placeholder'),\n        _a[ENCRYPTED_SECURITY_CODE] = i18n.get && i18n.get('creditCard.cvcField.placeholder'),\n        _a[ENCRYPTED_PWD_FIELD] = i18n.get && i18n.get('creditCard.encryptedPassword.placeholder'),\n        _a);\n};\n/**\n * Used by SecuredFieldsProviderHandlers\n */\nexport var getCardImageUrl = function (brand, loadingContext) {\n    var type = brand === 'card' ? 'nocard' : brand || 'nocard';\n    var imageOptions = {\n        type: type,\n        extension: 'svg',\n        loadingContext: loadingContext\n    };\n    return getImageUrl(imageOptions)(type);\n};\n// REGULAR \"UTIL\" UTILS\n/**\n * Checks if `prop` is classified as an `Array` primitive or object.\n * @internal\n * @param prop - The value to check.\n * @returns Returns `true` if `prop` is correctly classified, else `false`.\n * @example\n * ```\n * isArray([1, 2, 3]);\n * // => true\n *\n * isArray(1);\n * // => false\n * ```\n */\nexport function isArray(prop) {\n    return typeof prop === 'object' && prop !== null && Object.prototype.toString.call(prop) === '[object Array]';\n}\n/**\n * 'Destructures' properties from object, returns a new object only containing those properties that were asked for\n *\n * @param args - property names to select: can be either 'regular' arguments (commma separated list) or an array\n * @returns - an object with a function 'from' that accepts a single argument - the object from which to choose properties.\n * This function returns a new object - a copy of the original but only including the desired properties\n *\n * @example const strippedObj = pick('cardType', 'securityCode').from(cardObject);\n * @example const strippedObj = pick(['cardType', 'securityCode']).from(cardObject);\n */\nexport function pick() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var myArgs = isArray(args[0]) ? args[0] : args;\n    return {\n        from: function (obj) {\n            // eslint-disable-line\n            return myArgs\n                .map(function (k) {\n                var _a;\n                return (k in obj ? (_a = {}, _a[k] = obj[k], _a) : {});\n            }) // eslint-disable-line\n                .reduce(function (res, o) { return (__assign(__assign({}, res), o)); }, {});\n        }\n    };\n}\n/**\n *'Destructures' properties from object, returning a new object containing all the original objects properties except those that were specifically rejected\n *\n * @param args - property names to reject: can be either 'regular' arguments (commma separated list) or an array\n * @returns - an object with a function 'from' that accepts a single argument - the object from which to reject properties.\n * This function returns a new object - a copy of the original but excluding the selected properties\n *\n * @example const strippedObj = reject('permittedLengths', 'pattern', 'startingRules').from(cardObject);\n * @example const strippedObj = reject(['permittedLengths', 'pattern', 'startingRules']).from(cardObject);\n */\nexport function reject() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var myArgs = isArray(args[0]) ? args[0] : args;\n    return {\n        from: function (obj) {\n            var vkeys = Object.keys(obj).filter(function (k) { return !myArgs.includes(k); });\n            return pick.apply(void 0, vkeys).from(obj);\n        }\n    };\n}\n","/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n * @internal\n */\nvar objToString = Object.prototype.toString;\n/**\n * Checks if `prop` is classified as an `Array` primitive or object.\n * @internal\n * @param prop - The value to check.\n * @returns Returns `true` if `prop` is correctly classified, else `false`.\n * @example\n * ```\n * isArray([1, 2, 3]);\n * // => true\n *\n * isArray(1);\n * // => false\n * ```\n */\nfunction isArray(prop) {\n    return typeof prop === 'object' && prop !== null && Object.prototype.toString.call(prop) === '[object Array]';\n}\n/**\n * Generate random number using window.crypto if available - otherwise fall back toMath.random\n *\n * @returns Number\n */\nfunction generateRandomNumber() {\n    if (!window.crypto) {\n        // eslint-disable-next-line\n        return (Math.random() * 0x100000000) | 0;\n    }\n    var ranNum = new Uint32Array(1);\n    window.crypto.getRandomValues(ranNum);\n    return ranNum[0];\n}\n/**\n * wait\n *\n * Generic, Promise based, setTimeout call\n *\n * ms : Number - timeout value in milliseconds\n *\n * @example\n * ```\n * wait(5000).then(() => { runMyFunction() } ).catch(() => console.log('error with the timeout'));\n * ```\n */\n// const wait = (ms) => new Promise(resolve => setTimeout(resolve, ms));\n/**\n * The function existy is meant to define the existence of something.\n * Using the loose inequality operator (!=), it is possible to distinguish between null, undefined, and everything else.\n * @internal\n * @param x -\n * @returns\n */\nfunction existy(x) {\n    return x != null;\n}\n/**\n * Used to determine if something should be considered a synonym for true\n * NOTE: The number zero is considered truthy by design as is '' & `{}`.\n * If you wish to retain the behavior where 0 is a synonym for false, then do not use truthy where you might expect 0\n * So - returns true if something is not false, undefined or null\n * @internal\n * @param x -\n * @returns\n */\nfunction truthy(x) {\n    return x !== false && existy(x);\n}\n/**\n * Checks if `value` is object-like.\n * (FROM lodash.3.10.1)\n * @internal\n * @param value - The value to check.\n * @returns Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n    return !!value && typeof value === 'object';\n}\n/**\n * @internal\n * Checks if `value` is classified as a `Number` primitive or object.\n * NOTE: `Infinity`, `-Infinity`, and `NaN` are classified as numbers\n * (FROM lodash.3.10.1)\n * @param value - The value to check.\n * @returns Returns `true` if `value` is correctly classified, else `false`.\n * @example\n * ```\n * isNumber(8.4);\n * // => true\n *\n * isNumber(NaN);\n * // => true\n *\n * isNumber('8.4');\n * // => false\n * ```\n */\nfunction isNumber(value) {\n    var numberTag = '[object Number]';\n    return typeof value === 'number' || (isObjectLike(value) && objToString.call(value) === numberTag);\n}\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n * (FROM lodash.3.10.1)\n * @internal\n * @param value - The value to check.\n * @returns Returns `true` if `value` is correctly classified, else `false`.\n * @example\n * ```\n * isString('abc');\n * // => true\n *\n * isString(1);\n * // => false\n * ```\n */\nfunction isString(value) {\n    var stringTag = '[object String]';\n    return typeof value === 'string' || (isObjectLike(value) && objToString.call(value) === stringTag);\n}\n/**\n * Returns true if x is:\n * null, undefined, false, 0, NaN, empty object or array, empty string\n * @param x -\n * @example\n * ```\n * falsy(0) // => true\n * falsy('') // => true\n * falsy({}) // => true\n * falsy([]) // => true\n * falsy(false) // => true\n * falsy(NaN) // => true\n * falsy(null) // => true\n * falsy(undefined) // => true\n *\n * falsy(1) // => false\n * falsy('d') // => false\n * falsy({type:\"kin\"}) // => false\n * falsy([6]) // => false\n * falsy(true) // => false\n * ```\n */\nfunction falsy(x) {\n    // Is null, undefined or false\n    if (!truthy(x)) {\n        return true;\n    }\n    // = 0 || NaN\n    if (isNumber(x)) {\n        if (x === 0 || Number.isNaN(x)) {\n            return true;\n        }\n    }\n    // empty array or string\n    if ((isArray(x) || isString(x)) && x.length === 0) {\n        return true;\n    }\n    // empty object\n    if (isObjectLike(x) && Object.keys(x).length === 0) {\n        return true;\n    }\n    return false;\n}\n/**\n * Inverse of falsy - returns true if x is NOT null, undefined, false, 0, NaN, empty object or array, empty string\n * @param x -\n */\nfunction notFalsy(x) {\n    return !falsy(x);\n}\nexport { generateRandomNumber, existy, falsy, isArray, notFalsy, truthy\n//    wait\n };\n","import { isArray } from '../../utilities/commonUtils';\nimport { DEFAULT_CARD_GROUP_TYPES } from '../../configuration/constants';\nexport var getCardGroupTypes = function (cardGroupTypes) {\n    return isArray(cardGroupTypes) && cardGroupTypes.length ? cardGroupTypes : DEFAULT_CARD_GROUP_TYPES;\n};\n","/**\n * @internal\n * Utility class for logging messages/errors\n * Usage:\n * logger.log('Log message, always visible');\n *\n * For debug only messages:\n * window._b$dl && logger.log('Log message only visible on dev env');\n *\n * Or just use a conditional:\n * ```\n * if (window._b$dl) {\n *     logger.log('Log message only visible on dev env');\n * }\n * ```\n */\n/**\n * @internal\n * Logs errors\n */\nexport var error = window.console && window.console.error && window.console.error.bind(window.console);\n/**\n * @internal\n * Logs info\n */\nexport var info = window.console && window.console.info && window.console.info.bind(window.console);\n/**\n * @internal\n * Logs\n * NOTE: changed to 'let' from 'const' for the purpose of running unit tests\n */\nexport var log = window.console && window.console.log && window.console.log.bind(window.console); // eslint-disable-line\n/**\n * @internal\n * Logs warnings\n * NOTE: changed to 'let' from 'const' for the purpose of running unit tests\n */\nexport var warn = window.console && window.console.warn && window.console.warn.bind(window.console); // eslint-disable-line\n","import { getCardGroupTypes } from '../core/utils/getCardGroupTypes';\nimport { NON_CREDIT_CARD_TYPE_SECURED_FIELDS, SF_VERSION } from './constants';\nimport * as logger from '../utilities/logger';\n/**\n * Parses this.props to set 'config' type vars on this (CSFComp)\n * - properties that just need to be set once, at startup, and then don't change\n *\n * See interface ConfigObject in types.ts\n */\nexport function handleConfig() {\n    // --\n    this.config.cardGroupTypes = getCardGroupTypes(this.props.cardGroupTypes);\n    if (process.env.NODE_ENV === 'development' && window._b$dl) {\n        logger.log('### StoreCls::init:: this.config.cardGroupTypes=', this.config.cardGroupTypes);\n    }\n    var loadingContext = this.props.loadingContext;\n    if (!loadingContext) {\n        logger.warn('WARNING Config :: no loadingContext has been specified!');\n        return;\n    }\n    var lastChar = function (str) { return str.charAt(str.length - 1); };\n    // Ensure passed loadingContext has trailing slash\n    this.config.loadingContext = lastChar(loadingContext) === '/' ? loadingContext : loadingContext + \"/\";\n    this.config.isCreditCardType = NON_CREDIT_CARD_TYPE_SECURED_FIELDS.includes(this.props.type) === false;\n    // Configuration object for individual txVariants\n    // Contains styling object, placeholders & aria-label content for securedFields inputs\n    this.config.iframeUIConfig = this.props.iframeUIConfig;\n    // By default CSF is allowed to add the encrypted element to the DOM - user of CSF must explicitly 'opt-out' to prevent this happening\n    // (If either condition is true - then set allowedDOMAccess to false)\n    this.config.allowedDOMAccess = !(this.props.allowedDOMAccess === false || this.props.allowedDOMAccess === 'false');\n    // By default CSF is allowed to automatically shift focus from the date to CVC fields - user of CSF must explicitly 'opt-out' to prevent this happening\n    this.config.autoFocus = !(this.props.autoFocus === false || this.props.autoFocus === 'false');\n    // By default CSF will NOT perform a console.warn when receiving postMessages with origin or numKey mismatches - user of CSF must explicitly 'opt-in' to get this\n    this.config.showWarnings = this.props.showWarnings === true || this.props.showWarnings === 'true';\n    // By default CSF will strip the trailing separator character from valid credit card numbers - user of CSF must explicitly 'opt-out' to prevent this happening\n    this.config.trimTrailingSeparator = !(this.props.trimTrailingSeparator === false || this.props.trimTrailingSeparator === 'false');\n    // By default CSF is allowed to add a fix for iOS to force the keypad to retract - user of CSF must explicitly 'opt-out' to prevent this happening\n    this.config.keypadFix = !(this.props.keypadFix === false || this.props.keypadFix === 'false');\n    this.config.sfLogAtStart = this.props._b$dl === true;\n    this.config.isKCP = !!this.props.isKCP;\n    var sfBundleType = this.config.isCreditCardType ? 'card' : this.props.type;\n    if (sfBundleType.indexOf('sepa') > -1)\n        sfBundleType = 'iban';\n    // During the transition period accept clientKey & originKey, giving clientKey preference\n    var accessKey = this.props.clientKey ? this.props.clientKey : this.props.originKey;\n    // Add a hash of the origin to ensure urls are different across domains\n    var d = btoa(window.location.origin);\n    this.config.iframeSrc = this.config.loadingContext + \"securedfields/\" + accessKey + \"/\" + SF_VERSION + \"/securedFields.html?type=\" + sfBundleType + \"&d=\" + d;\n    // TODO###### FOR QUICK LOCAL TESTING of sf\n    if (process.env.NODE_ENV === 'development' && process.env.__SF_ENV__ !== 'build') {\n        this.config.iframeSrc = process.env.__SF_ENV__ + \"securedFields.\" + SF_VERSION + \".html?type=\" + sfBundleType;\n    }\n    // TODO######\n}\n","var noop = function () { };\nexport function configureCallbacks(callbacksObj) {\n    if (callbacksObj === void 0) { callbacksObj = {}; }\n    // --\n    this.callbacks.onLoad = callbacksObj.onLoad ? callbacksObj.onLoad : noop;\n    this.callbacks.onConfigSuccess = callbacksObj.onConfigSuccess ? callbacksObj.onConfigSuccess : noop;\n    this.callbacks.onFieldValid = callbacksObj.onFieldValid ? callbacksObj.onFieldValid : noop;\n    this.callbacks.onAllValid = callbacksObj.onAllValid ? callbacksObj.onAllValid : noop;\n    this.callbacks.onBrand = callbacksObj.onBrand ? callbacksObj.onBrand : noop;\n    this.callbacks.onError = callbacksObj.onError ? callbacksObj.onError : noop;\n    this.callbacks.onFocus = callbacksObj.onFocus ? callbacksObj.onFocus : noop;\n    this.callbacks.onBinValue = callbacksObj.onBinValue ? callbacksObj.onBinValue : noop;\n    this.callbacks.onAutoComplete = callbacksObj.onAutoComplete ? callbacksObj.onAutoComplete : noop;\n}\n","var postMessageToIframe = function (pDataObj, pIframeObj, pLoadingContext) {\n    // Check that an iframe object exists for this fieldType... in some cases the iframe might not exist\n    // e.g. bcmc which has no cvc field so e.g. a call to setFocus on the cvc field is not possible\n    if (pIframeObj) {\n        var dataObjStr = JSON.stringify(pDataObj);\n        pIframeObj.postMessage(dataObjStr, pLoadingContext);\n    }\n};\nexport default postMessageToIframe;\n","import { __assign } from \"tslib\";\nimport { ENCRYPTED_CARD_NUMBER, ENCRYPTED_SECURITY_CODE } from '../../configuration/constants';\nimport postMessageToIframe from './iframes/postMessageToIframe';\nimport { existy } from '../../utilities/commonUtils';\nimport * as logger from '../../utilities/logger';\nvar noop = function () { return null; };\n// Adds brand related properties to the callback object\nvar setBrandRelatedInfo = function (pFeedbackObj) {\n    var dataObj = {};\n    var hasProps = false;\n    if (existy(pFeedbackObj.brand)) {\n        dataObj.brand = pFeedbackObj.brand;\n        hasProps = true;\n    }\n    // hasOwnProperty call covers scenario where pFeedbackObj doesn't exist\n    if (Object.prototype.hasOwnProperty.call(pFeedbackObj, 'cvcText')) {\n        dataObj.cvcText = pFeedbackObj.cvcText;\n        hasProps = true;\n    }\n    if (Object.prototype.hasOwnProperty.call(pFeedbackObj, 'cvcRequired')) {\n        dataObj.cvcRequired = pFeedbackObj.cvcRequired;\n        hasProps = true;\n    }\n    if (Object.prototype.hasOwnProperty.call(pFeedbackObj, 'hideCVC')) {\n        dataObj.hideCVC = pFeedbackObj.hideCVC;\n        hasProps = true;\n    }\n    return hasProps ? dataObj : null;\n};\n// If brand sent with feedbackObj doesn't equal stored brand - extract the new brand ready to send to the cvc field\nvar checkForBrandChange = function (pBrand, storedBrand) {\n    if (pBrand && pBrand !== storedBrand) {\n        if (process.env.NODE_ENV === 'development' && window._b$dl) {\n            logger.log('\\n### checkoutSecuredFields_handleSF::__checkForBrandChange:: Brand Change! new brand=', pBrand, '---- old brand=', storedBrand);\n        }\n        return pBrand;\n    }\n    return '';\n};\n// If generic card type AND passed brand doesn't equal stored brand - send the new brand to the cvc input\n// Create object for CSF Brand Callback fn with image & text details\nexport function handleProcessBrand(pFeedbackObj) {\n    var brandInfoObj;\n    var fieldType = pFeedbackObj.fieldType;\n    if (fieldType === ENCRYPTED_CARD_NUMBER) {\n        // Check for new brand...\n        var newBrand = checkForBrandChange(pFeedbackObj.brand, this.state.brand);\n        if (!newBrand.length) {\n            return null;\n        }\n        var isGenericCard = this.state.type === 'card';\n        // ...if also a generic card - tell cvc field & number field...\n        if (isGenericCard && newBrand) {\n            this.state.brand = newBrand;\n            var baseDataObj = {\n                txVariant: this.state.type,\n                brand: newBrand\n            };\n            // Perform postMessage to send brand on specified (CVC) field\n            if (Object.prototype.hasOwnProperty.call(this.state.securedFields, ENCRYPTED_SECURITY_CODE)) {\n                var dataObj = __assign(__assign({}, baseDataObj), {\n                    fieldType: ENCRYPTED_SECURITY_CODE,\n                    hideCVC: pFeedbackObj.hideCVC,\n                    cvcRequired: pFeedbackObj.cvcRequired,\n                    numKey: this.state.securedFields[ENCRYPTED_SECURITY_CODE].numKey\n                });\n                postMessageToIframe(dataObj, this.getIframeContentWin(ENCRYPTED_SECURITY_CODE), this.config.loadingContext);\n            }\n        }\n        // Check for brand related properties\n        brandInfoObj = isGenericCard ? setBrandRelatedInfo(pFeedbackObj) : noop();\n        // Return object to send to Callback fn\n        if (brandInfoObj) {\n            var callbackObj = brandInfoObj;\n            callbackObj.type = this.state.type;\n            callbackObj.rootNode = this.props.rootNode;\n            this.callbacks.onBrand(callbackObj);\n        }\n        return brandInfoObj;\n    }\n    return null;\n}\n","import { ENCRYPTED_EXPIRY_DATE } from '../../configuration/constants';\n// import * as logger from '../../utilities/logger';\nvar makeCallbackObj = function (pFieldType, pEncryptedFieldName, uuid, pIsValid, pTxVariant, pRootNode) { return ({\n    fieldType: pFieldType,\n    encryptedFieldName: pEncryptedFieldName,\n    uid: uuid,\n    valid: pIsValid,\n    type: pTxVariant,\n    rootNode: pRootNode // A ref to the 'form' element holding the securedFields\n}); };\nexport var makeCallbackObjectsValidation = function (pFieldType, pTxVariant, pRootNode) {\n    // - create callback objects to report the changed valid state of the field\n    var isExpiryDateField = pFieldType === ENCRYPTED_EXPIRY_DATE;\n    var callbackObjectsArr = [];\n    var sepExpiryDateNames = ['encryptedExpiryMonth', 'encryptedExpiryYear'];\n    var i;\n    var uuid;\n    var encryptedType;\n    var encryptedFieldName;\n    // For expiryDate field we need to remove 2 DOM elements & create 2 objects (relating to month & year)\n    // - for everything else we just need to remove 1 element & create 1 callback object\n    var totalFields = isExpiryDateField ? 2 : 1;\n    for (i = 0; i < totalFields; i += 1) {\n        encryptedType = isExpiryDateField ? sepExpiryDateNames[i] : pFieldType; // encryptedCardNumber, encryptedSecurityCode, encryptedExpiryMonth, encryptedExpiryYear\n        uuid = pTxVariant + \"-encrypted-\" + encryptedType; // card-encrypted-encryptedCardNumber, card-encrypted-encryptedSecurityCode, card-encrypted-encryptedExpiryMonth, card-encrypted-encryptedExpiryYear\n        encryptedFieldName = isExpiryDateField ? encryptedType : pFieldType; // encryptedCardNumber, encryptedSecurityCode, encryptedExpiryMonth, encryptedExpiryYear\n        // Create objects to broadcast valid state\n        var callbackObj = makeCallbackObj(pFieldType, encryptedFieldName, uuid, false, pTxVariant, pRootNode);\n        callbackObjectsArr.push(callbackObj);\n    }\n    return callbackObjectsArr;\n};\nexport var makeCallbackObjectsEncryption = function (pFieldType, pTxVariant, pRootNode, pEncryptedObjArr) {\n    var i;\n    var uuid;\n    var encryptedObj;\n    var encryptedFieldName;\n    var encryptedBlob;\n    var callbackObjectsArr = [];\n    for (i = 0; i < pEncryptedObjArr.length; i += 1) {\n        encryptedObj = pEncryptedObjArr[i];\n        encryptedFieldName = encryptedObj.encryptedFieldName;\n        uuid = pTxVariant + \"-encrypted-\" + encryptedFieldName;\n        encryptedBlob = encryptedObj.blob;\n        // Create objects to broadcast valid state\n        var callbackObj = makeCallbackObj(pFieldType, encryptedFieldName, uuid, true, pTxVariant, pRootNode);\n        callbackObj.blob = encryptedBlob;\n        callbackObjectsArr.push(callbackObj);\n    }\n    return callbackObjectsArr;\n};\n","var select = function (root, selector) {\n    var array = [];\n    if (root) {\n        // Convert NodeList to array\n        if (typeof root.querySelectorAll === 'function') {\n            array = [].slice.call(root.querySelectorAll(selector));\n        }\n    }\n    return array;\n};\nvar selectOne = function (root, selector) {\n    if (!root) {\n        return undefined;\n    }\n    return root.querySelector(selector);\n};\nvar getAttribute = function (node, attribute) {\n    if (!node) {\n        return undefined;\n    }\n    return node.getAttribute(attribute);\n};\nvar on = function (node, event, callback, useCapture) {\n    if (typeof node.addEventListener === 'function') {\n        node.addEventListener(event, callback, useCapture);\n        return;\n    }\n    if (node.attachEvent) {\n        node.attachEvent(\"on\" + event, callback);\n        return;\n    }\n    throw new Error(\": Unable to bind \" + event + \"-event\");\n};\nvar off = function (node, event, callback, useCapture) {\n    if (typeof node.addEventListener === 'function') {\n        node.removeEventListener(event, callback, useCapture);\n    }\n    else if (node.attachEvent) {\n        node.detachEvent(\"on\" + event, callback);\n    }\n    else {\n        throw new Error(\": Unable to unbind \" + event + \"-event\");\n    }\n};\n/**\n * @internal\n * Removes all children elements of the given node.\n *\n * @param node -\n */\nvar removeAllChildren = function (node) {\n    while (node.firstChild) {\n        node.removeChild(node.firstChild);\n    }\n};\nexport { getAttribute, on, off, select, selectOne, removeAllChildren };\n","import { ERROR_CODES, ERROR_MSG_UNSUPPORTED_CARD_ENTERED } from '../../../../../../core/Errors/constants';\nexport var processErrors = function (pFeedbackObj, securedField, type, rootNode, callbackFn) {\n    if (!Object.prototype.hasOwnProperty.call(pFeedbackObj, 'error'))\n        return null;\n    var fieldType = pFeedbackObj.fieldType;\n    var field = securedField;\n    // Initialise error callback object\n    var dataObj = { rootNode: rootNode, fieldType: fieldType, error: null, type: null };\n    var isError = pFeedbackObj.error !== '';\n    // Error is empty string && field is not already in error: do nothing - don't need to propagate this non-error if the field wasn't already in error\n    // This situation arises when we encrypt a field and trigger an \"error clearing\" event\n    // It also arises when an unsupportedCard (re. binLookup) is entered and the shopper continues to interact with the field (adding or deleting digits)\n    if (!isError && !field.hasError) {\n        return null;\n    }\n    // Ignore other errors whilst the field is in an \"unsupportedCard\" error state\n    if (field.errorType === ERROR_CODES[ERROR_MSG_UNSUPPORTED_CARD_ENTERED]) {\n        return null;\n    }\n    // Add props to error callback object\n    dataObj.error = isError ? pFeedbackObj.error : '';\n    dataObj.type = type;\n    // Set error state & type on securedField instance\n    field.hasError = isError;\n    field.errorType = dataObj.error;\n    callbackFn(dataObj);\n    return dataObj;\n};\n","import { makeCallbackObjectsValidation } from './utils/callbackUtils';\nimport { removeEncryptedElement } from '../ui/encryptedElements';\nimport { processErrors } from './utils/processErrors';\nimport { existy } from '../utilities/commonUtils';\nimport { ENCRYPTED_SECURITY_CODE, ENCRYPTED_CARD_NUMBER } from '../configuration/constants';\nimport * as logger from '../utilities/logger';\nvar doLog = false;\nexport function handleValidation(pFeedbackObj) {\n    // --\n    var callbackObjectsArr;\n    // EXTRACT VARS\n    var fieldType = pFeedbackObj.fieldType;\n    if (process.env.NODE_ENV === 'development' && doLog) {\n        logger.log('### HandleValidationCls2::handleValidation:: pFeedbackObj.fieldType=', pFeedbackObj.fieldType, 'isEncrypted=', this.state.securedFields[fieldType].isEncrypted);\n    }\n    // CHECK IF CVC IS OPTIONAL\n    if (existy(pFeedbackObj.cvcRequired)) {\n        if (process.env.NODE_ENV === 'development' && doLog) {\n            logger.log('\\n### HandleValidationCls2:: SF onValidation:: pFeedbackObj.cvcRequired=', pFeedbackObj.cvcRequired);\n        }\n    }\n    // Brand information (from setting the CC number) now contains information about\n    // whether cvc is optional for that brand e.g. maestro\n    // If it is optional, and we're dealing with the generic card type,\n    // (re)set the property that indicates this (in the CVC SecuredField instance)\n    if (this.state.type === 'card' &&\n        Object.prototype.hasOwnProperty.call(pFeedbackObj, 'cvcRequired') &&\n        existy(pFeedbackObj.cvcRequired) &&\n        Object.prototype.hasOwnProperty.call(this.state.securedFields, ENCRYPTED_SECURITY_CODE)) {\n        this.state.securedFields[ENCRYPTED_SECURITY_CODE].cvcRequired = pFeedbackObj.cvcRequired;\n    }\n    // PROCESS & BROADCAST ERRORS (OR LACK OF)\n    processErrors(pFeedbackObj, this.state.securedFields[fieldType], this.state.type, this.props.rootNode, this.callbacks.onError);\n    // REMOVE ANY EXISTING ENCRYPTED ELEMENT & CHECK VALIDITY OF THE FORM AS A WHOLE\n    // If the field was previously encrypted...\n    if (this.state.securedFields[fieldType].isEncrypted) {\n        // callbackObjectsArr will be an array containing 1 or 2 objects that need to be broadcast\n        callbackObjectsArr = makeCallbackObjectsValidation(fieldType, this.state.type, this.props.rootNode);\n        // Add the endDigits to the object we send to the onFieldValid callback\n        // NOTE: in this case (validation) this will be an empty string\n        if (fieldType === ENCRYPTED_CARD_NUMBER) {\n            callbackObjectsArr[0].endDigits = '';\n        }\n        for (var i = 0, len = callbackObjectsArr.length; i < len; i += 1) {\n            // Remove DOM elements\n            if (this.config.allowedDOMAccess) {\n                removeEncryptedElement(this.props.rootNode, callbackObjectsArr[i].uid);\n            }\n            // ...BROADCAST VALID STATE OF INDIVIDUAL INPUTS\n            this.callbacks.onFieldValid(callbackObjectsArr[i]);\n        }\n        // Remove the field's encrypted state\n        this.state.securedFields[fieldType].isEncrypted = false;\n    }\n    // STORE & BROADCAST VALID STATE OF THE FORM AS A WHOLE ///////\n    this.assessFormValidity();\n    // PROCESS & BROADCAST CARD BRANDS\n    // Doing it here: after calling onAllValid\n    // Use case: When the card component is in a valid state and the card number is deleted it wrongly calls\n    // the component's top level onValid callback.\n    // Reason: When the card component receives the onBrand info before the onAllValid info it triggers an\n    // onChange event - this wrongly perceives the component to be in a valid state because it is only the\n    // onAllValid info that resets the state.isCardValid on which the state.isValid property depends.\n    this.processBrand(pFeedbackObj);\n}\n","import { selectOne } from '../utilities/dom';\nimport * as logger from '../utilities/logger';\nvar doLog = false;\n// Adds hidden input to parent form element.\n// This input has a attribute 'name' whose value equals a field-type e.g. encryptedCardNumber\n// and an attribute 'value' whose value is the encrypted data blob for that field\nvar addEncryptedElement = function (pForm, pName, pData, pId) {\n    var element = selectOne(pForm, \"#\" + pId);\n    if (!element) {\n        element = document.createElement('input');\n        element.type = 'hidden';\n        element.name = pName;\n        element.id = pId;\n        // TODO - just for testing\n        if (process.env.NODE_ENV === 'development' && doLog) {\n            logger.log('\\n');\n            logger.log('### encryptedElements::addEncryptedElement:: ', pName);\n            logger.log('');\n        }\n        pForm.appendChild(element);\n    }\n    element.setAttribute('value', pData);\n};\nexport var removeEncryptedElement = function (pParentForm, uuid) {\n    var encryptedElem = selectOne(pParentForm, \"#\" + uuid);\n    // TODO - just for testing\n    if (process.env.NODE_ENV === 'development' && doLog) {\n        logger.log('\\n');\n        logger.log('### encryptedElements::removeEncryptedElement:: ', encryptedElem.getAttribute('name'));\n        logger.log('');\n    }\n    if (encryptedElem) {\n        pParentForm.removeChild(encryptedElem);\n    }\n};\nexport var addEncryptedElements = function (pEncryptedObjArr, pTxVariant, pParentForm) {\n    var i;\n    var uuid;\n    var encryptedFieldName;\n    var encryptedBlob;\n    // Loop through array of objects with encrypted blobs - normally only contains one object\n    // but in case of combined encryptedExpiryDate field will contain 2 objects: one each for month & year\n    for (i = 0; i < pEncryptedObjArr.length; i += 1) {\n        var encryptedObj = pEncryptedObjArr[i];\n        encryptedFieldName = encryptedObj.encryptedFieldName;\n        uuid = pTxVariant + \"-encrypted-\" + encryptedFieldName;\n        encryptedBlob = encryptedObj.blob;\n        addEncryptedElement(pParentForm, encryptedFieldName, encryptedBlob, uuid);\n    }\n};\n","import { makeCallbackObjectsEncryption } from './utils/callbackUtils';\nimport { addEncryptedElements } from '../ui/encryptedElements';\nimport { ENCRYPTED_EXPIRY_MONTH, ENCRYPTED_EXPIRY_YEAR, ENCRYPTED_SECURITY_CODE, ENCRYPTED_CARD_NUMBER } from '../configuration/constants';\nimport { processErrors } from './utils/processErrors';\nimport { truthy } from '../utilities/commonUtils';\nimport * as logger from '../utilities/logger';\nexport function handleEncryption(pFeedbackObj) {\n    if (process.env.NODE_ENV === 'development' && window._b$dl) {\n        logger.log('\\n### HandleEncryption:: pFeedbackObj=', pFeedbackObj);\n    }\n    // EXTRACT VARS\n    var fieldType = pFeedbackObj.fieldType;\n    // SET FOCUS ON OTHER INPUT - If user has just typed a correct expiryDate - set focus on the cvc field OR typed a correct expiryMonth - focus on year field\n    if (this.config.autoFocus) {\n        if (pFeedbackObj.type === 'year' || fieldType === ENCRYPTED_EXPIRY_YEAR) {\n            this.setFocusOnFrame(ENCRYPTED_SECURITY_CODE);\n        }\n        if (fieldType === ENCRYPTED_EXPIRY_MONTH) {\n            this.setFocusOnFrame(ENCRYPTED_EXPIRY_YEAR);\n        }\n    }\n    //--\n    var i;\n    var len;\n    var encryptedObjArr = pFeedbackObj[fieldType];\n    // Set boolean saying this securedField is in an encryptedState\n    this.state.securedFields[fieldType].isEncrypted = true;\n    // ADD HIDDEN INPUT TO PARENT FORM ELEMENT, if allowed\n    if (this.config.allowedDOMAccess) {\n        addEncryptedElements(encryptedObjArr, this.state.type, this.props.rootNode);\n    }\n    // REMOVE ANY ERRORS ON FIELD e.g. was a full number that failed the luhnCheck, then we corrected the number and now it passes\n    processErrors({ error: '', fieldType: fieldType }, this.state.securedFields[fieldType], this.state.type, this.props.rootNode, this.callbacks.onError);\n    // MAKE ENCRYPTION OBJECTS FOR EACH OF THE INDIVIDUAL INPUTS\n    // N.B. when considering \"individual inputs\" we are concerned with the 4 fields that the checkoutAPI expects to receive for a credit card payment:\n    // encryptedCardNumber, encryptedSecurityCode, encryptedExpiryMonth, encryptedExpiryYear\n    var callbackObjectsArr = makeCallbackObjectsEncryption(fieldType, this.state.type, this.props.rootNode, encryptedObjArr);\n    // For number field - add the endDigits to the encryption object\n    if (fieldType === ENCRYPTED_CARD_NUMBER && truthy(pFeedbackObj.endDigits)) {\n        callbackObjectsArr[0].endDigits = pFeedbackObj.endDigits;\n    }\n    // BROADCAST VALID STATE OF INDIVIDUAL INPUTS - passing the encryption objects\n    for (i = 0, len = callbackObjectsArr.length; i < len; i += 1) {\n        this.callbacks.onFieldValid(callbackObjectsArr[i]);\n    }\n    //--------------------------------------------\n    // STORE & BROADCAST VALID STATE OF THE FORM AS A WHOLE ///////\n    this.assessFormValidity();\n}\n","import * as logger from '../../../utilities/logger';\nexport var originCheckPassed = function (event, pLoadingContext, pShowWarnings) {\n    var origin = event.origin; // || event.originalEvent.origin;\n    var isCheckoutUrl = pLoadingContext.indexOf('/checkoutshopper/');\n    var adyenDomain = isCheckoutUrl > -1 ? pLoadingContext.substring(0, isCheckoutUrl) : pLoadingContext;\n    // Strip trailing /\n    var lastCharIndex = adyenDomain.length - 1;\n    if (adyenDomain.charAt(lastCharIndex) === '/') {\n        adyenDomain = adyenDomain.substring(0, lastCharIndex);\n    }\n    if (origin !== adyenDomain) {\n        if (pShowWarnings) {\n            logger.warn('####################################################################################');\n            logger.warn('WARNING postMessageValidation: postMessage listener for iframe::origin mismatch!\\n Received message with origin:', origin, 'but the only allowed origin for messages to CSF is', adyenDomain);\n            logger.warn('### event.data=', event.data);\n            logger.warn('####################################################################################');\n        }\n        return false;\n    }\n    return true;\n};\n// Catch webpack postMessages responses\nexport var isWebpackPostMsg = function (event) {\n    return event.data && event.data.type && typeof event.data.type === 'string' && event.data.type.indexOf('webpack') > -1;\n};\n// Catch webpack postMessages responses\nexport var isChromeVoxPostMsg = function (event) { return event.data && typeof event.data === 'string' && event.data.indexOf('cvox') > -1; };\n","import { __assign } from \"tslib\";\nimport { ERROR_CODES, ERROR_MSG_INVALID_FIELD } from './constants';\nimport { ENCRYPTED_CARD_NUMBER, ENCRYPTED_EXPIRY_DATE, ENCRYPTED_EXPIRY_MONTH, ENCRYPTED_EXPIRY_YEAR, ENCRYPTED_SECURITY_CODE } from '../../components/internal/SecuredFields/lib/configuration/constants';\n/**\n * Access items stored in the ERROR_CODES object by either sending in the key - in which case you get the value\n * or by sending in the value - in which case you get the key\n * @param keyOrValue - key (or value) by which to retrieve the corresponding value (or key)\n */\nexport var getError = function (keyOrValue) {\n    // Retrieve value\n    var rtnVal = ERROR_CODES[keyOrValue];\n    if (rtnVal)\n        return rtnVal;\n    // Retrieve key\n    rtnVal = Object.keys(ERROR_CODES).find(function (key) { return ERROR_CODES[key] === keyOrValue; });\n    if (rtnVal)\n        return rtnVal;\n    // Neither exist\n    return keyOrValue;\n};\nexport var getDefaultErrorCode = function (fieldType) {\n    switch (fieldType) {\n        case ENCRYPTED_CARD_NUMBER:\n            return 'creditCard.numberField.invalid';\n        case ENCRYPTED_EXPIRY_DATE:\n            return 'creditCard.expiryDateField.invalid';\n        case ENCRYPTED_EXPIRY_MONTH:\n            return 'creditCard.expiryDateField.invalid';\n        case ENCRYPTED_EXPIRY_YEAR:\n            return 'creditCard.expiryDateField.invalid';\n        case ENCRYPTED_SECURITY_CODE:\n            return 'creditCard.oneClickVerification.invalidInput.title';\n        default:\n            return getError(ERROR_MSG_INVALID_FIELD);\n    }\n};\n/**\n * If error translation exists then error (code) is usable, else return a default error code\n * @param error -\n * @param i18n -\n */\nexport var getVerifiedErrorCode = function (fieldType, error, i18n) {\n    // Empty string is a error being cleared - so do nothing;\n    if (error === '')\n        return error;\n    var translatedError = i18n.get(error);\n    // If translatedError still equals error then i18n didn't find a translation - so get a default code\n    return translatedError === error ? getDefaultErrorCode(fieldType) : error;\n};\nexport var addAriaErrorTranslationsObject = function (i18n) {\n    var errorKeys = Object.keys(ERROR_CODES);\n    var transObj = errorKeys.reduce(function (acc, item) {\n        var value = ERROR_CODES[item];\n        // Limit to sf related errors\n        if (value.indexOf('sf-') > -1 || value.indexOf('gen.01') > -1) {\n            acc[value] = i18n.get(value);\n        }\n        return acc;\n    }, {});\n    // console.log('### utils::addAriaErrorTranslationsObject:: transObj', transObj);\n    return transObj;\n};\n/**\n * Adds a new error property to an object, unless it already exists.\n * This error property is an object containing the translated errors, stored by code, that relate to the securedFields\n * @param originalObject - object we want to duplicate and enhance\n * @param i18n - an i18n object to use to get translations\n * @returns a duplicate of the original object with a new property: \"error\" whose value is a object containing the translated errors\n */\nexport var addErrorTranslationsToObject = function (originalObj, i18n) {\n    var nuObj = __assign({}, originalObj);\n    nuObj.error = !nuObj.error ? addAriaErrorTranslationsObject(i18n) : nuObj.error;\n    return nuObj;\n};\n","import { __assign, __extends } from \"tslib\";\nimport * as logger from '../utilities/logger';\nimport createIframe from '../utilities/createIframe';\nimport { selectOne, on, off, removeAllChildren } from '../utilities/dom';\nimport postMessageToIframe from './utils/iframes/postMessageToIframe';\nimport { isWebpackPostMsg, originCheckPassed, isChromeVoxPostMsg } from './utils/iframes/postMessageValidation';\nimport { ENCRYPTED_SECURITY_CODE } from '../configuration/constants';\nimport { generateRandomNumber } from '../utilities/commonUtils';\nimport AbstractSecuredField from '../core/AbstractSecuredField';\nimport { pick, reject } from '../../utils';\nimport { processAriaConfig } from './utils/init/processAriaConfig';\nimport { processPlaceholders } from './utils/init/processPlaceholders';\nvar logPostMsg = false;\nvar doLog = false;\nvar SecuredField = /** @class */ (function (_super) {\n    __extends(SecuredField, _super);\n    // --\n    function SecuredField(pSetupObj, i18n) {\n        var _this = _super.call(this) || this;\n        // List of props from setup object not needed for iframe config\n        var deltaPropsArr = ['fieldType', 'cvcRequired', 'iframeSrc', 'loadingContext', 'holderEl'];\n        // Copy passed setup object values to this.config...\n        var configVarsFromSetUpObj = reject(deltaPropsArr).from(pSetupObj);\n        // ...breaking references on iframeUIConfig object so we can overwrite its properties in each securedField instance\n        _this.config = __assign(__assign(__assign({}, _this.config), configVarsFromSetUpObj), { iframeUIConfig: __assign({}, configVarsFromSetUpObj.iframeUIConfig) });\n        // Copy passed setup object values to this\n        var thisVarsFromSetupObj = pick(deltaPropsArr).from(pSetupObj);\n        _this.fieldType = thisVarsFromSetupObj.fieldType;\n        _this.cvcRequired = thisVarsFromSetupObj.cvcRequired;\n        _this.iframeSrc = thisVarsFromSetupObj.iframeSrc;\n        _this.loadingContext = thisVarsFromSetupObj.loadingContext;\n        _this.holderEl = thisVarsFromSetupObj.holderEl;\n        // Initiate values through setters\n        _this.isValid = false;\n        _this.iframeContentWindow = null;\n        _this.numKey = generateRandomNumber();\n        _this.isEncrypted = false;\n        _this.hasError = false;\n        _this.errorType = '';\n        if (process.env.NODE_ENV === 'development' && doLog) {\n            logger.log('### SecuredFieldCls::constructor:: this.fieldType=', _this.fieldType, 'isValid=', _this._isValid, 'numKey=', _this.numKey);\n            logger.log('\\n');\n        }\n        return _this.init(i18n);\n    }\n    SecuredField.prototype.init = function (i18n) {\n        /**\n         * Ensure all fields have a related ariaConfig object containing, at minimum, an iframeTitle property and a (translated) errors object\n         */\n        var processedAriaConfig = processAriaConfig(this.config, this.fieldType, i18n);\n        // Set result back onto config object\n        this.config.iframeUIConfig.ariaConfig = processedAriaConfig;\n        /**\n         * Ensure that if a placeholder hasn't been set for a field then it gets a default, translated, one\n         */\n        var processedPlaceholders = processPlaceholders(this.config, this.fieldType, i18n);\n        // Set result back onto config object\n        this.config.iframeUIConfig.placeholders = processedPlaceholders;\n        /**\n         * Create & reference iframe and add load listener\n         */\n        var iframeEl = createIframe(\"\" + this.iframeSrc, processedAriaConfig[this.fieldType].iframeTitle);\n        // Place the iframe into the holder\n        this.holderEl.appendChild(iframeEl);\n        // Now examine the holder to get an actual DOM node\n        var iframe = selectOne(this.holderEl, '.js-iframe');\n        if (iframe) {\n            this.iframeContentWindow = iframe.contentWindow;\n            // Create reference to bound fn (see getters/setters for binding)\n            this.iframeOnLoadListener = this.iframeOnLoadListenerFn;\n            on(iframe, 'load', this.iframeOnLoadListener, false);\n        }\n        return this;\n    };\n    SecuredField.prototype.iframeOnLoadListenerFn = function () {\n        if (process.env.NODE_ENV === 'development' && window._b$dl) {\n            logger.log('\\n############################');\n            logger.log('### SecuredFieldCls:::: onIframeLoaded:: this type=', this.config.txVariant);\n        }\n        off(window, 'load', this.iframeOnLoadListener, false);\n        // Create reference to bound fn (see getters/setters for binding)\n        this.postMessageListener = this.postMessageListenerFn;\n        // Add general listener for 'message' EVENT - the event that 'powers' postMessage\n        on(window, 'message', this.postMessageListener, false);\n        // Create and send config object to iframe\n        var configObj = {\n            fieldType: this.fieldType,\n            cvcRequired: this.cvcRequired,\n            numKey: this.numKey,\n            txVariant: this.config.txVariant,\n            extraFieldData: this.config.extraFieldData,\n            cardGroupTypes: this.config.cardGroupTypes,\n            iframeUIConfig: this.config.iframeUIConfig,\n            sfLogAtStart: this.config.sfLogAtStart,\n            showWarnings: this.config.showWarnings,\n            trimTrailingSeparator: this.config.trimTrailingSeparator,\n            isCreditCardType: this.config.isCreditCardType\n        };\n        if (process.env.NODE_ENV === 'development' && window._b$dl) {\n            logger.log('### SecuredFieldCls:::: onIframeLoaded:: created configObj=', configObj);\n        }\n        postMessageToIframe(configObj, this.iframeContentWindow, this.loadingContext);\n        //--\n        // Callback to say iframe loaded\n        this.onIframeLoadedCallback();\n    };\n    SecuredField.prototype.postMessageListenerFn = function (event) {\n        // Check message is from expected domain\n        if (!originCheckPassed(event, this.loadingContext, this.config.showWarnings)) {\n            return;\n        }\n        // TODO - for debugging purposes this would always be useful to see\n        //        logger.log('\\n',this.fieldType,'### CSF SecuredFieldCls::postMessageListener:: event.data=',event.data);\n        if (process.env.NODE_ENV === 'development' && logPostMsg) {\n            logger.log('\\n###CSF SecuredFieldCls::postMessageListener:: DOMAIN & ORIGIN MATCH, NO WEBPACK WEIRDNESS fieldType=', this.fieldType, 'txVariant=', this.config.txVariant, 'this.numKey=', this.numKey);\n        }\n        // PARSE DATA OBJECT (thus testing if it is a JSON string) - OR TRY & WORK OUT WHY THE PARSING FAILED\n        var feedbackObj;\n        try {\n            feedbackObj = JSON.parse(event.data);\n        }\n        catch (e) {\n            // Was the message generated by webpack?\n            if (isWebpackPostMsg(event)) {\n                if (this.config.showWarnings)\n                    logger.log('### SecuredFieldCls::postMessageListenerFn:: PARSE FAIL - WEBPACK');\n                return;\n            }\n            // Was the message generated by ChromeVox?\n            if (isChromeVoxPostMsg(event)) {\n                if (this.config.showWarnings)\n                    logger.log('### SecuredFieldCls::postMessageListenerFn:: PARSE FAIL - CHROMEVOX');\n                return;\n            }\n            if (this.config.showWarnings)\n                logger.log('### SecuredFieldCls::postMessageListenerFn:: PARSE FAIL - UNKNOWN REASON: event.data=', event.data);\n            return;\n        }\n        // CHECK FOR EXPECTED PROPS\n        var hasMainProps = Object.prototype.hasOwnProperty.call(feedbackObj, 'action') && Object.prototype.hasOwnProperty.call(feedbackObj, 'numKey');\n        if (!hasMainProps) {\n            if (this.config.showWarnings)\n                logger.warn('WARNING SecuredFieldCls :: postMessage listener for iframe :: data mismatch!');\n            return;\n        }\n        if (process.env.NODE_ENV === 'development' && logPostMsg) {\n            logger.log('### SecuredFieldCls::postMessageListener:: feedbackObj.numKey=', feedbackObj.numKey);\n        }\n        if (this.numKey !== feedbackObj.numKey) {\n            if (this.config.showWarnings) {\n                logger.warn('WARNING SecuredFieldCls :: postMessage listener for iframe :: data mismatch! ' +\n                    '(Probably a message from an unrelated securedField)');\n            }\n            return;\n        }\n        // VALIDATION CHECKS PASSED - DECIDE ON COURSE OF ACTION\n        if (process.env.NODE_ENV === 'development' && logPostMsg) {\n            logger.log('### SecuredFieldCls::postMessageListener:: numkeys match PROCEED WITH POST MESSAGE PROCESSING fieldType=', this.fieldType, 'txVariant=', this.config.txVariant);\n        }\n        switch (feedbackObj.action) {\n            case 'encryption':\n                this.isValid = true;\n                this.onEncryptionCallback(feedbackObj);\n                break;\n            case 'config':\n                this.onConfigCallback();\n                break;\n            case 'focus':\n                this.onFocusCallback(feedbackObj);\n                break;\n            case 'binValue':\n                this.onBinValueCallback(feedbackObj);\n                break;\n            // iOS ONLY - RE. iOS BUGS AROUND BLUR AND FOCUS EVENTS\n            case 'click':\n                this.onClickCallback(feedbackObj);\n                break;\n            // Only happens for Firefox & IE <= 11\n            case 'shifttab':\n                this.onShiftTabCallback(feedbackObj);\n                break;\n            case 'autoComplete':\n                this.onAutoCompleteCallback(feedbackObj);\n                break;\n            /**\n             * Validate, because action=\n             *  'numberKeyPressed' or date-, month-, year-, cvc-, pin-, or iban- KeyPressed (i.e. regular, \"non-error\" event)\n             *  'delete'\n             *  'luhnCheck'\n             *  'brand'\n             *  'incomplete field' (follows from a focus (blur) event)\n             */\n            default:\n                // If we're validation handling (& not encryption handling) field must be invalid\n                this.isValid = false;\n                this.onValidationCallback(feedbackObj);\n        }\n    };\n    SecuredField.prototype.destroy = function () {\n        off(window, 'message', this.postMessageListener, false);\n        this.iframeContentWindow = null;\n        removeAllChildren(this.holderEl);\n    };\n    // /////// ALLOCATE CALLBACKS /////////\n    SecuredField.prototype.onIframeLoaded = function (callbackFn) {\n        this.onIframeLoadedCallback = callbackFn;\n        return this;\n    };\n    SecuredField.prototype.onEncryption = function (callbackFn) {\n        this.onEncryptionCallback = callbackFn;\n        return this;\n    };\n    SecuredField.prototype.onValidation = function (callbackFn) {\n        this.onValidationCallback = callbackFn;\n        return this;\n    };\n    SecuredField.prototype.onConfig = function (callbackFn) {\n        this.onConfigCallback = callbackFn;\n        return this;\n    };\n    SecuredField.prototype.onFocus = function (callbackFn) {\n        this.onFocusCallback = callbackFn;\n        return this;\n    };\n    SecuredField.prototype.onBinValue = function (callbackFn) {\n        this.onBinValueCallback = callbackFn;\n        return this;\n    };\n    SecuredField.prototype.onClick = function (callbackFn) {\n        this.onClickCallback = callbackFn;\n        return this;\n    };\n    SecuredField.prototype.onShiftTab = function (callbackFn) {\n        this.onShiftTabCallback = callbackFn;\n        return this;\n    };\n    SecuredField.prototype.onAutoComplete = function (callbackFn) {\n        this.onAutoCompleteCallback = callbackFn;\n        return this;\n    };\n    Object.defineProperty(SecuredField.prototype, \"errorType\", {\n        //------------------------------------\n        // ///////////// GETTERS/SETTERS //////////////\n        get: function () {\n            return this._errorType;\n        },\n        set: function (value) {\n            this._errorType = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredField.prototype, \"hasError\", {\n        get: function () {\n            return this._hasError;\n        },\n        set: function (value) {\n            this._hasError = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredField.prototype, \"isValid\", {\n        get: function () {\n            if (this.fieldType === ENCRYPTED_SECURITY_CODE) {\n                if (!this.cvcRequired) {\n                    // If cvc is optional then the field is always valid UNLESS it has an error\n                    return !this.hasError;\n                }\n                return this._isValid && !this.hasError;\n            }\n            return this._isValid;\n        },\n        set: function (value) {\n            this._isValid = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredField.prototype, \"cvcRequired\", {\n        get: function () {\n            return this._cvcRequired;\n        },\n        set: function (value) {\n            // Only set if this is a CVC field\n            if (this.fieldType !== ENCRYPTED_SECURITY_CODE)\n                return;\n            // Only set if value has changed\n            if (value === this.cvcRequired)\n                return;\n            if (process.env.NODE_ENV === 'development' && doLog)\n                logger.log(this.fieldType, '### SecuredFieldCls::cvcRequired:: value=', value);\n            this._cvcRequired = value;\n            // If the field has changed status (required <--> not required) AND it's error state was due to an isValidated call\n            // NOTE: fixes issue in Components where you first validate and then start typing a maestro number\n            // - w/o this and the fix in CSF the maestro PM will never register as valid\n            if (this.hasError && this.errorType === 'isValidated') {\n                this.hasError = false;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredField.prototype, \"iframeContentWindow\", {\n        get: function () {\n            return this._iframeContentWindow;\n        },\n        set: function (value) {\n            this._iframeContentWindow = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredField.prototype, \"isEncrypted\", {\n        get: function () {\n            return this._isEncrypted;\n        },\n        set: function (value) {\n            this._isEncrypted = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredField.prototype, \"numKey\", {\n        get: function () {\n            return this._numKey;\n        },\n        set: function (value) {\n            this._numKey = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredField.prototype, \"iframeOnLoadListener\", {\n        // Internal use - way to create listener refs that we can add/remove\n        get: function () {\n            return this._iframeOnLoadListener;\n        },\n        set: function (value) {\n            this._iframeOnLoadListener = value.bind(this);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredField.prototype, \"postMessageListener\", {\n        get: function () {\n            return this._postMessageListener;\n        },\n        set: function (value) {\n            this._postMessageListener = value.bind(this);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return SecuredField;\n}(AbstractSecuredField));\nexport default SecuredField;\n","import { __assign } from \"tslib\";\nimport { IFRAME_TITLE } from '../../../configuration/constants';\nimport getProp from '../../../../../../../utils/getProp';\nimport { addErrorTranslationsToObject } from '../../../../../../../core/Errors/utils';\n/**\n * Checks if the merchant has defined an ariaConfig object and if so enhances it with a iframeTitle and error property, if they don't already exist\n * If the ariaConfig object doesn't exist then creates one with the default properties\n * In both cases where the error property doesn't exist we extract the correct translation for the field and use that\n */\nexport function processAriaConfig(configObj, fieldType, i18n) {\n    var _a;\n    var iframeTitle = IFRAME_TITLE;\n    var newAriaFieldConfigObj;\n    // Check for a pre-existing, merchant defined object and extract properties\n    var lang = getProp(configObj, \"iframeUIConfig.ariaConfig.lang\");\n    var ariaFieldConfig = getProp(configObj, \"iframeUIConfig.ariaConfig.\" + fieldType);\n    if (ariaFieldConfig) {\n        newAriaFieldConfigObj = __assign(__assign({}, ariaFieldConfig), { \n            // If object already has a title, use it - else set default\n            iframeTitle: ariaFieldConfig.iframeTitle || iframeTitle });\n    }\n    else {\n        // Create a new object with the default title\n        newAriaFieldConfigObj = { iframeTitle: iframeTitle };\n    }\n    // Add error translations object\n    var ariaFieldConfigWithTranslation = addErrorTranslationsToObject(newAriaFieldConfigObj, i18n);\n    // Create a new aria config object keeping the old entries and adding a new one for this field\n    // N.B. need to do this deconstruction of the original aria config object to break existing refs & avoid getting an \"accumulated\" object\n    return __assign(__assign({}, (lang && { lang: lang })), (_a = {}, _a[fieldType] = ariaFieldConfigWithTranslation, _a));\n}\n","import { resolvePlaceholders } from '../../../../utils';\n/**\n * Checks if the merchant has defined an placeholder config object and if not create one with a value from the relevant translation file\n */\nexport function processPlaceholders(configObj, fieldType, i18n) {\n    var _a;\n    // Use the merchant defined value - even if an empty string or null\n    var placeholderFieldValue = configObj.iframeUIConfig.placeholders ? configObj.iframeUIConfig.placeholders[fieldType] : undefined;\n    // Only if the value is truly \"undefined\" then get a translated one\n    if (typeof placeholderFieldValue === 'undefined') {\n        placeholderFieldValue = resolvePlaceholders(i18n)[fieldType];\n    }\n    return _a = {},\n        _a[fieldType] = placeholderFieldValue,\n        _a;\n}\n","export default function createIframe(src, title, styleStr) {\n    if (title === void 0) { title = 'iframe element'; }\n    if (styleStr === void 0) { styleStr = 'border: none; height:100%; width:100%;'; }\n    var iframeEl = document.createElement('iframe');\n    iframeEl.setAttribute('src', src);\n    iframeEl.setAttribute('class', 'js-iframe');\n    iframeEl.setAttribute('title', title);\n    iframeEl.setAttribute('frameborder', '0'); // deprecated but still necessary for IE TODO re-test this on next round of IE testing\n    iframeEl.setAttribute('scrolling', 'no');\n    iframeEl.setAttribute('allowtransparency', 'true');\n    iframeEl.setAttribute('style', styleStr);\n    iframeEl.setAttribute('referrerpolicy', 'origin'); // Necessary for ClientKey to work\n    //    iframeEl.setAttribute('allow', 'accelerometer, gyroscope');// Stops the \"The devicemotion events are blocked by feature policy\" warning in Chrome >=66\n    var noIframeElContent = document.createTextNode('<p>Your browser does not support iframes.</p>');\n    iframeEl.appendChild(noIframeElContent);\n    return iframeEl;\n}\n","var AbstractSecuredField = /** @class */ (function () {\n    function AbstractSecuredField() {\n        this.config = {};\n    }\n    return AbstractSecuredField;\n}());\nexport default AbstractSecuredField;\n","import { select, getAttribute } from '../utilities/dom';\nimport { ENCRYPTED_SECURITY_CODE, ENCRYPTED_EXPIRY_YEAR } from '../configuration/constants';\nimport { existy } from '../utilities/commonUtils';\nimport cardType from '../utilities/cardType';\nimport SecuredField from './SecuredField';\nimport * as logger from '../utilities/logger';\nexport function createSecuredFields() {\n    // Detect DOM elements that qualify as securedField holders\n    this.encryptedAttrName = 'data-encrypted-field';\n    if (process.env.NODE_ENV === 'development' && window._b$dl) {\n        logger.log('\\n### CreateSF::createSecuredFields:: this.state.type=', this.state.type);\n        logger.log('\\n### CreateSF::createSecuredFields:: this.config.iframeSrc=', this.config.iframeSrc);\n    }\n    // Detect DOM elements that qualify as securedField holders\n    var securedFields = select(this.props.rootNode, \"[\" + this.encryptedAttrName + \"]\");\n    // Fallback to old attr name\n    if (!securedFields.length) {\n        this.encryptedAttrName = 'data-cse';\n        securedFields = select(this.props.rootNode, \"[\" + this.encryptedAttrName + \"]\");\n    }\n    /**\n     * Is the CVC field required?\n     * - Always true for GiftCards\n     * - Usually true for single branded Credit Cards but with exceptions e.g. maestro, bcmc.\n     * - Always true for generic Credit Cards at start up - in this case, subsequent, supporting information about whether cvc stops being required comes\n     * from the SF in the brand information (as the shopper inputs the cc number)\n     */\n    this.cvcRequired = true;\n    // CHECK IF THIS SECURED FIELD IS NOT OF A CREDIT CARD TYPE\n    if (!this.config.isCreditCardType) {\n        return this.createNonCardSecuredFields(securedFields);\n    }\n    // CONTINUE AS CREDIT-CARD TYPE...\n    this.isSingleBrandedCard = false;\n    // Should the CVC field be hidden for this card type?\n    // Always false, except for BCMC\n    this.hideCVC = false;\n    // re. BCMC - boolean to indicate whether the markup contains a CVC field that shouldn't be there\n    this.hasRedundantCVCField = false;\n    this.securityCode = '';\n    return this.createCardSecuredFields(securedFields);\n}\nexport function createNonCardSecuredFields(securedFields) {\n    // Create a new SecuredField for each detected holding element\n    securedFields.forEach(this.setupSecuredField.bind(this));\n    return securedFields.length;\n}\nexport function createCardSecuredFields(securedFields) {\n    var _this = this;\n    // Declared card type from the initialisation of CSF\n    var type = this.state.type;\n    // Maybe it's a single branded card defined by setting type: 'card' & a single item in cardGroupTypes\n    // In which case update the type var both locally AND in State\n    if (type === 'card' && this.config.cardGroupTypes.length === 1) {\n        type = this.config.cardGroupTypes[0];\n        this.state.type = type;\n    }\n    // So, is it a single branded card?\n    this.isSingleBrandedCard = type !== 'card';\n    // If single branded card field...\n    if (this.isSingleBrandedCard) {\n        // Check that type exists\n        var card = cardType.getCardByBrand(type);\n        // It's possible we don't recognise the card type -\n        // scenario: frontend initially recognises card as e.g. Visa - but then backend tokenises it as a sub-brand which we currently don't recognise\n        if (!existy(card)) {\n            this.state.type = 'unrecognised-single-brand'; // Will let CVC field accept 4 digits in the input\n            this.cvcRequired = true;\n            this.hideCVC = false;\n        }\n        else {\n            // Assess whether cvc field is required based on the card type\n            this.cvcRequired = !(existy(card.cvcRequired) && !card.cvcRequired);\n            // Assess whether the cvc field should even be visible\n            this.hideCVC = card.hideCVC === true;\n            this.securityCode = card.securityCode;\n        }\n    }\n    else {\n        // Check passed cardGroupTypes\n        this.config.cardGroupTypes.forEach(function (pItem) {\n            if (!existy(cardType.getCardByBrand(pItem))) {\n                logger.warn(\"WARNING: The passed cardGroupType item \\\"\" + pItem + \"\\\" is not recognised by SecuredFields. This may affect whether it will be possible to process this payment.\");\n            }\n        });\n    }\n    // Create a new SecuredField for each detected holding element\n    securedFields.forEach(this.setupSecuredField.bind(this));\n    // For single branded card we call to onBrand callback once.\n    // This allows the ui to set the correct logo if they haven't already and we also pass a hideCVC property\n    // - so the UI can hide the CVC iframe holder if necessary\n    if (this.isSingleBrandedCard) {\n        var callbackObj_1 = {\n            type: this.state.type,\n            rootNode: this.props.rootNode,\n            brand: type,\n            hideCVC: this.hideCVC,\n            cvcRequired: this.cvcRequired,\n            cvcText: this.securityCode\n            //                maxLength: (type === 'amex')? 4 : 3,\n        };\n        setTimeout(function () {\n            _this.callbacks.onBrand(callbackObj_1);\n        }, 0);\n    }\n    // Return the number of iframes we've created\n    // - taking into account whether we initially tried to create one for an unnecessary CVC field\n    return this.hasRedundantCVCField ? securedFields.length - 1 : securedFields.length;\n}\n// forEach detected holder for a securedField...\nexport function setupSecuredField(pItem) {\n    var _this = this;\n    /**\n     *  possible values:\n     *  encryptedCardNumber\n     *  encryptedExpiryDate\n     *  encryptedExpiryMonth\n     *  encryptedExpiryYear\n     *  encryptedSecurityCode\n     *  encryptedPassword\n     *  encryptedPin\n     *  encryptedBankAccountNumber\n     *  encryptedBankLocationId\n     *  encryptedIBAN\n     */\n    var fieldType = getAttribute(pItem, this.encryptedAttrName);\n    if (fieldType === ENCRYPTED_EXPIRY_YEAR) {\n        this.state.hasSeparateDateFields = true;\n    }\n    var extraFieldData = getAttribute(pItem, 'data-info');\n    // CVC FIELD CHECKS\n    // If we have a fieldType for CVC field AND it's a single branded card AND hideCVC is true...\n    // ...then we are showing a CVC field when we shouldn't e.g. for a BCMC card - so don't make an iframe\n    if (fieldType === ENCRYPTED_SECURITY_CODE && this.isSingleBrandedCard && this.hideCVC) {\n        // We have an unnecessary CVC field\n        this.hasRedundantCVCField = true;\n        return;\n    } // -- end CVC FIELD CHECKS\n    // ////// CREATE SecuredField passing in configObject of props that will be set on the SecuredField instance\n    var setupObj = {\n        fieldType: fieldType,\n        extraFieldData: extraFieldData,\n        txVariant: this.state.type,\n        cardGroupTypes: this.config.cardGroupTypes,\n        iframeUIConfig: this.config.iframeUIConfig ? this.config.iframeUIConfig : {},\n        sfLogAtStart: this.config.sfLogAtStart,\n        trimTrailingSeparator: this.config.trimTrailingSeparator,\n        cvcRequired: this.cvcRequired,\n        isCreditCardType: this.config.isCreditCardType,\n        iframeSrc: this.config.iframeSrc,\n        loadingContext: this.config.loadingContext,\n        showWarnings: this.config.showWarnings,\n        holderEl: pItem\n    };\n    var sf = new SecuredField(setupObj, this.props.i18n)\n        .onIframeLoaded(function () {\n        // Count\n        _this.state.iframeCount += 1;\n        if (process.env.NODE_ENV === 'development' && window._b$dl) {\n            logger.log('### SecuredFieldCls:::: onIframeLoaded::type=', _this.state.type, 'iframeCount=', _this.state.iframeCount);\n            logger.log('### SecuredFieldCls:::: onIframeLoaded::type=', _this.state.type, 'this.state.numIframes=', _this.state.numIframes);\n        }\n        // If all iframes are loaded - call onLoad callback\n        if (_this.state.iframeCount === _this.state.numIframes) {\n            if (process.env.NODE_ENV === 'development' && window._b$dl) {\n                logger.log('\\n### SecuredFieldCls:::: onIframeLoaded:: ALL IFRAMES LOADED type=', _this.state.type, 'DO CALLBACK callbacks=', _this.callbacks);\n            }\n            var callbackObj = { iframesLoaded: true };\n            _this.callbacks.onLoad(callbackObj);\n        }\n    })\n        .onConfig(function () {\n        _this.handleIframeConfigFeedback();\n    })\n        .onFocus(function (pFeedbackObj) {\n        _this.handleFocus(pFeedbackObj);\n    })\n        .onBinValue(function (pFeedbackObj) {\n        _this.handleBinValue(pFeedbackObj);\n    })\n        .onClick(function (pFeedbackObj) {\n        // iOS ONLY - RE. iOS BUGS AROUND BLUR AND FOCUS EVENTS\n        // - pass information about which field has just been clicked (gained focus) to the other iframes\n        _this.postMessageToAllIframes({ fieldType: pFeedbackObj.fieldType, click: true });\n    })\n        .onShiftTab(function (pFeedbackObj) {\n        // Only happens for Firefox & IE <= 11\n        _this.handleSFShiftTab(pFeedbackObj.fieldType);\n    })\n        .onEncryption(function (pFeedbackObj) {\n        _this.handleEncryption(pFeedbackObj);\n    })\n        .onValidation(function (pFeedbackObj) {\n        _this.handleValidation(pFeedbackObj);\n    })\n        .onAutoComplete(function (pFeedbackObj) {\n        _this.processAutoComplete(pFeedbackObj);\n    });\n    // Store reference to securedField in this.state (under fieldType)\n    this.state.securedFields[fieldType] = sf;\n}\n","import postMessageToIframe from './postMessageToIframe';\nexport function setFocusOnFrame(pFieldType, doLog) {\n    // Check destroySecuredFields hasn't been called (thus clearing the state's securedFields object)\n    if (!Object.prototype.hasOwnProperty.call(this.state.securedFields, pFieldType))\n        return;\n    if (process.env.NODE_ENV === 'development' && doLog)\n        console.log('\\n### setFocusOnFrame:: (SHIFT_TAB) place focus on:', pFieldType);\n    var focusData = {\n        txVariant: this.state.type,\n        fieldType: pFieldType,\n        focus: true,\n        numKey: this.state.securedFields[pFieldType].numKey\n    };\n    postMessageToIframe(focusData, this.getIframeContentWin(pFieldType), this.config.loadingContext);\n}\n","import postMessageToIframe from './postMessageToIframe';\n// UTIL TO BROADCAST TO ALL IFRAMES AT ONCE\n// Adds correct txVariant, fieldType and numKey for each iframe\nexport function postMessageToAllIframes(pDataObj) {\n    var _this = this;\n    var objKeys = Object.keys(pDataObj || {});\n    if (!objKeys.length) {\n        // pDataObj is an object with the 'special' key(s) that represent the reason for making this postMessage\n        // without it/them there is no reason to postMessage\n        return;\n    }\n    var securedFieldKeys = Object.keys(this.state.securedFields);\n    securedFieldKeys.forEach(function (pFieldType) {\n        var dataObj = {\n            txVariant: _this.state.type,\n            fieldType: pFieldType,\n            numKey: _this.state.securedFields[pFieldType].numKey\n        };\n        // Copy across 'special' properties from passed data object\n        objKeys.forEach(function (pKey) {\n            dataObj[pKey] = pDataObj[pKey];\n        });\n        postMessageToIframe(dataObj, _this.getIframeContentWin(pFieldType), _this.config.loadingContext);\n    });\n}\n","export function destroySecuredFields() {\n    var _this = this;\n    // Tell all securedFields iframes: they will remove all event listeners including keyboard events\n    this.postMessageToAllIframes({ destroy: true });\n    // Get ref to all the keys under which SecuredField instances are stores\n    var securedFieldKeys = Object.keys(this.state.securedFields);\n    // Tell each SecuredField instance to:\n    // stop listening to message events, remove iframe window refs, remove iframes\n    // Then remove ref to SecuredField instance\n    securedFieldKeys.forEach(function (pFieldType) {\n        var sf = _this.state.securedFields[pFieldType];\n        if (sf)\n            sf.destroy();\n        _this.state.securedFields[pFieldType] = null;\n    });\n    // --\n    // Stop listening to touchend event on body (iOS only)\n    this.destroyTouchendListener();\n    // Clear SecuredField storage object\n    this.state.securedFields = {};\n}\n","import { __assign } from \"tslib\";\nimport postMessageToIframe from './iframes/postMessageToIframe';\nimport { ENCRYPTED_EXPIRY_DATE, ENCRYPTED_EXPIRY_MONTH, ENCRYPTED_EXPIRY_YEAR } from '../../configuration/constants';\nexport function processAutoComplete(pFeedbackObj) {\n    var _this = this;\n    // Specifically for cc-name (but no reason not to propagate all AC objects to the merchant)\n    if (pFeedbackObj.name === 'cc-name') {\n        var feedbackObj = __assign({}, pFeedbackObj);\n        delete feedbackObj.numKey;\n        var ACFeedbackObj = feedbackObj;\n        this.callbacks.onAutoComplete(ACFeedbackObj);\n    }\n    // Send date info to relevant secured fields\n    if (pFeedbackObj.name === 'cc-exp') {\n        var splittableDateVal = pFeedbackObj.value.replace(/[^0-9]/gi, '/'); // Replace any non-digits with a fwd-slash so we can always split it\n        var dateValArr = splittableDateVal.split('/');\n        if (dateValArr.length !== 2)\n            return; // To avoid bug in some versions of Safari where date doesn't come through as expected\n        if (dateValArr[0].length === 1)\n            dateValArr[0] = \"0\" + dateValArr[0]; // pad, if required\n        var acMonthVal = dateValArr[0];\n        var acYearVal_1 = dateValArr[1].substr(2); // take last 2 digits of year\n        var acDateVal = acMonthVal + \"/\" + acYearVal_1;\n        if (Object.prototype.hasOwnProperty.call(this.state.securedFields, ENCRYPTED_EXPIRY_DATE)) {\n            var dataObj = {\n                txVariant: this.state.type,\n                fieldType: ENCRYPTED_EXPIRY_DATE,\n                autoComplete: acDateVal,\n                numKey: this.state.securedFields[ENCRYPTED_EXPIRY_DATE].numKey\n            };\n            postMessageToIframe(dataObj, this.getIframeContentWin(ENCRYPTED_EXPIRY_DATE), this.config.loadingContext);\n            return;\n        }\n        if (Object.prototype.hasOwnProperty.call(this.state.securedFields, ENCRYPTED_EXPIRY_MONTH)) {\n            var dataObj = {\n                txVariant: this.state.type,\n                fieldType: ENCRYPTED_EXPIRY_MONTH,\n                autoComplete: acMonthVal,\n                numKey: this.state.securedFields[ENCRYPTED_EXPIRY_MONTH].numKey\n            };\n            postMessageToIframe(dataObj, this.getIframeContentWin(ENCRYPTED_EXPIRY_MONTH), this.config.loadingContext);\n        }\n        if (Object.prototype.hasOwnProperty.call(this.state.securedFields, ENCRYPTED_EXPIRY_YEAR)) {\n            // Dirty! - Need to wait til next page draw if setting month and year at the same time, otherwise only year gets set\n            setTimeout(function () {\n                var dataObj = {\n                    txVariant: _this.state.type,\n                    fieldType: ENCRYPTED_EXPIRY_YEAR,\n                    autoComplete: acYearVal_1,\n                    numKey: _this.state.securedFields[ENCRYPTED_EXPIRY_YEAR].numKey\n                };\n                postMessageToIframe(dataObj, _this.getIframeContentWin(ENCRYPTED_EXPIRY_YEAR), _this.config.loadingContext);\n            }, 0);\n        }\n    }\n}\n","import { __assign } from \"tslib\";\n// Call focus callback and store which field currently has focus\nexport function handleFocus(pFeedbackObj) {\n    var feedbackObj = __assign({}, pFeedbackObj);\n    delete feedbackObj.numKey;\n    feedbackObj.rootNode = this.props.rootNode;\n    feedbackObj.type = this.state.type;\n    // Store which field has focus\n    var focusString = feedbackObj.fieldType;\n    // Focus event - store, if this isn't the field that already has focus\n    if (feedbackObj.focus) {\n        if (this.state.currentFocusObject !== focusString) {\n            this.state.currentFocusObject = focusString;\n            // iOS ONLY thing (fn returns if not iOS)\n            if (!this.state.registerFieldForIos) {\n                this.handleAdditionalFields();\n            }\n        }\n    }\n    else {\n        // Blur event - remove stored focus\n        var focusObjectMatches = this.state.currentFocusObject === focusString;\n        if (focusObjectMatches) {\n            this.state.currentFocusObject = null;\n        }\n    }\n    // Call callback\n    var callbackObj = feedbackObj;\n    callbackObj.currentFocusObject = this.state.currentFocusObject;\n    this.callbacks.onFocus(callbackObj);\n}\n","import * as logger from '../../../utilities/logger';\n// Count how many iframes have successfully been configured and, if its all of them, call callback function\nexport function handleIframeConfigFeedback() {\n    this.state.iframeConfigCount += 1;\n    if (process.env.NODE_ENV === 'development' && window._b$dl) {\n        logger.log('\\n### handleIframeConfigFeedback::handleIframeConfigFeedback:: this.state.type=', this.state.type);\n        logger.log('### handleIframeConfigFeedback::handleIframeConfigFeedback:: this.state.iframeConfigCount=', this.state.iframeConfigCount);\n        logger.log('### handleIframeConfigFeedback::handleIframeConfigFeedback:: this.state.numIframes=', this.state.numIframes);\n    }\n    if (this.state.iframeConfigCount === this.state.numIframes) {\n        if (process.env.NODE_ENV === 'development' && window._b$dl) {\n            logger.log('\\n### handleIframeConfigFeedback::handleIframeConfigFeedback:: ALL IFRAMES CONFIG DO CALLBACK type=', this.state.type);\n        }\n        // Announce we're configured to the rest of the system\n        this.isConfigured();\n        return true;\n    }\n    return false;\n}\n","import { existy } from '../../utilities/commonUtils';\nimport cardType from '../../utilities/cardType';\nimport * as logger from '../../utilities/logger';\nexport function isConfigured() {\n    this.state.isConfigured = true;\n    var callbackObj = { iframesConfigured: true, type: this.state.type };\n    this.callbacks.onConfigSuccess(callbackObj);\n    // If a recurring card\n    if (this.state.numIframes === 1 && this.config.isCreditCardType) {\n        if (this.state.type === 'card') {\n            logger.error(\"ERROR: Payment method with a single secured field - but 'type' has not been set to a specific card brand\");\n            return;\n        }\n        // Get card object from txVariant\n        var card = cardType.getCardByBrand(this.state.type);\n        // It's possible we don't recognise the card type -\n        // scenario: frontend initially recognises card as e.g. Visa - but then backend tokenises it as a sub-brand which we currently don't recognise\n        if (card) {\n            // Assess whether cvc field is required\n            var cvcRequired = !(existy(card.cvcRequired) && !card.cvcRequired);\n            // If cvc is optional - the form can be considered valid\n            if (!cvcRequired) {\n                this.assessFormValidity();\n            }\n        }\n    }\n}\n","var checkFormIsValid = function (pSecuredFields) {\n    var securedFieldKeys = Object.keys(pSecuredFields);\n    for (var i = 0, len = securedFieldKeys.length; i < len; i += 1) {\n        var key = securedFieldKeys[i];\n        if (!pSecuredFields[key].isValid) {\n            return false;\n        }\n    }\n    return true;\n};\nexport function assessFormValidity() {\n    var isValid = checkFormIsValid(this.state.securedFields);\n    var validityHasChanged = isValid !== this.state.allValid;\n    this.state.allValid = isValid;\n    // Only call onAllValid callback if value has changed OR is true\n    if (!isValid && !validityHasChanged)\n        return;\n    var callbackObj = { allValid: isValid, type: this.state.type, rootNode: this.props.rootNode };\n    // BROADCAST VALID STATE OF THE FORM AS A WHOLE\n    this.callbacks.onAllValid(callbackObj);\n}\n","export function handleBinValue(pFeedbackObj) {\n    var binValue = pFeedbackObj.binValue, encryptedBin = pFeedbackObj.encryptedBin, uuid = pFeedbackObj.uuid;\n    var callbacksObj = { binValue: binValue, type: this.state.type };\n    if (encryptedBin) {\n        callbacksObj.encryptedBin = encryptedBin;\n        callbacksObj.uuid = uuid;\n    }\n    this.callbacks.onBinValue(callbacksObj);\n}\n","import { ENCRYPTED_SECURITY_CODE, ENCRYPTED_CARD_NUMBER } from '../../configuration/constants';\nimport { existy } from '../../utilities/commonUtils';\nimport cardType from '../../utilities/cardType';\nimport postMessageToIframe from './iframes/postMessageToIframe';\nexport function sendBrandToCardSF(brand) {\n    if (Object.prototype.hasOwnProperty.call(this.state.securedFields, ENCRYPTED_CARD_NUMBER)) {\n        var dataObj = {\n            txVariant: this.state.type,\n            brand: brand,\n            fieldType: ENCRYPTED_CARD_NUMBER,\n            numKey: this.state.securedFields[ENCRYPTED_CARD_NUMBER].numKey\n        };\n        postMessageToIframe(dataObj, this.getIframeContentWin(ENCRYPTED_CARD_NUMBER), this.config.loadingContext);\n    }\n}\nexport function handleBrandFromBinLookup(brandsObj) {\n    // The number of digits in number field has dropped below threshold for BIN lookup - so tell SF to reset & republish the brand it detects\n    if (!brandsObj) {\n        this.sendBrandToCardSF('reset');\n        return;\n    }\n    var passedBrand = brandsObj.supportedBrands[0];\n    var card = cardType.getCardByBrand(passedBrand);\n    // If no card object force it to true, else base it on the value in the card object\n    var cvcRequired = !existy(card) ? true : !(card.cvcRequired === false);\n    var brandToSend = card ? passedBrand : 'card';\n    // Create brand object to send to processBrand (& so handle brand change in the same way as if it had come from securedFields)\n    var brandObj = {\n        cvcRequired: cvcRequired,\n        brand: brandToSend,\n        hideCVC: !existy(card) ? false : card.hideCVC === true,\n        cvcText: existy(card) && card.securityCode ? card.securityCode : 'Security code',\n        fieldType: ENCRYPTED_CARD_NUMBER\n    };\n    this.processBrand(brandObj);\n    // Pass brand to CardNumber SF\n    this.sendBrandToCardSF(brandToSend);\n    // CHECK IF BRAND CHANGE MEANS FORM IS NOW VALID e.g maestro/bcmc (which don't require cvc)\n    // Set the cvcRequired value on the relevant SecuredFields instance...\n    if (this.state.type === 'card' && Object.prototype.hasOwnProperty.call(this.state.securedFields, ENCRYPTED_SECURITY_CODE)) {\n        this.state.securedFields[ENCRYPTED_SECURITY_CODE].cvcRequired = cvcRequired;\n    }\n    // ... and re-check if all SecuredFields are valid\n    this.assessFormValidity();\n}\n","function isIE() {\n    var ua = navigator.userAgent;\n    var msie = ua.indexOf('MSIE ');\n    if (msie > 0) {\n        // IE 10 or older => return version number\n        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n    }\n    var trident = ua.indexOf('Trident/');\n    if (trident > 0) {\n        // IE 11 => return version number\n        var rv = ua.indexOf('rv:');\n        return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n    }\n    var edge = ua.indexOf('Edge/');\n    if (edge > 0) {\n        // Edge (IE 12+) => return version number\n        return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n    }\n    // other browser\n    return false;\n}\nvar __IS_ANDROID = /(android)/i.test(navigator.userAgent);\nvar __IS_IE = isIE();\nvar __IS_IOS = /iphone|ipod|ipad/i.test(navigator.userAgent);\nvar __IS_FIREFOX = /(firefox)/i.test(navigator.userAgent);\nvar __IS_SAFARI = /(safari)/i.test(navigator.userAgent) && !/(chrome)/i.test(navigator.userAgent);\nexport default {\n    __IS_ANDROID: __IS_ANDROID,\n    __IS_IE: __IS_IE,\n    __IS_IOS: __IS_IOS,\n    __IS_FIREFOX: __IS_FIREFOX,\n    __IS_SAFARI: __IS_SAFARI\n};\n","import { on, off, selectOne } from '../../utilities/dom';\nimport ua from '../../utilities/userAgent';\nimport * as logger from '../../utilities/logger';\nvar doLog = false;\nvar getCaretPos = function (pNode) {\n    if ('selectionStart' in pNode) {\n        return pNode.selectionStart;\n    }\n    return 0;\n};\nfunction touchendListener(e) {\n    if (process.env.NODE_ENV === 'development' && doLog)\n        logger.log('### registerAdditionalField::BODY CLICK:: e=', e);\n    var targetEl = e.target;\n    // If other element is Input or TextArea\n    if (targetEl instanceof HTMLInputElement || (HTMLTextAreaElement && targetEl instanceof HTMLTextAreaElement)) {\n        // Force caret to show - 'requires' resetting field's value\n        var val = targetEl.value;\n        var caretPos_1 = getCaretPos(targetEl);\n        var adjFlag = false;\n        // For some annoying, iOS Safari, reason if caretPos is at the end of the string then it won't show up\n        // - so first decrease it; then set it again, asynchronously\n        if (caretPos_1 === val.length) {\n            caretPos_1 -= 1;\n            adjFlag = true;\n        }\n        targetEl.value = val;\n        if (targetEl.setSelectionRange) {\n            targetEl.focus();\n            targetEl.setSelectionRange(caretPos_1, caretPos_1);\n            // Quirky! (see comment above)\n            if (adjFlag) {\n                caretPos_1 += 1;\n                setTimeout(function () {\n                    targetEl.setSelectionRange(caretPos_1, caretPos_1);\n                }, 0);\n            }\n        }\n    }\n    else {\n        /**\n         * Workaround for iOS/Safari bug where keypad doesn't retract when SF paymentMethod is no longer active\n         */\n        var hasKeypadFix = this.config.keypadFix; // to avoid linting no-lonely-if\n        if (hasKeypadFix) {\n            // Create an input we can add focus to.\n            // Otherwise 2nd & sub times the caret gets left in the SF even though it has lost focus and cannot be typed into\n            var rootNode = this.props.rootNode;\n            var nuDiv = document.createElement('input');\n            nuDiv.style.width = '1px';\n            nuDiv.style.height = '1px';\n            nuDiv.style.opacity = '0';\n            nuDiv.style.fontSize = '18px'; // prevents zoom\n            rootNode.appendChild(nuDiv);\n            nuDiv.focus(); // Takes caret from SF\n            rootNode.removeChild(nuDiv); // Without this numpad will be replaced with text pad\n        }\n    }\n    // Remove listener\n    this.destroyTouchendListener(); // eslint-disable-line no-use-before-define\n    // Store the fact we have unset the listener\n    this.state.registerFieldForIos = false;\n    // Clear focus on secured field inputs now this additional field has gained focus\n    this.postMessageToAllIframes({ fieldType: 'additionalField', click: true });\n}\nfunction handleAdditionalFields() {\n    // Only do for iOS\n    if (!ua.__IS_IOS)\n        return;\n    // This works with the touchend handler, below, to allow us to catch click events on non-securedFields elements.\n    // re. http://gravitydept.com/blog/js-click-event-bubbling-on-ios\n    // We can use this event to:\n    // 1. Set focus on these other elements, and\n    // 2. Tell SecuredFields that this has happened so they can blur themselves\n    var bodyEl = selectOne(document, 'body');\n    bodyEl.style.cursor = 'pointer';\n    on(bodyEl, 'touchend', this.touchendListener);\n    // Store the fact we have set the listener\n    this.state.registerFieldForIos = true;\n}\nfunction destroyTouchendListener() {\n    if (!ua.__IS_IOS)\n        return; // For when fn is called as result of destroy being called on main csf instance\n    var bodyEl = selectOne(document, 'body');\n    bodyEl.style.cursor = 'auto';\n    off(bodyEl, 'touchend', this.touchendListener);\n}\nexport default {\n    touchendListener: touchendListener,\n    handleAdditionalFields: handleAdditionalFields,\n    destroyTouchendListener: destroyTouchendListener\n};\n","import { selectOne, select } from '../utilities/dom';\nvar getPreviousTabbableEl = function (matchEl, getPrevious) {\n    if (getPrevious === void 0) { getPrevious = true; }\n    var selStr = '*[data-cse], a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), ' +\n        'button:not([disabled]), object, embed, *[tabindex], *[contenteditable]';\n    var allPotentialTabEls = Array.prototype.slice.call(select(document, selStr));\n    var actualTabEls = [];\n    allPotentialTabEls.forEach(function (potentialTabEl) {\n        var tabIndex = potentialTabEl.getAttribute('tabindex');\n        var isValidTabEl = !tabIndex || parseInt(tabIndex, 10) >= 0; // If tabindex hasn't been set, or is set and is >= 0\n        var bounds = potentialTabEl.getBoundingClientRect();\n        var hasDimensions = bounds.width > 0 && bounds.height > 0;\n        if (isValidTabEl && hasDimensions) {\n            actualTabEls.push(potentialTabEl);\n        }\n    });\n    // Loop through an array until it finds an element based on a test fn, and then return the elements index\n    var getIndexThruTest = function (arr, testFn) {\n        for (var n = 0; n < arr.length; n += 1) {\n            if (testFn(arr[n])) {\n                return n;\n            }\n        }\n        return -1;\n    };\n    // Test function\n    var isElOrContainsEl = function (tabEl) { return tabEl === matchEl || matchEl.contains(tabEl); };\n    // Loop through the actualTabEls array until it finds the matchEl, returning its index\n    var matchElIndex = getIndexThruTest(actualTabEls, isElOrContainsEl);\n    // Are we actually getting the previous element OR the next?\n    var indexModifier = getPrevious ? -1 : 1;\n    return actualTabEls[matchElIndex + indexModifier];\n};\nexport var findRootNode = function (pRootNode) {\n    var rootNode;\n    // Expect to be sent the actual html node...\n    if (typeof pRootNode === 'object') {\n        rootNode = pRootNode;\n    }\n    if (typeof pRootNode === 'string') {\n        // ... but if only sent a string - find it ourselves\n        rootNode = selectOne(document, pRootNode);\n        if (!rootNode) {\n            return null;\n        }\n    }\n    return rootNode;\n};\nexport var getPreviousTabbableNonSFElement = function (passedFieldType, rootNode) {\n    // --\n    var sfEl = selectOne(rootNode, \"[data-cse=\" + passedFieldType + \"]\");\n    return getPreviousTabbableEl(sfEl);\n};\n","import ua from '../../../utilities/userAgent';\nimport * as logger from '../../../utilities/logger';\nimport { shiftTabCreditCard } from './tabScenarioCreditCard';\nimport { shiftTabACH } from './tabScenarioACH';\nimport { shiftTabGiftCard } from './tabScenarioGiftCard';\nimport { shiftTabKCP } from './tabScenarioKCP';\nvar logTab = false;\nvar focusExternalField = function (pAdditionalField) {\n    if (pAdditionalField) {\n        pAdditionalField.focus();\n        // Quirky! - Needed to work in the Components scenario\n        pAdditionalField.blur();\n        pAdditionalField.focus();\n    }\n};\nfunction handleShiftTab(fieldType) {\n    if (logTab)\n        logger.log('### handleTab::handleShiftTab:: fieldType', fieldType);\n    var shiftTabObj;\n    switch (this.state.type) {\n        // ACH scenario: bankAccountNumber SF followed by a bankLocationId SF\n        case 'ach':\n            shiftTabObj = shiftTabACH(fieldType);\n            break;\n        // GIFT CARD scenario: SecurityCode preceded by CardNumber\n        case 'giftcard':\n            shiftTabObj = shiftTabGiftCard(fieldType, this.props.rootNode);\n            break;\n        // Credit Card scenarios\n        default:\n            // KCP scenario: Regular credit card but with additional fields\n            // - an encrypted pin/password field preceded by a form field of a non-SF type (d.o.b/taxRefNum)\n            if (this.config.isKCP) {\n                shiftTabObj = shiftTabKCP(fieldType, this.props.rootNode, this.state.hasSeparateDateFields);\n            }\n            else {\n                // Regular Credit Card\n                shiftTabObj = shiftTabCreditCard(fieldType, this.props.rootNode, this.state.hasSeparateDateFields, this.state.numIframes);\n            }\n            break;\n    }\n    var fieldToFocus = shiftTabObj.fieldToFocus;\n    var additionalField = shiftTabObj.additionalField;\n    if (fieldToFocus) {\n        this.setFocusOnFrame(fieldToFocus, logTab);\n    }\n    else if (additionalField) {\n        focusExternalField(additionalField);\n    }\n}\nvar eligibleForTabFix = function () { return ua.__IS_FIREFOX || (ua.__IS_IE && ua.__IS_IE <= 11); };\nfunction handleSFShiftTab(fieldType) {\n    if (eligibleForTabFix()) {\n        this.handleShiftTab(fieldType);\n    }\n}\nexport default {\n    handleShiftTab: handleShiftTab,\n    handleSFShiftTab: handleSFShiftTab\n};\n","import { ENCRYPTED_BANK_ACCNT_NUMBER_FIELD, ENCRYPTED_BANK_LOCATION_FIELD } from '../../../configuration/constants';\n// ACH scenario: bankAccountNumber SF followed by a bankLocationId SF\nexport function shiftTabACH(fieldType) {\n    var additionalField;\n    var fieldToFocus;\n    if (fieldType === ENCRYPTED_BANK_LOCATION_FIELD) {\n        fieldToFocus = ENCRYPTED_BANK_ACCNT_NUMBER_FIELD;\n    }\n    return {\n        fieldToFocus: fieldToFocus,\n        additionalField: additionalField\n    };\n}\n","import { ENCRYPTED_CARD_NUMBER, ENCRYPTED_SECURITY_CODE } from '../../../configuration/constants';\nimport { getPreviousTabbableNonSFElement } from '../../../ui/domUtils';\n// GIFT CARD scenario: SecurityCode preceded by CardNumber\nexport function shiftTabGiftCard(fieldType, rootNode) {\n    var additionalField;\n    var fieldToFocus;\n    switch (fieldType) {\n        case ENCRYPTED_CARD_NUMBER:\n            additionalField = getPreviousTabbableNonSFElement(ENCRYPTED_CARD_NUMBER, rootNode);\n            break;\n        case ENCRYPTED_SECURITY_CODE:\n            fieldToFocus = ENCRYPTED_CARD_NUMBER;\n            break;\n        default:\n            break;\n    }\n    return {\n        fieldToFocus: fieldToFocus,\n        additionalField: additionalField\n    };\n}\n","import { ENCRYPTED_CARD_NUMBER, ENCRYPTED_SECURITY_CODE, ENCRYPTED_EXPIRY_DATE, ENCRYPTED_EXPIRY_MONTH, ENCRYPTED_EXPIRY_YEAR, ENCRYPTED_PWD_FIELD, ENCRYPTED_PIN_FIELD } from '../../../configuration/constants';\nimport { getPreviousTabbableNonSFElement } from '../../../ui/domUtils';\n// KCP scenario: Regular credit card but with additional fields -\n// an encrypted pin/password field preceded by a form field of a non-SF type (d.o.b/taxRefNum)\nexport function shiftTabKCP(fieldType, rootNode, hasSeparateDateFields) {\n    var additionalField;\n    var fieldToFocus;\n    switch (fieldType) {\n        case ENCRYPTED_CARD_NUMBER:\n            additionalField = getPreviousTabbableNonSFElement(ENCRYPTED_CARD_NUMBER, rootNode);\n            break;\n        case ENCRYPTED_EXPIRY_DATE:\n            fieldToFocus = ENCRYPTED_CARD_NUMBER;\n            break;\n        case ENCRYPTED_EXPIRY_MONTH:\n            fieldToFocus = ENCRYPTED_CARD_NUMBER;\n            break;\n        case ENCRYPTED_EXPIRY_YEAR:\n            fieldToFocus = ENCRYPTED_EXPIRY_MONTH;\n            break;\n        case ENCRYPTED_SECURITY_CODE:\n            fieldToFocus = !hasSeparateDateFields ? ENCRYPTED_EXPIRY_DATE : ENCRYPTED_EXPIRY_YEAR;\n            break;\n        case ENCRYPTED_PWD_FIELD:\n        case ENCRYPTED_PIN_FIELD:\n            additionalField = getPreviousTabbableNonSFElement(fieldType, rootNode);\n            break;\n        default:\n            break;\n    }\n    return {\n        fieldToFocus: fieldToFocus,\n        additionalField: additionalField\n    };\n}\n","import { ENCRYPTED_CARD_NUMBER, ENCRYPTED_SECURITY_CODE, ENCRYPTED_EXPIRY_DATE, ENCRYPTED_EXPIRY_MONTH, ENCRYPTED_EXPIRY_YEAR } from '../../../configuration/constants';\nimport { getPreviousTabbableNonSFElement } from '../../../ui/domUtils';\n// Regular Credit Card scenario\nexport function shiftTabCreditCard(fieldType, rootNode, hasSeparateDateFields, numIframes) {\n    var additionalField;\n    var fieldToFocus;\n    switch (fieldType) {\n        case ENCRYPTED_CARD_NUMBER:\n            additionalField = getPreviousTabbableNonSFElement(ENCRYPTED_CARD_NUMBER, rootNode);\n            break;\n        case ENCRYPTED_EXPIRY_DATE:\n            fieldToFocus = ENCRYPTED_CARD_NUMBER;\n            break;\n        case ENCRYPTED_EXPIRY_MONTH:\n            fieldToFocus = ENCRYPTED_CARD_NUMBER;\n            break;\n        case ENCRYPTED_EXPIRY_YEAR:\n            fieldToFocus = ENCRYPTED_EXPIRY_MONTH;\n            break;\n        case ENCRYPTED_SECURITY_CODE:\n            // Shifting focus away from securedFields\n            if (numIframes === 1) {\n                additionalField = getPreviousTabbableNonSFElement(ENCRYPTED_SECURITY_CODE, rootNode);\n            }\n            else {\n                // Focus stays within securedFields\n                fieldToFocus = !hasSeparateDateFields ? ENCRYPTED_EXPIRY_DATE : ENCRYPTED_EXPIRY_YEAR;\n            }\n            break;\n        default:\n            break;\n    }\n    return {\n        fieldToFocus: fieldToFocus,\n        additionalField: additionalField\n    };\n}\n","import { __extends } from \"tslib\";\nimport { handleConfig } from '../configuration/handleConfig';\nimport { configureCallbacks } from '../configuration/configureCallbacks';\nimport { handleProcessBrand } from './utils/processBrand';\nimport { handleValidation } from './handleValidation';\nimport { handleEncryption } from './handleEncryption';\nimport { createSecuredFields, createNonCardSecuredFields, createCardSecuredFields, setupSecuredField } from './createSecuredFields';\nimport { setFocusOnFrame } from './utils/iframes/setFocusOnFrame';\nimport { postMessageToAllIframes } from './utils/iframes/postMessageToAllIframes';\nimport { destroySecuredFields } from './destroySecuredFields';\nimport { processAutoComplete } from './utils/processAutoComplete';\nimport { handleFocus } from './utils/iframes/handleFocus';\nimport { handleIframeConfigFeedback } from './utils/iframes/handleIframeConfigFeedback';\nimport { isConfigured } from './utils/isConfigured';\nimport { assessFormValidity } from './utils/validateForm';\nimport { handleBinValue } from './utils/handleBinValue';\nimport { handleBrandFromBinLookup, sendBrandToCardSF } from './utils/handleBrandFromBinLookup';\nimport handleAdditionalFields from './utils/registerAdditionalField';\nimport tabHandlers from './utils/tabbing/handleTab';\nimport postMessageToIframe from './utils/iframes/postMessageToIframe';\nimport AbstractCSF from './AbstractCSF';\nimport * as logger from '../utilities/logger';\nvar notConfiguredWarning = function (str) {\n    if (str === void 0) { str = 'You cannot use secured fields'; }\n    logger.warn(str + \" - they are not yet configured. Use the 'onConfigSuccess' callback to know when this has happened.\");\n};\nvar CSF = /** @class */ (function (_super) {\n    __extends(CSF, _super);\n    // --\n    function CSF(setupObj) {\n        var _this = _super.call(this, setupObj) || this;\n        _this.state = {\n            /**\n             *  For generic card will always be 'card'.\n             *  For non-generic card will be hardcoded to a particular txVariant e.g. 'mc' or 'visa'\n             */\n            type: _this.props.type,\n            /**\n             *  For generic card will change as shopper types\n             *  For non-generic card will be fixed\n             */\n            brand: _this.props.type !== 'card' ? _this.props.type : null,\n            allValid: undefined,\n            numIframes: 0,\n            iframeCount: 0,\n            iframeConfigCount: 0,\n            isConfigured: false,\n            hasSeparateDateFields: false,\n            currentFocusObject: null,\n            registerFieldForIos: false,\n            securedFields: {}\n        };\n        // Setup 'this' references\n        _this.configHandler = handleConfig;\n        _this.callbacksHandler = configureCallbacks;\n        _this.handleIframeConfigFeedback = handleIframeConfigFeedback;\n        _this.isConfigured = isConfigured;\n        _this.assessFormValidity = assessFormValidity;\n        _this.processBrand = handleProcessBrand;\n        _this.handleValidation = handleValidation;\n        _this.handleEncryption = handleEncryption;\n        _this.createSecuredFields = createSecuredFields;\n        _this.createNonCardSecuredFields = createNonCardSecuredFields;\n        _this.createCardSecuredFields = createCardSecuredFields;\n        _this.setupSecuredField = setupSecuredField;\n        _this.postMessageToAllIframes = postMessageToAllIframes;\n        _this.setFocusOnFrame = setFocusOnFrame;\n        _this.handleFocus = handleFocus;\n        _this.handleAdditionalFields = handleAdditionalFields.handleAdditionalFields;\n        _this.touchendListener = handleAdditionalFields.touchendListener.bind(_this);\n        _this.destroyTouchendListener = handleAdditionalFields.destroyTouchendListener;\n        _this.handleSFShiftTab = tabHandlers.handleSFShiftTab;\n        _this.handleShiftTab = tabHandlers.handleShiftTab;\n        _this.destroySecuredFields = destroySecuredFields;\n        _this.processAutoComplete = processAutoComplete;\n        _this.handleBinValue = handleBinValue;\n        _this.brandsFromBinLookup = handleBrandFromBinLookup;\n        _this.sendBrandToCardSF = sendBrandToCardSF;\n        // Populate config & callbacks objects & create securedFields\n        _this.init();\n        return _this;\n    }\n    CSF.prototype.init = function () {\n        this.configHandler();\n        this.callbacksHandler(this.props.callbacks);\n        /**\n         * Create all the securedFields\n         */\n        var numIframes = this.createSecuredFields();\n        this.state.numIframes = numIframes;\n    };\n    // Expose functions that can be called on the CSF instance\n    CSF.prototype.createReturnObject = function () {\n        var _this = this;\n        // --\n        var returnObj = {\n            // --\n            updateStyles: function (pStyleObject) {\n                if (_this.state.isConfigured) {\n                    _this.postMessageToAllIframes({ styleObject: pStyleObject });\n                }\n                else {\n                    logger.warn('You cannot update the secured fields styling ' +\n                        \"- they are not yet configured. Use the 'onConfigSuccess' callback to know when this has happened.\");\n                }\n                return returnObj;\n            },\n            setFocusOnFrame: function (pFieldType) {\n                if (_this.state.isConfigured) {\n                    _this.setFocusOnFrame(pFieldType);\n                }\n                else {\n                    notConfiguredWarning('You cannot set focus on any secured field');\n                }\n                return returnObj;\n            },\n            // For component based implementation - if showValidation function is called on the component use this\n            // function as a way to notify the CSF that a field is in error\n            isValidated: function (pFieldType, code) {\n                if (_this.state.isConfigured) {\n                    if (Object.prototype.hasOwnProperty.call(_this.state.securedFields, pFieldType)) {\n                        _this.state.securedFields[pFieldType].hasError = true;\n                        // If there's not already an errorType, set one\n                        // NOTE: fixes issue in Components where you first validate and then start typing a maestro number\n                        // - w/o this and the corresponding fix in the SecuredField class the maestro PM will never register as valid\n                        if (_this.state.securedFields[pFieldType].errorType === '') {\n                            _this.state.securedFields[pFieldType].errorType = 'isValidated';\n                        }\n                        // Inform iframe\n                        var dataObj = {\n                            txVariant: _this.state.type,\n                            fieldType: pFieldType,\n                            externalValidation: true,\n                            code: code,\n                            numKey: _this.state.securedFields[pFieldType].numKey\n                        };\n                        postMessageToIframe(dataObj, _this.getIframeContentWin(pFieldType), _this.config.loadingContext);\n                    }\n                }\n                else {\n                    notConfiguredWarning('You cannot set validated on any secured field');\n                }\n                return returnObj;\n            },\n            hasUnsupportedCard: function (pFieldType, code) {\n                if (_this.state.isConfigured) {\n                    if (Object.prototype.hasOwnProperty.call(_this.state.securedFields, pFieldType)) {\n                        //\n                        _this.state.securedFields[pFieldType].hasError = !!code;\n                        _this.state.securedFields[pFieldType].errorType = code;\n                        // Inform iframe\n                        var dataObj = {\n                            txVariant: _this.state.type,\n                            fieldType: pFieldType,\n                            unsupportedCard: !!code,\n                            code: code,\n                            numKey: _this.state.securedFields[pFieldType].numKey\n                        };\n                        postMessageToIframe(dataObj, _this.getIframeContentWin(pFieldType), _this.config.loadingContext);\n                    }\n                }\n                else {\n                    notConfiguredWarning('You cannot set hasUnsupportedCard on any secured field');\n                }\n                return returnObj;\n            },\n            destroy: function () {\n                if (_this.state.isConfigured) {\n                    _this.destroySecuredFields();\n                }\n                else {\n                    notConfiguredWarning('You cannot destroy secured fields');\n                }\n                return returnObj;\n            },\n            brandsFromBinLookup: function (brandsObj) {\n                if (!_this.config.isCreditCardType)\n                    return null;\n                if (_this.state.isConfigured) {\n                    _this.brandsFromBinLookup(brandsObj);\n                }\n                else {\n                    notConfiguredWarning('You cannot set pass brands to secured fields');\n                }\n                return returnObj;\n            }\n        };\n        return returnObj;\n    };\n    /**\n     * Retrieves the iframe, stored by field type, & returns it's contentWindow\n     */\n    CSF.prototype.getIframeContentWin = function (fieldType) {\n        return this.state.securedFields[fieldType].iframeContentWindow || null;\n    };\n    return CSF;\n}(AbstractCSF));\nexport default CSF;\n","var AbstractCSF = /** @class */ (function () {\n    // --\n    function AbstractCSF(setupObj) {\n        this.props = setupObj;\n        this.state = {};\n        // Initialise storage objects\n        this.config = {}; // {} as ConfigObject fails in linting\n        this.callbacks = {};\n    }\n    return AbstractCSF;\n}());\nexport default AbstractCSF;\n","import csf from './core/initCSF';\nexport default csf;\n","import { __assign } from \"tslib\";\nimport CSF from './CSF';\nimport cardType from '../utilities/cardType';\nimport * as logger from '../utilities/logger';\nimport { falsy } from '../utilities/commonUtils';\nimport { findRootNode } from '../ui/domUtils';\nvar initCSF = function (pSetupObj) {\n    if (!pSetupObj) {\n        throw new Error('No securedFields configuration object defined');\n    }\n    var setupObj = __assign({}, pSetupObj);\n    // Ensure there is always a default type & map the generic types (e.g. 'card', 'scheme') to 'card'\n    var isGenericCardType = cardType.isGenericCardType(setupObj.type);\n    setupObj.type = isGenericCardType ? 'card' : setupObj.type;\n    // //////// 1. Check passed config object has minimum expected properties //////////\n    if (!Object.prototype.hasOwnProperty.call(setupObj, 'rootNode')) {\n        logger.error('ERROR: SecuredFields configuration object is missing a \"rootNode\" property');\n        return null;\n    }\n    if (falsy(setupObj.clientKey) && falsy(setupObj.originKey)) {\n        logger.warn('WARNING: Checkout configuration object is missing a \"clientKey\" property.\\nFor a transition period the originKey will be accepted instead but this will eventually be deprecated');\n        return null;\n    }\n    //----------------------------------------------------------------------------\n    // //////// 2. Find and store reference to the root DOM element //////////\n    var rootNode = findRootNode(setupObj.rootNode);\n    if (!rootNode) {\n        if (window.console && window.console.error) {\n            window.console.error('ERROR: SecuredFields cannot find a valid rootNode element for', setupObj.type);\n        }\n        return null;\n    }\n    setupObj.rootNode = rootNode; // Overwrite with actual node (in case we were sent a string)\n    var myCSF = new CSF(setupObj);\n    return myCSF.createReturnObject();\n};\nexport default initCSF;\n","import { __assign } from \"tslib\";\nimport { getCardImageUrl } from './utils';\nimport { ENCRYPTED_SECURITY_CODE, ENCRYPTED_CARD_NUMBER } from './lib/configuration/constants';\nimport { getError, getVerifiedErrorCode } from '../../../core/Errors/utils';\nimport { ERROR_MSG_CLEARED } from '../../../core/Errors/constants';\n/**\n * Emits the onConfigSuccess (ready) event\n * Here we can assume CSF is loaded and ready to be used\n */\nfunction handleOnLoad(cbObj) {\n    var _this = this;\n    // Propagate onLoad event\n    this.props.onLoad(cbObj);\n    // eslint-disable-next-line\n    this.originKeyErrorTimeout = setTimeout(function () {\n        if (_this.state.status !== 'ready') {\n            // Hide the spinner and lets look at the inputs\n            _this.setState({ status: 'originKeyError' });\n            _this.props.onError({ error: 'originKeyError', fieldType: 'defaultError' });\n        }\n    }, this.originKeyTimeoutMS);\n}\n/**\n * Emits the onConfigSuccess (ready) event\n * Here we can assume CSF is loaded, configured and ready to be used\n */\nfunction handleOnConfigSuccess(cbObj) {\n    var _this = this;\n    clearTimeout(this.originKeyErrorTimeout);\n    this.setState({ status: 'ready' }, function () {\n        // Propagate onConfigSuccess event\n        _this.props.onConfigSuccess(cbObj);\n    });\n}\n/**\n * Emits the onAllValid event\n */\nfunction handleOnAllValid(status) {\n    var _this = this;\n    // Form cannot be valid whilst there is an unsupported card\n    if (this.state.hasUnsupportedCard) {\n        return false;\n    }\n    this.setState({ isSfpValid: status.allValid }, function () {\n        _this.props.onAllValid(status); // Propagate onAllValid event\n    });\n    return true;\n}\n/**\n * Saves a field value from CSF in the CardInput state\n * Emits the onFieldValid event\n */\nfunction handleOnFieldValid(field) {\n    var _this = this;\n    // A card number field cannot be valid whilst there is an unsupported card\n    if (this.state.hasUnsupportedCard && field.fieldType === ENCRYPTED_CARD_NUMBER) {\n        return false;\n    }\n    var setValidFieldState = function (prevState) {\n        var _a, _b, _c;\n        return ({\n            data: __assign(__assign({}, prevState.data), (_a = {}, _a[field.encryptedFieldName] = field.blob, _a)),\n            valid: __assign(__assign({}, prevState.valid), (_b = {}, _b[field.encryptedFieldName] = field.valid, _b)),\n            // if a securedField comes through as valid:false it means the field has not been completed BUT is without errors - so set it as so (unless it was already in an error state)\n            errors: __assign(__assign({}, prevState.errors), (_c = {}, _c[field.fieldType] = prevState.errors[field.fieldType] === true, _c))\n        });\n    };\n    this.setState(setValidFieldState, function () {\n        _this.props.onChange(_this.state);\n        // Propagate onFieldValid event\n        _this.props.onFieldValid(field);\n    });\n    return true;\n}\n/**\n * Saves the card brand in state\n * Emits the onBrand event\n */\nfunction handleOnBrand(cardInfo) {\n    var _this = this;\n    this.setState(function (prevState) {\n        var _a;\n        return ({\n            brand: cardInfo.brand,\n            cvcRequired: cardInfo.cvcRequired !== false,\n            errors: __assign(__assign({}, prevState.errors), (_a = {}, _a[ENCRYPTED_SECURITY_CODE] = !cardInfo.cvcRequired && _this.numCharsInCVC === 0 ? false : prevState.errors[ENCRYPTED_SECURITY_CODE], _a))\n        });\n    }, function () {\n        _this.props.onChange(_this.state);\n        // Enhance data object with the url for the brand image\n        _this.props.onBrand(__assign(__assign({}, cardInfo), { brandImageUrl: getCardImageUrl(cardInfo.brand, _this.props.loadingContext) }));\n    });\n    if ((this.props.hideCVC || !!cardInfo.hideCVC || cardInfo.cvcRequired === false) && this.props.oneClick) {\n        this.handleOnNoDataRequired();\n    }\n}\n/**\n * Handles validation errors\n */\nfunction handleOnError(cbObj, hasUnsupportedCard) {\n    if (hasUnsupportedCard === void 0) { hasUnsupportedCard = null; }\n    // If we're in an \"unsupported card\" state and a 'regular' card number error comes through - ignore it until the \"unsupported card\" state is cleared\n    if (this.state.hasUnsupportedCard && cbObj.fieldType === ENCRYPTED_CARD_NUMBER && hasUnsupportedCard === null) {\n        // Temporary - for testing in development\n        if (process.env.NODE_ENV === 'development') {\n            throw new Error('SecuredFieldsProviderHandlers::handleOnError:: IN UNSUPPORTED CARD STATE');\n        }\n    }\n    var verifiedErrorCode = getVerifiedErrorCode(cbObj.fieldType, cbObj.error, this.props.i18n);\n    this.setState(function (prevState) {\n        var _a;\n        return ({\n            errors: __assign(__assign({}, prevState.errors), (_a = {}, _a[cbObj.fieldType] = verifiedErrorCode || false, _a)),\n            hasUnsupportedCard: hasUnsupportedCard !== null ? hasUnsupportedCard : false\n        });\n    });\n    cbObj.errorI18n = this.props.i18n.get(verifiedErrorCode); // Add translation\n    var errorExplained = getError(verifiedErrorCode);\n    cbObj.errorText = errorExplained !== '' ? errorExplained : ERROR_MSG_CLEARED; // Add internal explanation\n    this.props.onError(cbObj);\n    return true;\n}\nfunction handleFocus(cbObj) {\n    if (cbObj.fieldType === ENCRYPTED_SECURITY_CODE) {\n        this.numCharsInCVC = cbObj.numChars;\n    }\n    this.props.onFocus(cbObj);\n}\n// Only called for holder name\nfunction handleOnAutoComplete(cbObj) {\n    var _this = this;\n    this.setState({ autoCompleteName: cbObj.value }, function () {\n        _this.props.onChange(_this.state);\n        _this.setState({ autoCompleteName: null }); // Nullify ref after sending it (lets shopper edit holder name)\n    });\n    this.props.onAutoComplete(cbObj);\n}\n/**\n * Handles cases where no secured fields are necessary (one click payments without CVC)\n * Automatically resolves with a valid state\n */\nfunction handleOnNoDataRequired() {\n    var _this = this;\n    this.setState({ status: 'ready' }, function () { return _this.props.onChange({ isSfpValid: true }); });\n}\nexport default {\n    handleFocus: handleFocus,\n    handleOnAllValid: handleOnAllValid,\n    handleOnAutoComplete: handleOnAutoComplete,\n    handleOnFieldValid: handleOnFieldValid,\n    handleOnLoad: handleOnLoad,\n    handleOnConfigSuccess: handleOnConfigSuccess,\n    handleOnBrand: handleOnBrand,\n    handleOnError: handleOnError,\n    handleOnNoDataRequired: handleOnNoDataRequired\n};\n","export default {\n    type: 'card',\n    // Settings\n    originKey: null,\n    keypadFix: true,\n    rootNode: null,\n    loadingContext: null,\n    groupTypes: [],\n    allowedDOMAccess: false,\n    showWarnings: false,\n    autoFocus: true,\n    trimTrailingSeparator: true,\n    // Events\n    onChange: function () { },\n    onLoad: function () { },\n    onConfigSuccess: function () { },\n    onAllValid: function () { },\n    onFieldValid: function () { },\n    onBrand: function () { },\n    onError: function () { },\n    onBinValue: function () { },\n    onFocus: function () { },\n    onAutoComplete: function () { },\n    // Customization\n    placeholders: {},\n    ariaLabels: {},\n    styles: {}\n};\n","import { __assign, __extends } from \"tslib\";\nimport { Component } from 'preact';\nimport { getErrorObject, getFields, getErrorReducer, validFieldsReducer } from './utils';\nimport initCSF from './lib';\nimport handlers from './SecuredFieldsProviderHandlers';\nimport defaultProps from './defaultProps';\nimport { ENCRYPTED_CARD_NUMBER } from './lib/configuration/constants';\n/**\n * SecuredFieldsProvider:\n * Initialises & handles the client-side part of SecuredFields\n */\nvar SecuredFieldsProvider = /** @class */ (function (_super) {\n    __extends(SecuredFieldsProvider, _super);\n    function SecuredFieldsProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.setRootNode = function (input) {\n            _this.rootNode = input;\n        };\n        var stateObj = {\n            status: 'loading',\n            brand: props.type,\n            errors: {},\n            valid: {},\n            data: {},\n            cvcRequired: true,\n            isSfpValid: false\n        };\n        _this.state = stateObj;\n        _this.originKeyErrorTimeout = null;\n        _this.originKeyTimeoutMS = 15000;\n        _this.numCharsInCVC = 0;\n        // Handlers\n        _this.handleOnLoad = handlers.handleOnLoad.bind(_this);\n        _this.handleOnConfigSuccess = handlers.handleOnConfigSuccess.bind(_this);\n        _this.handleOnFieldValid = handlers.handleOnFieldValid.bind(_this);\n        _this.handleOnAllValid = handlers.handleOnAllValid.bind(_this);\n        _this.handleOnBrand = handlers.handleOnBrand.bind(_this);\n        _this.handleFocus = handlers.handleFocus.bind(_this);\n        _this.handleOnError = handlers.handleOnError.bind(_this);\n        _this.handleOnNoDataRequired = handlers.handleOnNoDataRequired.bind(_this);\n        _this.handleOnAutoComplete = handlers.handleOnAutoComplete.bind(_this);\n        _this.processBinLookupResponse = _this.processBinLookupResponse.bind(_this);\n        // Bindings for functions exposed to users of this component: SecuredFields & CardInput\n        _this.setFocusOn = _this.setFocusOn.bind(_this);\n        _this.updateStyles = _this.updateStyles.bind(_this);\n        _this.handleUnsupportedCard = _this.handleUnsupportedCard.bind(_this);\n        _this.showValidation = _this.showValidation.bind(_this);\n        _this.destroy = _this.destroy.bind(_this);\n        return _this;\n    }\n    SecuredFieldsProvider.prototype.componentDidMount = function () {\n        if (this.props.rootNode) {\n            this.setRootNode(this.props.rootNode);\n        }\n        // Find encryptedFields and map them to the values we use to store valid states\n        var fields = getFields(this.rootNode);\n        var valid = fields.reduce(validFieldsReducer, {});\n        this.setState({ valid: valid });\n        // Store how many dateFields we are dealing with visually\n        this.numDateFields = fields.filter(function (f) { return f.match(/Expiry/); }).length;\n        if (fields.length) {\n            this.initializeCSF(this.rootNode);\n        }\n        else {\n            this.handleOnNoDataRequired();\n        }\n    };\n    SecuredFieldsProvider.prototype.componentWillUnmount = function () {\n        this.csf = null;\n    };\n    SecuredFieldsProvider.prototype.initializeCSF = function (root) {\n        var loadingContext = this.props.loadingContext;\n        // For loading securedFields from local server during development\n        if (process.env.NODE_ENV === 'development' && process.env.__SF_ENV__ !== 'build') {\n            loadingContext = process.env.__SF_ENV__;\n        }\n        var csfSetupObj = {\n            rootNode: root,\n            type: this.props.type,\n            originKey: this.props.originKey,\n            clientKey: this.props.clientKey,\n            cardGroupTypes: this.props.groupTypes,\n            allowedDOMAccess: this.props.allowedDOMAccess,\n            autoFocus: this.props.autoFocus,\n            trimTrailingSeparator: this.props.trimTrailingSeparator,\n            loadingContext: loadingContext,\n            keypadFix: this.props.keypadFix,\n            showWarnings: this.props.showWarnings,\n            iframeUIConfig: {\n                sfStyles: this.props.styles,\n                placeholders: this.props.placeholders,\n                ariaConfig: this.props.ariaLabels\n            },\n            i18n: this.props.i18n,\n            callbacks: {\n                onLoad: this.handleOnLoad,\n                onConfigSuccess: this.handleOnConfigSuccess,\n                onFieldValid: this.handleOnFieldValid,\n                onAllValid: this.handleOnAllValid,\n                onBrand: this.handleOnBrand,\n                onError: this.handleOnError,\n                onFocus: this.handleFocus,\n                onBinValue: this.props.onBinValue,\n                onAutoComplete: this.handleOnAutoComplete\n            },\n            isKCP: this.props.koreanAuthenticationRequired === true\n        };\n        this.csf = initCSF(csfSetupObj);\n    };\n    SecuredFieldsProvider.prototype.getChildContext = function () {\n        return { i18n: this.props.i18n };\n    };\n    SecuredFieldsProvider.prototype.handleUnsupportedCard = function (errObj) {\n        var hasUnsupportedCard = !!errObj.error;\n        this.handleOnError(errObj, hasUnsupportedCard);\n        // Inform CSF that the number field has an unsupportedCard error\n        if (this.csf)\n            this.csf.hasUnsupportedCard(ENCRYPTED_CARD_NUMBER, errObj.error);\n        return hasUnsupportedCard;\n    };\n    SecuredFieldsProvider.prototype.setFocusOn = function (frame) {\n        if (this.csf)\n            this.csf.setFocusOnFrame(frame);\n    };\n    SecuredFieldsProvider.prototype.updateStyles = function (stylesObj) {\n        if (this.csf)\n            this.csf.updateStyles(stylesObj);\n    };\n    SecuredFieldsProvider.prototype.destroy = function () {\n        if (this.csf)\n            this.csf.destroy();\n    };\n    SecuredFieldsProvider.prototype.showValidation = function () {\n        var _this = this;\n        var _a = this, numDateFields = _a.numDateFields, props = _a.props, state = _a.state;\n        Object.keys(state.valid)\n            .reduce(getErrorReducer(numDateFields, state), [])\n            .forEach(function (field) {\n            // For each detected error pass an error object to the handler (calls error callback & sets state)\n            var errorObj = getErrorObject(field, props.rootNode, state);\n            _this.handleOnError(errorObj);\n            // Inform the secured-fields instance of which fields have been found to have errors\n            if (_this.csf && _this.csf.isValidated) {\n                _this.csf.isValidated(field, errorObj.error);\n            }\n        });\n    };\n    SecuredFieldsProvider.prototype.processBinLookupResponse = function (binValueObject) {\n        // If we were dealing with an unsupported card and now we have a valid /binLookup response - reset state and inform CSF\n        // (Scenario: from an unsupportedCard state the shopper has pasted another number long enough to trigger a /binLookup)\n        if (this.state.hasUnsupportedCard) {\n            this.setState(function (prevState) {\n                var _a;\n                return ({\n                    errors: __assign(__assign({}, prevState.errors), (_a = {}, _a[ENCRYPTED_CARD_NUMBER] = false, _a)),\n                    hasUnsupportedCard: false\n                });\n            });\n            if (this.csf)\n                this.csf.hasUnsupportedCard(ENCRYPTED_CARD_NUMBER, '');\n        }\n        // Scenarios:\n        // RESET (binValueObject === null): The number of digits in number field has dropped below threshold for BIN lookup\n        // RESULT (binValueObject.brands.length === 1): binLookup has found a result so inform CSF\n        if (this.csf)\n            this.csf.brandsFromBinLookup(binValueObject);\n    };\n    SecuredFieldsProvider.prototype.render = function (props, state) {\n        return props.render({ setRootNode: this.setRootNode, setFocusOn: this.setFocusOn }, state);\n    };\n    SecuredFieldsProvider.defaultProps = defaultProps;\n    return SecuredFieldsProvider;\n}(Component));\nexport default SecuredFieldsProvider;\n","import { __rest } from \"tslib\";\nimport { useState, useEffect } from 'preact/hooks';\nimport { h } from 'preact';\nimport { renderFormField } from '../FormFields';\nimport useCoreContext from '../../../core/Context/useCoreContext';\n/**\n * \"Store details\" generic checkbox\n */\nfunction StoreDetails(_a) {\n    var _b = _a.storeDetails, storeDetails = _b === void 0 ? false : _b, props = __rest(_a, [\"storeDetails\"]);\n    var i18n = useCoreContext().i18n;\n    var _c = useState(storeDetails), value = _c[0], setValue = _c[1];\n    var onChange = function (e) {\n        setValue(e.target.checked);\n    };\n    useEffect(function () {\n        props.onChange(value);\n    }, [value]);\n    return (h(\"div\", { className: \"adyen-checkout__store-details\" }, renderFormField('boolean', {\n        onChange: onChange,\n        label: i18n.get('storeDetails'),\n        value: value,\n        name: 'storeDetails'\n    })));\n}\nexport default StoreDetails;\n","export default {\n    details: [],\n    type: 'card',\n    // Settings\n    hasHolderName: false,\n    holderNameRequired: false,\n    enableStoreDetails: false,\n    hideCVC: false,\n    hasCVC: true,\n    hasStoreDetails: false,\n    storedDetails: false,\n    showBrandIcon: true,\n    billingAddressRequired: false,\n    billingAddressRequiredFields: ['street', 'houseNumberOrName', 'postalCode', 'city', 'stateOrProvince', 'country'],\n    installmentOptions: {},\n    configuration: { koreanAuthenticationRequired: false },\n    // Events\n    onLoad: function () { },\n    onConfigSuccess: function () { },\n    onAllValid: function () { },\n    onFieldValid: function () { },\n    onBrand: function () { },\n    onError: function () { },\n    onBinValue: function () { },\n    onBlur: function () { },\n    onFocus: function () { },\n    onChange: function () { },\n    originKey: null,\n    // Values\n    holderName: '',\n    data: {\n        holderName: '',\n        billingAddress: {}\n    },\n    // Customization\n    styles: {},\n    placeholders: {},\n    ariaLabels: {}\n};\n","export default {\n    base: {\n        caretColor: '#0066FF'\n    }\n};\n","export var validateHolderName = function (holderName, holderNameRequired) {\n    if (holderNameRequired === void 0) { holderNameRequired = false; }\n    if (holderNameRequired) {\n        return !!holderName && typeof holderName === 'string' && holderName.trim().length > 0;\n    }\n    return true;\n};\nexport default {\n    validateHolderName: validateHolderName\n};\n","import { __assign } from \"tslib\";\nimport { validateHolderName } from './validate';\n// Validate whole cardInput component i.e holderName + securedFields\nfunction validateCardInput() {\n    var _this = this;\n    var holderNameValid = validateHolderName(this.state.data.holderName, this.props.holderNameRequired);\n    var sfpValid = this.state.isSfpValid;\n    var addressValid = this.props.billingAddressRequired ? this.state.valid.billingAddress : true;\n    var koreanAuthentication = this.props.configuration.koreanAuthenticationRequired ? this.state.valid.taxNumber : true;\n    var isValid = sfpValid && holderNameValid && addressValid && koreanAuthentication;\n    this.setState({ isValid: isValid }, function () {\n        _this.props.onChange(_this.state);\n    });\n}\nfunction handleAddress(address) {\n    var setAddress = function (prevState) { return (__assign(__assign({}, prevState), { billingAddress: address.data, valid: __assign(__assign({}, prevState.valid), { billingAddress: address.isValid }) })); };\n    this.setState(setAddress, this.validateCardInput);\n}\n/**\n * Saves the KCP Authentication details in state\n */\nfunction handleKCPAuthentication(data, valid) {\n    var setKCP = function (prevState) { return ({\n        data: __assign(__assign({}, prevState.data), data),\n        valid: __assign(__assign({}, prevState.valid), valid)\n    }); };\n    this.setState(setKCP, this.validateCardInput);\n}\n/**\n * Saves the storeDetails in state\n */\nfunction handleOnStoreDetails(storeDetails) {\n    this.setState({ storePaymentMethod: storeDetails }, this.validateCardInput);\n}\n/**\n * Saves the holderName in state\n */\nfunction handleHolderName(e) {\n    var _this = this;\n    var holderName = e.target.value;\n    var setHolderName = function (prevState) { return ({\n        data: __assign(__assign({}, prevState.data), { holderName: holderName }),\n        errors: __assign(__assign({}, prevState.errors), { holderName: _this.props.holderNameRequired ? !validateHolderName(holderName) : false }),\n        valid: __assign(__assign({}, prevState.valid), { holderName: _this.props.holderNameRequired ? validateHolderName(holderName, _this.props.holderNameRequired) : true })\n    }); };\n    this.setState(setHolderName, this.validateCardInput);\n}\nfunction handleInstallments(installments) {\n    this.setState({ installments: installments }, this.validateCardInput);\n}\nfunction handleSecuredFieldsChange(newState) {\n    var _this = this;\n    var sfState = newState;\n    var tempHolderName = sfState.autoCompleteName ? sfState.autoCompleteName : this.state.data.holderName;\n    var setSfpData = function (prevState) { return (__assign(__assign({}, prevState), { data: __assign(__assign(__assign({}, _this.state.data), sfState.data), { holderName: tempHolderName }), errors: __assign(__assign({}, _this.state.errors), sfState.errors), valid: __assign(__assign(__assign({}, _this.state.valid), sfState.valid), { holderName: _this.props.holderNameRequired ? validateHolderName(tempHolderName, _this.props.holderNameRequired) : true }), isSfpValid: sfState.isSfpValid })); };\n    this.setState(setSfpData, this.validateCardInput);\n}\n/**\n * Saves the card brand in state\n */\nfunction handleOnBrand(cardInfo) {\n    var _this = this;\n    this.setState({ brand: cardInfo.brand, hideCVCForBrand: !!cardInfo.hideCVC }, function () {\n        _this.props.onBrand(cardInfo);\n    });\n}\n/**\n * Saves the currently focused element in state\n */\nfunction handleFocus(e) {\n    var isFocused = e.focus === true;\n    this.setState({ focusedElement: e.currentFocusObject });\n    if (isFocused) {\n        this.props.onFocus(e);\n    }\n    else {\n        this.props.onBlur(e);\n    }\n}\n/**\n * Handler for the select element added in response to the /binLookup call\n */\nfunction handleAdditionalDataSelection(e) {\n    var field = e.currentTarget;\n    var value = field.getAttribute('data-value');\n    this.setState({ additionalSelectValue: value }, this.validateCardInput);\n    // Pass brand into SecuredFields\n    if (this.state.additionalSelectType === 'brandSwitcher') {\n        this.sfp.current.processBinLookupResponse({ supportedBrands: [value] });\n    }\n}\nexport default {\n    handleFocus: handleFocus,\n    handleAddress: handleAddress,\n    handleKCPAuthentication: handleKCPAuthentication,\n    handleOnStoreDetails: handleOnStoreDetails,\n    handleHolderName: handleHolderName,\n    handleInstallments: handleInstallments,\n    handleSecuredFieldsChange: handleSecuredFieldsChange,\n    handleOnBrand: handleOnBrand,\n    handleAdditionalDataSelection: handleAdditionalDataSelection,\n    validateCardInput: validateCardInput\n};\n","import { createCardVariantSwitcher } from './utils';\n// Based on values in binValueObject we might need to trigger additional markup\n// e.g. a selector for brands or to choose between credit/debit card variations\nexport default function processBinLookupResponse(binValueObject) {\n    var _a;\n    // RESET: The number of digits in number field has dropped below threshold for BIN lookup - so reset the UI & inform SFP\n    if (!binValueObject) {\n        this.resetAdditionalSelectState();\n        this.sfp.current.processBinLookupResponse(binValueObject);\n        return;\n    }\n    // RESULT: binLookup has found a result so proceed accordingly\n    if ((_a = binValueObject.supportedBrands) === null || _a === void 0 ? void 0 : _a.length) {\n        // 1) Multiple options found - add to the UI & inform SFP\n        if (binValueObject.supportedBrands.length > 1) {\n            // --\n            var switchObj = createCardVariantSwitcher(binValueObject.supportedBrands, 'brandSwitcher');\n            // Set properties on state to trigger a Select element in the UI\n            this.setState(switchObj.stateObject); // Don't need to call validateCardInput - this will be called by the brandChange from SFP\n            // Pass an object through to SFP\n            this.sfp.current.processBinLookupResponse({ supportedBrands: [switchObj.leadType] });\n            // 2) Single option found (binValueObject.brands.length === 1)\n        }\n        else {\n            this.resetAdditionalSelectState(); // Reset UI\n            // Set (single) value from binLookup so it will be added to the 'brand' property in the paymentMethod object\n            // Call validateCardInput so this new value ends up in state for the Card UIElement (Card.tsx)\n            this.setState({ additionalSelectValue: binValueObject.supportedBrands[0] }, this.validateCardInput());\n            // Pass object through to SFP\n            this.sfp.current.processBinLookupResponse(binValueObject);\n        }\n    }\n}\n","import { __assign, __extends } from \"tslib\";\nimport { Component, h, createRef } from 'preact';\nimport Address from '../../../internal/Address';\nimport CardFields from './components/CardFields';\nimport CardHolderName from './components/CardHolderName';\nimport Installments from './components/Installments';\nimport KCPAuthentication from './components/KCPAuthentication';\nimport LoadingWrapper from '../../../internal/LoadingWrapper/LoadingWrapper';\nimport StoredCardFields from './components/StoredCardFields';\nimport SecuredFieldsProvider from '../../../../components/internal/SecuredFields/SecuredFieldsProvider';\nimport StoreDetails from '../../../internal/StoreDetails';\nimport defaultProps from './defaultProps';\nimport defaultStyles from './defaultStyles';\nimport getImage from '../../../../utils/get-image';\nimport handlers from './handlers';\nimport processBinLookup from './processBinLookup';\nimport styles from './CardInput.module.scss';\nimport './CardInput.scss';\nvar CardInput = /** @class */ (function (_super) {\n    __extends(CardInput, _super);\n    function CardInput(props) {\n        var _this = _super.call(this, props) || this;\n        _this.sfp = createRef();\n        _this.billingAddressRef = createRef();\n        _this.kcpAuthenticationRef = createRef();\n        _this.state = __assign(__assign({ status: 'ready', errors: {}, valid: __assign({}, (_this.props.holderNameRequired && { holderName: false })), data: __assign({}, (_this.props.hasHolderName && {\n                holderName: _this.props.holderName || _this.props.data.holderName\n            })) }, (_this.props.billingAddressRequired && {\n            billingAddress: __assign({}, _this.props.data.billingAddress)\n        })), { isValid: false, hideCVCForBrand: false, focusedElement: '', additionalSelectElements: [], additionalSelectValue: '', additionalSelectType: '', issuingCountryCode: null });\n        _this.validateCardInput = handlers.validateCardInput.bind(_this);\n        _this.handleOnBrand = handlers.handleOnBrand.bind(_this);\n        _this.handleFocus = handlers.handleFocus.bind(_this);\n        _this.handleAddress = handlers.handleAddress.bind(_this);\n        _this.handleHolderName = handlers.handleHolderName.bind(_this);\n        _this.handleInstallments = handlers.handleInstallments.bind(_this);\n        _this.handleKCPAuthentication = handlers.handleKCPAuthentication.bind(_this);\n        _this.handleSecuredFieldsChange = handlers.handleSecuredFieldsChange.bind(_this);\n        _this.handleOnStoreDetails = handlers.handleOnStoreDetails.bind(_this);\n        _this.handleAdditionalDataSelection = handlers.handleAdditionalDataSelection.bind(_this);\n        _this.processBinLookup = processBinLookup.bind(_this);\n        return _this;\n    }\n    CardInput.prototype.componentDidMount = function () {\n        this.setFocusOn = this.sfp.current.setFocusOn;\n        this.updateStyles = this.sfp.current.updateStyles;\n        this.handleUnsupportedCard = this.sfp.current.handleUnsupportedCard;\n    };\n    CardInput.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = prevState.billingAddress || {}, prevCountry = _a.country, prevStateOrProvince = _a.stateOrProvince;\n        var _b = this.state.billingAddress || {}, country = _b.country, stateOrProvince = _b.stateOrProvince;\n        if (prevCountry !== country || prevStateOrProvince !== stateOrProvince) {\n            this.validateCardInput();\n        }\n    };\n    CardInput.prototype.componentWillUnmount = function () {\n        this.sfp.current.destroy();\n        this.sfp = null;\n    };\n    CardInput.prototype.getChildContext = function () {\n        return { i18n: this.props.i18n };\n    };\n    CardInput.prototype.setStatus = function (status) {\n        this.setState({ status: status });\n    };\n    CardInput.prototype.resetAdditionalSelectState = function () {\n        this.setState({\n            additionalSelectElements: [],\n            additionalSelectValue: '',\n            additionalSelectType: ''\n        });\n    };\n    CardInput.prototype.showValidation = function () {\n        var _a, _b;\n        // Validate SecuredFields\n        this.sfp.current.showValidation();\n        // Validate holderName\n        if (this.props.holderNameRequired && !this.state.valid.holderName) {\n            this.setState(function (prevState) { return ({\n                errors: __assign(__assign({}, prevState.errors), { holderName: true })\n            }); });\n        }\n        // Validate Address\n        if ((_a = this.billingAddressRef) === null || _a === void 0 ? void 0 : _a.current)\n            this.billingAddressRef.current.showValidation();\n        // Validate KCP authentication\n        if ((_b = this.kcpAuthenticationRef) === null || _b === void 0 ? void 0 : _b.current)\n            this.kcpAuthenticationRef.current.showValidation();\n    };\n    CardInput.prototype.processBinLookupResponse = function (data) {\n        var _this = this;\n        var issuingCountryCode = (data === null || data === void 0 ? void 0 : data.issuingCountryCode) ? data.issuingCountryCode.toLowerCase() : null;\n        this.setState({ issuingCountryCode: issuingCountryCode }, function () {\n            _this.processBinLookup(data);\n        });\n    };\n    CardInput.prototype.render = function (_a, _b) {\n        var _this = this;\n        var countryCode = _a.countryCode, loadingContext = _a.loadingContext, hasHolderName = _a.hasHolderName, hasCVC = _a.hasCVC, installmentOptions = _a.installmentOptions, enableStoreDetails = _a.enableStoreDetails, showInstallmentAmounts = _a.showInstallmentAmounts;\n        var status = _b.status, hideCVCForBrand = _b.hideCVCForBrand, focusedElement = _b.focusedElement, issuingCountryCode = _b.issuingCountryCode;\n        var hasInstallments = !!Object.keys(installmentOptions).length;\n        // In the Drop-in the oneClick status may already have been decided, so give that priority\n        var isOneClick = this.props.oneClick || !!this.props.storedPaymentMethodId;\n        // If issuingCountryCode is set or the merchant defined countryCode is 'KR'\n        var isKorea = issuingCountryCode ? issuingCountryCode === 'kr' : countryCode === 'kr';\n        var showAmountsInInstallments = showInstallmentAmounts !== null && showInstallmentAmounts !== void 0 ? showInstallmentAmounts : true;\n        return (h(SecuredFieldsProvider, __assign({ ref: this.sfp }, this.props, { styles: __assign(__assign({}, defaultStyles), this.props.styles), onChange: this.handleSecuredFieldsChange, onBrand: this.handleOnBrand, onFocus: this.handleFocus, type: this.props.brand, oneClick: isOneClick, render: function (_a, sfpState) {\n                var setRootNode = _a.setRootNode, setFocusOn = _a.setFocusOn;\n                return (h(\"div\", { ref: setRootNode, className: \"adyen-checkout__card-input \" + styles['card-input__wrapper'] },\n                    _this.props.storedPaymentMethodId ? (h(LoadingWrapper, { status: sfpState.status },\n                        h(StoredCardFields, __assign({}, _this.props, { cvcRequired: sfpState.cvcRequired, errors: sfpState.errors, brand: sfpState.brand, hasCVC: hasCVC, hideCVCForBrand: hideCVCForBrand, onFocusField: setFocusOn, focusedElement: focusedElement, status: sfpState.status, valid: sfpState.valid })),\n                        hasInstallments && (h(Installments, { amount: _this.props.amount, brand: sfpState.brand, installmentOptions: installmentOptions, onChange: _this.handleInstallments, type: showAmountsInInstallments ? 'amount' : 'months' })))) : (h(LoadingWrapper, { status: sfpState.status },\n                        h(CardFields, __assign({}, _this.props, { brand: sfpState.brand, focusedElement: focusedElement, onFocusField: setFocusOn, hasCVC: hasCVC, hideCVCForBrand: hideCVCForBrand, errors: sfpState.errors, valid: sfpState.valid, cvcRequired: sfpState.cvcRequired, dualBrandingElements: _this.state.additionalSelectElements.length > 0 && _this.state.additionalSelectElements, dualBrandingChangeHandler: _this.handleAdditionalDataSelection, dualBrandingSelected: _this.state.additionalSelectValue })),\n                        hasHolderName && (h(CardHolderName, { required: _this.props.holderNameRequired, placeholder: _this.props.placeholders.holderName, value: _this.state.data.holderName, error: !!_this.state.errors.holderName, isValid: !!_this.state.valid.holderName, onChange: _this.handleHolderName })),\n                        _this.props.configuration.koreanAuthenticationRequired && isKorea && (h(KCPAuthentication, { onFocusField: setFocusOn, focusedElement: focusedElement, encryptedPasswordState: {\n                                data: sfpState.encryptedPassword,\n                                valid: sfpState.valid ? sfpState.valid.encryptedPassword : false,\n                                errors: sfpState.errors ? sfpState.errors.encryptedPassword : false\n                            }, ref: _this.kcpAuthenticationRef, onChange: _this.handleKCPAuthentication })),\n                        enableStoreDetails && h(StoreDetails, { onChange: _this.handleOnStoreDetails }),\n                        hasInstallments && (h(Installments, { amount: _this.props.amount, brand: sfpState.brand, installmentOptions: installmentOptions, onChange: _this.handleInstallments, type: showAmountsInInstallments ? 'amount' : 'months' })),\n                        _this.props.billingAddressRequired && (h(Address, { label: \"billingAddress\", data: _this.state.billingAddress, onChange: _this.handleAddress, allowedCountries: _this.props.billingAddressAllowedCountries, requiredFields: _this.props.billingAddressRequiredFields, ref: _this.billingAddressRef })))),\n                    _this.props.showPayButton &&\n                        _this.props.payButton({ status: status, icon: getImage({ loadingContext: loadingContext, imageFolder: 'components/' })('lock') })));\n            } })));\n    };\n    CardInput.defaultProps = defaultProps;\n    return CardInput;\n}(Component));\nexport default CardInput;\n","import fetchJSONData from '../../utils/fetch-json-data';\nimport { getError } from '../../core/Errors/utils';\nimport { ERROR_MSG_UNSUPPORTED_CARD_ENTERED } from '../../core/Errors/constants';\nexport default function triggerBinLookUp(callbackObj) {\n    var _this = this;\n    // Allow way for merchant to disallow binLookup by specifically setting the prop to false\n    if (this.props.doBinLookup === false) {\n        if (this.props.onBinValue)\n            this.props.onBinValue(callbackObj);\n        return;\n    }\n    // Do binLookup when encryptedBin property is present (and only if the merchant is using a clientKey)\n    if (callbackObj.encryptedBin && this.props.clientKey) {\n        // Store id of request we're about to make\n        this.currentRequestId = callbackObj.uuid;\n        fetchJSONData({\n            path: \"v1/bin/binLookup?token=\" + this.props.clientKey,\n            loadingContext: this.props.loadingContext,\n            method: 'POST',\n            contentType: 'application/json'\n        }, {\n            supportedBrands: this.props.brands,\n            encryptedBin: callbackObj.encryptedBin,\n            requestId: callbackObj.uuid // Pass id of request\n        }).then(function (data) {\n            var _a, _b;\n            // If response is the one we were waiting for...\n            if ((data === null || data === void 0 ? void 0 : data.requestId) === _this.currentRequestId) {\n                /**\n                 * supportedBrands = merchant supports this brand(s); we have detected the card number to be of this brand(s); carry on!\n                 */\n                if ((_a = data.supportedBrands) === null || _a === void 0 ? void 0 : _a.length) {\n                    // ...call processBinLookupResponse with the response object if it contains at least one supported brand\n                    _this.processBinLookupResponse(data);\n                    return;\n                }\n                /**\n                 * detectedBrands = no brands the merchant supports were found; what we did detect the shopper to be entering was this brand; error!\n                 */\n                if ((_b = data.detectedBrands) === null || _b === void 0 ? void 0 : _b.length) {\n                    var errObj = {\n                        type: 'card',\n                        fieldType: 'encryptedCardNumber',\n                        error: getError(ERROR_MSG_UNSUPPORTED_CARD_ENTERED),\n                        binLookupBrands: data.detectedBrands\n                    };\n                    _this.handleUnsupportedCard(errObj);\n                    return;\n                }\n                // A failed lookup will just contain requestId - we may still need to do something at this point\n                // console.log('### Card::onBinValue:: binLookup response - no match found for request:', data.requestId);\n            }\n        });\n    }\n    else if (this.currentRequestId) {\n        // If onBinValue callback is called AND we have been doing binLookup BUT passed object doesn't have an encryptedBin property\n        // - then the number of digits in number field has dropped below threshold for BIN lookup - so reset the UI\n        this.processBinLookupResponse(null);\n        this.currentRequestId = null; // Ignore any pending responses\n        // Reset any errors\n        var errObj = {\n            type: 'card',\n            fieldType: 'encryptedCardNumber',\n            error: ''\n        };\n        this.handleUnsupportedCard(errObj);\n    }\n    if (this.props.onBinValue)\n        this.props.onBinValue(callbackObj);\n}\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport { UIElement } from '../UIElement';\nimport CardInput from './components/CardInput';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport getImage from '../../utils/get-image';\nimport collectBrowserInfo from '../../utils/browserInfo';\nimport triggerBinLookUp from './triggerBinLookUp';\nvar CardElement = /** @class */ (function (_super) {\n    __extends(CardElement, _super);\n    function CardElement() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onBrand = function (event) {\n            _this.eventEmitter.emit('brand', __assign(__assign({}, event), { brand: event.brand === 'card' ? null : event.brand }));\n            if (_this.props.onBrand)\n                _this.props.onBrand(event);\n        };\n        _this.onBinValue = triggerBinLookUp.bind(_this);\n        return _this;\n    }\n    CardElement.prototype.formatProps = function (props) {\n        return __assign(__assign(__assign(__assign({}, props), { \n            // Mismatch between hasHolderName & holderNameRequired which can mean card can never be valid\n            holderNameRequired: !props.hasHolderName ? false : props.holderNameRequired, \n            // Special catch for recurring bcmc (i.e. card with no cvc field). Scenario?? - Dropin - One click with no details\n            hasCVC: !((props.brand && props.brand === 'bcmc') || props.hideCVC), \n            // billingAddressRequired only available for non-stored cards\n            billingAddressRequired: props.storedPaymentMethodId ? false : props.billingAddressRequired }), (props.brands && !props.groupTypes && { groupTypes: props.brands })), { type: props.type === 'scheme' ? 'card' : props.type, countryCode: props.countryCode ? props.countryCode.toLowerCase() : null, \n            // Required for transition period (until configuration object becomes the norm)\n            // - if merchant has defined value directly in props, use this instead\n            configuration: __assign(__assign({}, props.configuration), (props.koreanAuthenticationRequired !== undefined && { koreanAuthenticationRequired: props.koreanAuthenticationRequired })) });\n    };\n    /**\n     * Formats the component data output\n     */\n    CardElement.prototype.formatData = function () {\n        var cardBrand = this.state.additionalSelectValue || this.props.brand;\n        var includeStorePaymentMethod = this.props.enableStoreDetails && typeof this.state.storePaymentMethod !== 'undefined';\n        return __assign(__assign(__assign(__assign({ paymentMethod: __assign(__assign(__assign(__assign({ type: CardElement.type }, this.state.data), (this.props.storedPaymentMethodId && { storedPaymentMethodId: this.props.storedPaymentMethodId })), (cardBrand && { brand: cardBrand })), (this.props.fundingSource && { fundingSource: this.props.fundingSource })) }, (this.state.billingAddress && { billingAddress: this.state.billingAddress })), (includeStorePaymentMethod && { storePaymentMethod: Boolean(this.state.storePaymentMethod) })), (this.state.installments && this.state.installments.value && { installments: this.state.installments })), { browserInfo: this.browserInfo });\n    };\n    CardElement.prototype.updateStyles = function (stylesObj) {\n        var _a;\n        if ((_a = this.componentRef) === null || _a === void 0 ? void 0 : _a.updateStyles)\n            this.componentRef.updateStyles(stylesObj);\n        return this;\n    };\n    CardElement.prototype.setFocusOn = function (fieldName) {\n        var _a;\n        if ((_a = this.componentRef) === null || _a === void 0 ? void 0 : _a.setFocusOn)\n            this.componentRef.setFocusOn(fieldName);\n        return this;\n    };\n    CardElement.prototype.processBinLookupResponse = function (binLookupObject) {\n        var _a;\n        if ((_a = this.componentRef) === null || _a === void 0 ? void 0 : _a.processBinLookupResponse)\n            this.componentRef.processBinLookupResponse(binLookupObject);\n        return this;\n    };\n    CardElement.prototype.handleUnsupportedCard = function (errObj) {\n        var _a;\n        if ((_a = this.componentRef) === null || _a === void 0 ? void 0 : _a.handleUnsupportedCard)\n            this.componentRef.handleUnsupportedCard(errObj);\n        return this;\n    };\n    Object.defineProperty(CardElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"icon\", {\n        get: function () {\n            return getImage({ loadingContext: this.props.loadingContext })(this.brand);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"brands\", {\n        get: function () {\n            var _a = this.props, brands = _a.brands, loadingContext = _a.loadingContext;\n            if (brands) {\n                return brands.map(function (brand) { return ({\n                    icon: getImage({ loadingContext: loadingContext })(brand),\n                    name: brand\n                }); });\n            }\n            return [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"brand\", {\n        get: function () {\n            return this.props.brand || this.props.type;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"displayName\", {\n        get: function () {\n            if (this.props.storedPaymentMethodId) {\n                return \"\\u2022\\u2022\\u2022\\u2022 \" + this.props.lastFour;\n            }\n            return this.props.name || CardElement.type;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CardElement.prototype, \"browserInfo\", {\n        get: function () {\n            return collectBrowserInfo();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(CardInput, __assign({ ref: function (ref) {\n                    _this.componentRef = ref;\n                } }, this.props, this.state, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton, onBrand: this.onBrand, onBinValue: this.onBinValue, brand: this.brand }))));\n    };\n    CardElement.type = 'scheme';\n    return CardElement;\n}(UIElement));\nexport { CardElement };\nexport default CardElement;\n","import { __assign, __extends } from \"tslib\";\nimport { CardElement } from './Card';\nvar BancontactElement = /** @class */ (function (_super) {\n    __extends(BancontactElement, _super);\n    function BancontactElement(props) {\n        var _this = _super.call(this, props) || this;\n        // Disable internal event.emit() for Bancontact\n        _this.onBrand = function (event) {\n            if (_this.props.onBrand)\n                _this.props.onBrand(event);\n        };\n        return _this;\n    }\n    BancontactElement.prototype.formatProps = function (props) {\n        return __assign(__assign({ brand: 'bcmc' }, _super.prototype.formatProps.call(this, props)), { \n            // Override only display brands (groupTypes are decided earlier on super.formatProps)\n            brands: ['bcmc', 'maestro'] });\n    };\n    return BancontactElement;\n}(CardElement));\nexport default BancontactElement;\n","import { __assign, __spreadArrays } from \"tslib\";\nimport { useRef, useState, useEffect } from 'preact/hooks';\nimport cx from 'classnames';\nimport './Img.scss';\nimport { h } from 'preact';\nexport default function Img(props) {\n    var _a = props.backgroundUrl, backgroundUrl = _a === void 0 ? '' : _a, _b = props.className, className = _b === void 0 ? '' : _b, _c = props.classNameModifiers, classNameModifiers = _c === void 0 ? [] : _c, _d = props.src, src = _d === void 0 ? '' : _d, _e = props.alt, alt = _e === void 0 ? '' : _e, _f = props.showOnError, showOnError = _f === void 0 ? false : _f;\n    var _g = useState(false), loaded = _g[0], setLoaded = _g[1];\n    var imageRef = useRef(null);\n    var handleLoad = function () {\n        setLoaded(true);\n    };\n    var handleError = function () {\n        setLoaded(showOnError);\n    };\n    var classNames = cx.apply(void 0, __spreadArrays([[className],\n        'adyen-checkout__image',\n        { 'adyen-checkout__image--loaded': loaded }], classNameModifiers.map(function (modifier) { return \"adyen-checkout__image--\" + modifier; })));\n    useEffect(function () {\n        var image = backgroundUrl ? new Image() : imageRef.current;\n        image.src = backgroundUrl || src;\n        image.onload = handleLoad;\n        setLoaded(!!image.complete);\n    }, []);\n    if (backgroundUrl) {\n        return h(\"div\", __assign({ style: { backgroundUrl: backgroundUrl } }, props, { className: classNames }));\n    }\n    return h(\"img\", __assign({}, props, { alt: alt, ref: imageRef, className: classNames, onError: handleError }));\n}\n","import { h } from 'preact';\nimport Img from '../../internal/Img';\nexport default function CampaignContent(_a) {\n    var _b = _a.description, description = _b === void 0 ? '' : _b, _c = _a.name, name = _c === void 0 ? '' : _c, _d = _a.logoUrl, logoUrl = _d === void 0 ? '' : _d, _e = _a.url, url = _e === void 0 ? '' : _e, _f = _a.backgroundUrl, backgroundUrl = _f === void 0 ? '' : _f;\n    var backgroundImage = \"linear-gradient(0, #000, #0003), url(\" + backgroundUrl + \")\";\n    return (h(\"div\", { className: \"adyen-checkout__campaign-container\" },\n        h(Img, { className: \"adyen-checkout__campaign-background-image\", style: { backgroundImage: backgroundImage }, backgroundUrl: backgroundUrl }),\n        h(\"div\", { className: \"adyen-checkout__campaign-content\" },\n            logoUrl && h(\"img\", { src: logoUrl, className: \"adyen-checkout__campaign-logo\", alt: name }),\n            name && h(\"div\", { className: \"adyen-checkout__campaign-title\" }, name),\n            description && (h(\"div\", { className: \"adyen-checkout__campaign-description\" },\n                description,\n                url && ' ')))));\n}\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport CampaignContent from './CampaignContent';\nexport default function CampaignContainer(props) {\n    var url = props.url;\n    return (h(\"div\", { className: \"adyen-checkout__campaign\" },\n        !url && h(CampaignContent, __assign({}, props)),\n        url && (h(\"a\", { href: url, className: \"adyen-checkout__campaign-link\", target: \"_blank\", rel: \"noopener noreferrer\" },\n            h(CampaignContent, __assign({}, props))))));\n}\n","import cx from 'classnames';\nimport './ButtonGroup.scss';\nimport { h } from 'preact';\nvar ButtonGroup = function (_a) {\n    var _b = _a.options, options = _b === void 0 ? [] : _b, name = _a.name, onChange = _a.onChange;\n    return (h(\"div\", { className: \"adyen-checkout__button-group\" }, options.map(function (_a, index) {\n        var label = _a.label, selected = _a.selected, value = _a.value, disabled = _a.disabled;\n        return (h(\"label\", { key: \"\" + name + index, className: cx({\n                'adyen-checkout__button': true,\n                'adyen-checkout__button--selected': selected,\n                'adyen-checkout__button--disabled': disabled\n            }) },\n            h(\"input\", { type: \"radio\", className: \"adyen-checkout__button-group__input\", value: value, checked: selected, onChange: onChange, disabled: disabled }),\n            h(\"span\", { className: \"adyen-checkout__button-text\" }, label)));\n    })));\n};\nexport default ButtonGroup;\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useEffect, useState } from 'preact/hooks';\nimport CampaignContainer from './CampaignContainer';\nimport ButtonGroup from '../../internal/ButtonGroup';\nimport Button from '../../internal/Button';\nimport Img from '../../internal/Img';\nimport { getImageUrl } from '../../../utils/get-image';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport '../Donation.scss';\nexport default function DonationComponent(props) {\n    var amounts = props.amounts, onCancel = props.onCancel, onDonate = props.onDonate, _a = props.showCancelButton, showCancelButton = _a === void 0 ? true : _a;\n    var _b = useCoreContext(), i18n = _b.i18n, loadingContext = _b.loadingContext;\n    var currency = amounts.currency;\n    var _c = useState('ready'), status = _c[0], setStatus = _c[1];\n    var _d = useState(false), isValid = _d[0], setIsValid = _d[1];\n    var _e = useState({\n        currency: currency,\n        value: null\n    }), amount = _e[0], setAmount = _e[1];\n    this.setStatus = function (status) {\n        setStatus(status);\n    };\n    var getAmount = function (value, currency) { return i18n.amount(value, currency, { minimumFractionDigits: 0, maximumFractionDigits: 0 }); };\n    var handleAmountSelected = function (_a) {\n        var target = _a.target;\n        var value = parseInt(target.value, 10);\n        setIsValid(true);\n        setAmount(function (amount) { return (__assign(__assign({}, amount), { value: value })); });\n    };\n    var handleDonate = function () {\n        setStatus('loading');\n        onDonate({ data: { amount: amount } });\n    };\n    var handleDecline = function () {\n        setStatus('loading');\n        onCancel({ data: { amount: amount }, isValid: isValid });\n    };\n    useEffect(function () {\n        props.onChange({ data: { amount: amount }, isValid: isValid });\n    }, [amount, isValid]);\n    if (status === 'error') {\n        return (h(\"div\", { className: \"adyen-checkout__adyen-giving\" },\n            h(Img, { className: \"adyen-checkout__status__icon adyen-checkout__status__icon--error\", src: getImageUrl({ loadingContext: loadingContext, imageFolder: 'components/' })('error'), alt: i18n.get('error.message.unknown') }),\n            h(\"div\", { className: \"adyen-checkout__status__text\" }, i18n.get('error.message.unknown'))));\n    }\n    if (status === 'success') {\n        return (h(\"div\", { className: \"adyen-checkout__adyen-giving\" },\n            h(Img, { className: \"adyen-checkout__status__icon adyen-checkout__status__icon--success\", src: getImageUrl({ loadingContext: loadingContext, imageFolder: 'components/' })('heart'), alt: i18n.get('thanksForYourSupport') }),\n            h(\"div\", { className: \"adyen-checkout__status__text\" }, i18n.get('thanksForYourSupport'))));\n    }\n    return (h(\"div\", { className: \"adyen-checkout__adyen-giving\" },\n        h(CampaignContainer, __assign({}, props)),\n        h(\"div\", { className: \"adyen-checkout__adyen-giving-actions\" },\n            h(\"div\", { className: \"adyen-checkout__amounts\" },\n                h(ButtonGroup, { options: amounts.values.map(function (value) { return ({\n                        value: value,\n                        label: getAmount(value, currency),\n                        disabled: status === 'loading',\n                        selected: value === amount.value\n                    }); }), name: \"amount\", onChange: handleAmountSelected })),\n            h(Button, { classNameModifiers: ['donate'], onClick: handleDonate, label: i18n.get('donateButton'), disabled: !amount.value, status: status }),\n            showCancelButton && (h(Button, { classNameModifiers: ['ghost', 'decline'], onClick: handleDecline, disabled: status === 'loading', label: i18n.get('notNowButton') + \" \\u203A\" })))));\n}\nDonationComponent.defaultProps = {\n    onCancel: function () { },\n    onChange: function () { },\n    onDonate: function () { },\n    amounts: {},\n    showCancelButton: true\n};\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport DonationComponent from './components/DonationComponent';\n/**\n * DonationElement\n */\nvar DonationElement = /** @class */ (function (_super) {\n    __extends(DonationElement, _super);\n    function DonationElement(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleRef = function (ref) {\n            _this.componentRef = ref;\n        };\n        _this.donate = _this.donate.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(DonationElement.prototype, \"data\", {\n        /**\n         * Returns the component payment data ready to submit to the Checkout API\n         */\n        get: function () {\n            return this.state.data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DonationElement.prototype, \"isValid\", {\n        /**\n         * Returns whether the component state is valid or not\n         */\n        get: function () {\n            return this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DonationElement.prototype.setState = function (newState) {\n        this.state = __assign(__assign({}, this.state), newState);\n    };\n    DonationElement.prototype.donate = function () {\n        var _a = this, data = _a.data, isValid = _a.isValid;\n        this.props.onDonate({ data: data, isValid: isValid }, this);\n    };\n    DonationElement.prototype.render = function () {\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(DonationComponent, __assign({}, this.props, { ref: this.handleRef, onChange: this.setState, onDonate: this.donate }))));\n    };\n    DonationElement.type = 'donation';\n    DonationElement.defaultProps = {\n        onCancel: function () { },\n        onDonate: function () { }\n    };\n    return DonationElement;\n}(UIElement));\nexport default DonationElement;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nvar RedirectShopper = /** @class */ (function (_super) {\n    __extends(RedirectShopper, _super);\n    function RedirectShopper() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RedirectShopper.prototype.componentDidMount = function () {\n        var _this = this;\n        var doRedirect = function () {\n            if (_this.postForm) {\n                _this.postForm.submit();\n            }\n            else {\n                window.location.assign(_this.props.url);\n            }\n        };\n        var dispatchEvent = new Promise(function (resolve, reject) { return _this.props.beforeRedirect(resolve, reject, _this.props.url); });\n        dispatchEvent.then(doRedirect).catch(function () { });\n    };\n    RedirectShopper.prototype.render = function (_a) {\n        var _this = this;\n        var url = _a.url, method = _a.method, _b = _a.data, data = _b === void 0 ? {} : _b;\n        if (method === 'POST') {\n            return (h(\"form\", { method: \"post\", action: url, style: { display: 'none' }, ref: function (ref) {\n                    _this.postForm = ref;\n                } }, Object.keys(data).map(function (key) { return (h(\"input\", { type: \"hidden\", name: key, key: key, value: data[key] })); })));\n        }\n        return null;\n    };\n    RedirectShopper.defaultProps = {\n        beforeRedirect: function (resolve) { return resolve(); },\n        method: 'GET',\n        data: {}\n    };\n    return RedirectShopper;\n}(Component));\nexport default RedirectShopper;\n","import { __assign, __rest } from \"tslib\";\nimport { h, Fragment } from 'preact';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { useState } from 'preact/hooks';\nfunction RedirectButton(_a) {\n    var payButton = _a.payButton, onSubmit = _a.onSubmit, _b = _a.amount, amount = _b === void 0 ? null : _b, name = _a.name, props = __rest(_a, [\"payButton\", \"onSubmit\", \"amount\", \"name\"]);\n    var i18n = useCoreContext().i18n;\n    var _c = useState('ready'), status = _c[0], setStatus = _c[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    var payButtonLabel = function () {\n        var isZeroAuth = amount && {}.hasOwnProperty.call(amount, 'value') && amount.value === 0;\n        if (isZeroAuth)\n            return i18n.get('preauthorizeWith') + \" \" + name;\n        return i18n.get('continueTo') + \" \" + name;\n    };\n    return (h(Fragment, null, payButton(__assign(__assign({}, props), { status: status, classNameModifiers: ['standalone'], label: payButtonLabel(), onClick: onSubmit }))));\n}\nexport default RedirectButton;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport getImage from '../../utils/get-image';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport RedirectShopper from './components/RedirectShopper';\nimport RedirectButton from '../internal/RedirectButton';\n/**\n * RedirectElement\n */\nvar RedirectElement = /** @class */ (function (_super) {\n    __extends(RedirectElement, _super);\n    function RedirectElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RedirectElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, props), { showButton: !!props.showPayButton });\n    };\n    /**\n     * Formats the component data output\n     */\n    RedirectElement.prototype.formatData = function () {\n        return {\n            paymentMethod: {\n                type: this.props.type\n            }\n        };\n    };\n    Object.defineProperty(RedirectElement.prototype, \"isValid\", {\n        /**\n         * Returns whether the component state is valid or not\n         */\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RedirectElement.prototype, \"icon\", {\n        get: function () {\n            return getImage({ loadingContext: this.props.loadingContext })(this.props.type);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RedirectElement.prototype.render = function () {\n        var _this = this;\n        if (this.props.url && this.props.method) {\n            return h(RedirectShopper, __assign({}, this.props));\n        }\n        if (this.props.showButton) {\n            return (h(CoreProvider, __assign({}, this.props, { loadingContext: this.props.loadingContext }),\n                h(RedirectButton, __assign({}, this.props, { onSubmit: this.submit, payButton: this.payButton, ref: function (ref) {\n                        _this.componentRef = ref;\n                    } }))));\n        }\n        return null;\n    };\n    RedirectElement.type = 'redirect';\n    RedirectElement.defaultProps = {\n        type: RedirectElement.type,\n        showPayButton: true\n    };\n    return RedirectElement;\n}(UIElement));\nexport default RedirectElement;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport RedirectElement from '../Redirect';\nimport RedirectButton from '../internal/RedirectButton';\nvar GiropayElement = /** @class */ (function (_super) {\n    __extends(GiropayElement, _super);\n    function GiropayElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Formats the component data output\n     */\n    GiropayElement.prototype.formatData = function () {\n        return {\n            paymentMethod: {\n                type: GiropayElement.type\n            }\n        };\n    };\n    Object.defineProperty(GiropayElement.prototype, \"displayName\", {\n        get: function () {\n            return this.props.name || this.constructor['type'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GiropayElement.prototype.render = function () {\n        var _this = this;\n        if (this.props.showButton) {\n            return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n                h(RedirectButton, __assign({}, this.props, { name: this.displayName, onSubmit: this.submit, payButton: this.payButton, ref: function (ref) {\n                        _this.componentRef = ref;\n                    } }))));\n        }\n        return null;\n    };\n    GiropayElement.type = 'giropay';\n    return GiropayElement;\n}(RedirectElement));\nexport default GiropayElement;\n","export default {\n    API_VERSION: 2,\n    API_VERSION_MINOR: 0,\n    GATEWAY: 'adyen',\n    URL: 'https://pay.google.com/gp/p/js/pay.js'\n};\n","import { __assign, __rest } from \"tslib\";\nimport { getDecimalAmount } from '../../utils/amount-util';\nimport config from './config';\n/**\n * Configure your site's support for payment methods supported by the Google Pay API.\n *\n * @see {@link https://developers.google.com/pay/api/web/reference/object#IsReadyToPayRequest|isReadyToPayRequest}\n * @returns Google Pay API version, payment methods supported by the site\n */\nexport function isReadyToPayRequest(_a) {\n    var allowedAuthMethods = _a.allowedAuthMethods, allowedCardNetworks = _a.allowedCardNetworks, _b = _a.existingPaymentMethodRequired, existingPaymentMethodRequired = _b === void 0 ? false : _b;\n    return {\n        apiVersion: config.API_VERSION,\n        apiVersionMinor: config.API_VERSION_MINOR,\n        allowedPaymentMethods: [\n            {\n                type: 'CARD',\n                parameters: {\n                    allowedAuthMethods: allowedAuthMethods,\n                    allowedCardNetworks: allowedCardNetworks\n                },\n                tokenizationSpecification: {\n                    type: 'PAYMENT_GATEWAY',\n                    parameters: {}\n                }\n            }\n        ],\n        existingPaymentMethodRequired: existingPaymentMethodRequired\n    };\n}\n/**\n * Provide Google Pay API with a payment amount, currency, and amount status\n *\n * @see {@link https://developers.google.com/pay/api/web/reference/object#TransactionInfo|TransactionInfo}\n * @returns transaction info, suitable for use as transactionInfo property of PaymentDataRequest\n */\nexport function getTransactionInfo(_a) {\n    var _b = _a.currencyCode, currencyCode = _b === void 0 ? 'USD' : _b, _c = _a.totalPrice, totalPrice = _c === void 0 ? 0 : _c, _d = _a.countryCode, countryCode = _d === void 0 ? 'US' : _d, _e = _a.totalPriceStatus, totalPriceStatus = _e === void 0 ? 'FINAL' : _e, props = __rest(_a, [\"currencyCode\", \"totalPrice\", \"countryCode\", \"totalPriceStatus\"]);\n    var formattedPrice = String(getDecimalAmount(totalPrice, currencyCode));\n    return __assign({ countryCode: countryCode,\n        currencyCode: currencyCode, totalPrice: formattedPrice, totalPriceStatus: totalPriceStatus }, props.transactionInfo);\n}\nexport function initiatePaymentRequest(_a) {\n    var configuration = _a.configuration, props = __rest(_a, [\"configuration\"]);\n    return {\n        apiVersion: config.API_VERSION,\n        apiVersionMinor: config.API_VERSION_MINOR,\n        transactionInfo: getTransactionInfo(props),\n        merchantInfo: {\n            merchantId: configuration.merchantId,\n            merchantName: configuration.merchantName\n        },\n        allowedPaymentMethods: [\n            {\n                type: 'CARD',\n                tokenizationSpecification: {\n                    type: 'PAYMENT_GATEWAY',\n                    parameters: {\n                        gateway: config.GATEWAY,\n                        gatewayMerchantId: configuration.gatewayMerchantId\n                    }\n                },\n                parameters: {\n                    allowedAuthMethods: props.allowedAuthMethods,\n                    allowedCardNetworks: props.allowedCardNetworks,\n                    allowPrepaidCards: props.allowPrepaidCards,\n                    allowCreditCards: props.allowCreditCards,\n                    billingAddressRequired: props.billingAddressRequired,\n                    billingAddressParameters: props.billingAddressParameters\n                }\n            }\n        ],\n        emailRequired: props.emailRequired,\n        shippingAddressRequired: props.shippingAddressRequired,\n        shippingAddressParameters: props.shippingAddressParameters,\n        shippingOptionRequired: props.shippingOptionRequired,\n        shippingOptionParameters: props.shippingOptionParameters,\n        callbackIntents: props.callbackIntents\n    };\n}\n","/**\n * Creates a script element from a certain source in the passed node selector.\n * If no selector is passed it will add the script element in the body.\n *\n * @example\n * ```\n * const script = new Script('https://example.com/script.js', '.container');\n * script.load().then(doSomething);\n *\n * // To clean up just call the remove method\n * script.remove();\n * ```\n */\nvar Script = /** @class */ (function () {\n    function Script(src, node) {\n        var _this = this;\n        if (node === void 0) { node = 'body'; }\n        this.load = function () {\n            return new Promise(function (resolve, reject) {\n                _this.script.src = _this.src;\n                _this.script.async = true;\n                _this.script.onload = resolve;\n                _this.script.onerror = function () {\n                    _this.remove();\n                    reject(new Error(\"Unable to load script \" + _this.src));\n                };\n                document.querySelector(_this.node).appendChild(_this.script);\n            });\n        };\n        this.remove = function () { return _this.script.remove(); };\n        this.script = document.createElement('script');\n        this.src = src;\n        this.node = node;\n    }\n    return Script;\n}());\nexport default Script;\n","import { __awaiter, __generator } from \"tslib\";\nimport { isReadyToPayRequest, initiatePaymentRequest } from './requests';\nimport { resolveEnvironment } from './utils';\nimport Script from '../../utils/Script';\nimport config from './config';\nvar GooglePayService = /** @class */ (function () {\n    function GooglePayService(props) {\n        var environment = resolveEnvironment(props.environment);\n        if (environment === 'TEST' && process.env.NODE_ENV === 'development') {\n            console.warn('Google Pay initiated in TEST mode. Request non-chargeable payment methods suitable for testing.');\n        }\n        this.paymentsClient = this.getGooglePaymentsClient({\n            environment: environment,\n            paymentDataCallbacks: props.paymentDataCallbacks\n        });\n    }\n    /**\n     * Initialize a Google Pay API client\n     *\n     * @see {@link https://developers.google.com/pay/api/web/reference/client#PaymentsClient|PaymentsClient constructor}\n     * @returns Google Pay API client\n     */\n    GooglePayService.prototype.getGooglePaymentsClient = function (paymentOptions) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var script;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!!((_a = window.google) === null || _a === void 0 ? void 0 : _a.payments)) return [3 /*break*/, 2];\n                        script = new Script(config.URL);\n                        return [4 /*yield*/, script.load()];\n                    case 1:\n                        _b.sent();\n                        _b.label = 2;\n                    case 2: return [2 /*return*/, new google.payments.api.PaymentsClient(paymentOptions)];\n                }\n            });\n        });\n    };\n    /**\n     * Determine a shopper's ability to return a form of payment from the Google Pay API.\n     * @see {@link https://developers.google.com/pay/api/web/reference/client#isReadyToPay|isReadyToPay}\n     */\n    GooglePayService.prototype.isReadyToPay = function (props) {\n        if (!this.paymentsClient)\n            return Promise.reject(new Error('Google Pay is not available'));\n        return this.paymentsClient.then(function (client) { return client.isReadyToPay(isReadyToPayRequest(props)); });\n    };\n    GooglePayService.prototype.prefetchPaymentData = function (props) {\n        if (!this.paymentsClient)\n            throw new Error('Google Pay is not available');\n        var paymentDataRequest = initiatePaymentRequest(props);\n        this.paymentsClient.then(function (client) { return client.prefetchPaymentData(paymentDataRequest); });\n    };\n    /**\n     * Show Google Pay payment sheet when Google Pay payment button is clicked\n     * @returns paymentData response from Google Pay API after user approves payment\n     * @see {@link https://developers.google.com/pay/api/web/reference/object#PaymentData|PaymentData object reference}\n     */\n    GooglePayService.prototype.initiatePayment = function (props) {\n        if (!this.paymentsClient)\n            throw new Error('Google Pay is not available');\n        var paymentDataRequest = initiatePaymentRequest(props);\n        return this.paymentsClient.then(function (client) { return client.loadPaymentData(paymentDataRequest); });\n    };\n    return GooglePayService;\n}());\nexport default GooglePayService;\n","/**\n *\n */\nexport function resolveEnvironment(env) {\n    if (env === void 0) { env = 'TEST'; }\n    var environment = env.toLowerCase();\n    switch (environment) {\n        case 'production':\n        case 'live':\n            return 'PRODUCTION';\n        default:\n            return 'TEST';\n    }\n}\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport './GooglePayButton.scss';\nvar GooglePayButton = /** @class */ (function (_super) {\n    __extends(GooglePayButton, _super);\n    function GooglePayButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.clicked = false;\n        _this.handleClick = function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            if (!_this.clicked) {\n                _this.props.onClick(e);\n                _this.clicked = true;\n                setTimeout(function () {\n                    _this.clicked = false;\n                }, 300);\n            }\n        };\n        return _this;\n    }\n    GooglePayButton.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, buttonColor = _a.buttonColor, buttonType = _a.buttonType, paymentsClient = _a.paymentsClient;\n        paymentsClient\n            .then(function (client) { return client.createButton({ onClick: _this.handleClick, buttonType: buttonType, buttonColor: buttonColor }); })\n            .then(function (googlePayButton) {\n            _this.paywithgoogleWrapper.appendChild(googlePayButton);\n        });\n    };\n    GooglePayButton.prototype.render = function () {\n        var _this = this;\n        return (h(\"span\", { className: 'adyen-checkout__paywithgoogle', ref: function (ref) {\n                _this.paywithgoogleWrapper = ref;\n            } }));\n    };\n    GooglePayButton.defaultProps = {\n        buttonColor: 'default',\n        buttonType: 'long' // long, short\n    };\n    return GooglePayButton;\n}(Component));\nexport default GooglePayButton;\n","export default {\n    environment: 'TEST',\n    // isReadyToPayRequest\n    existingPaymentMethodRequired: false,\n    // ButtonOptions\n    // https://developers.google.com/pay/api/web/reference/object#ButtonOptions\n    buttonColor: 'default',\n    buttonType: 'long',\n    showPayButton: true,\n    // PaymentDataRequest\n    configuration: {\n        // Adyen's merchant account\n        gatewayMerchantId: '',\n        // https://developers.google.com/pay/api/web/reference/object#MerchantInfo\n        merchantId: '',\n        merchantName: '' // E.g Example Merchant,\n    },\n    // Payment\n    amount: {\n        value: 0,\n        currency: 'USD'\n    },\n    countryCode: 'US',\n    totalPriceStatus: 'FINAL',\n    // Callbacks\n    onError: function () { },\n    onAuthorized: function (params) { return params; },\n    onSubmit: function () { },\n    // CardParameters\n    // https://developers.google.com/pay/api/web/reference/object#CardParameters\n    allowedAuthMethods: ['PAN_ONLY', 'CRYPTOGRAM_3DS'],\n    allowedCardNetworks: ['AMEX', 'DISCOVER', 'JCB', 'MASTERCARD', 'VISA'],\n    allowCreditCards: true,\n    allowPrepaidCards: true,\n    billingAddressRequired: false,\n    billingAddressParameters: undefined,\n    emailRequired: false,\n    shippingAddressRequired: false,\n    shippingAddressParameters: undefined,\n    shippingOptionRequired: false,\n    shippingOptionParameters: undefined,\n    paymentMethods: []\n};\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport GooglePayService from './GooglePayService';\nimport GooglePayButton from './components/GooglePayButton';\nimport defaultProps from './defaultProps';\nvar GooglePay = /** @class */ (function (_super) {\n    __extends(GooglePay, _super);\n    function GooglePay() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.googlePay = new GooglePayService(_this.props);\n        _this.loadPayment = function () {\n            var _a = _this.props, _b = _a.onSubmit, onSubmit = _b === void 0 ? function () { } : _b, _c = _a.onAuthorized, onAuthorized = _c === void 0 ? function () { } : _c;\n            return _this.googlePay\n                .initiatePayment(_this.props)\n                .then(function (paymentData) {\n                // setState will trigger an onChange event\n                _this.setState({\n                    googlePayToken: paymentData.paymentMethodData.tokenizationData.token,\n                    googlePayCardNetwork: paymentData.paymentMethodData.info.cardNetwork\n                });\n                onSubmit({ data: _this.data, isValid: _this.isValid }, _this);\n                return onAuthorized(paymentData);\n            })\n                .catch(function (error) {\n                _this.props.onError(error);\n                return Promise.reject(error);\n            });\n        };\n        _this.submit = function () {\n            return _this.loadPayment();\n        };\n        _this.startPayment = function () {\n            return _this.loadPayment();\n        };\n        /**\n         * Determine a shopper's ability to return a form of payment from the Google Pay API.\n         */\n        _this.isAvailable = function () {\n            return _this.isReadyToPay()\n                .then(function (response) {\n                if (!response.result) {\n                    throw new Error('Google Pay is not available');\n                }\n                if (response.paymentMethodPresent === false) {\n                    throw new Error('Google Pay - No paymentMethodPresent');\n                }\n                return true;\n            })\n                .catch(function () {\n                return false;\n            });\n        };\n        /**\n         * Determine a shopper's ability to return a form of payment from the Google Pay API.\n         */\n        _this.isReadyToPay = function () {\n            return _this.googlePay.isReadyToPay(_this.props);\n        };\n        /**\n         * Use this method to prefetch a PaymentDataRequest configuration to improve loadPaymentData execution time on later user interaction. No value is returned.\n         */\n        _this.prefetch = function () {\n            return _this.googlePay.prefetchPaymentData(_this.props);\n        };\n        return _this;\n    }\n    /**\n     * Formats the component data input\n     * For legacy support - maps configuration.merchantIdentifier to configuration.merchantId\n     */\n    GooglePay.prototype.formatProps = function (props) {\n        var configuration = props.configuration;\n        var merchantIdentifier = configuration.merchantIdentifier;\n        return __assign(__assign({}, props), { showButton: props.showPayButton === true, configuration: __assign(__assign({}, configuration), (merchantIdentifier && { merchantId: merchantIdentifier })) });\n    };\n    /**\n     * Formats the component data output\n     */\n    GooglePay.prototype.formatData = function () {\n        return {\n            paymentMethod: __assign({ type: GooglePay.type }, this.state)\n        };\n    };\n    Object.defineProperty(GooglePay.prototype, \"isValid\", {\n        /**\n         * Validation\n         */\n        get: function () {\n            return !!this.state.googlePayToken;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GooglePay.prototype.render = function () {\n        if (this.props.showButton) {\n            return (h(GooglePayButton, { buttonColor: this.props.buttonColor, buttonType: this.props.buttonType, paymentsClient: this.googlePay.paymentsClient, onClick: this.submit }));\n        }\n        return null;\n    };\n    GooglePay.type = 'paywithgoogle';\n    GooglePay.defaultProps = defaultProps;\n    return GooglePay;\n}(UIElement));\nexport default GooglePay;\n","import { __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar EntercashElement = /** @class */ (function (_super) {\n    __extends(EntercashElement, _super);\n    function EntercashElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EntercashElement.type = 'entercash';\n    return EntercashElement;\n}(IssuerListContainer));\nexport default EntercashElement;\n","import { email, telephoneNumber } from '../../utils/regex';\nexport var econtextValidationRules = {\n    blur: {\n        default: function (value) {\n            return { isValid: value && value.length > 0, errorMessage: true };\n        },\n        telephoneNumber: function (value) {\n            return {\n                isValid: value && telephoneNumber.test(value) && (value.length === 10 || value.length === 11),\n                errorMessage: 'voucher.econtext.telephoneNumber.invalid'\n            };\n        },\n        shopperEmail: function (value) {\n            return {\n                isValid: email.test(value),\n                errorMessage: true\n            };\n        }\n    }\n};\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useEffect, useRef, useState } from 'preact/hooks';\nimport PersonalDetails from '../../../internal/PersonalDetails/PersonalDetails';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport Validator from '../../../../utils/Validator';\nimport { econtextValidationRules } from '../../validate';\nexport default function EcontextInput(props) {\n    var _a = useState(__assign({}, props.data)), data = _a[0], setData = _a[1];\n    var _b = useState(false), isValid = _b[0], setIsValid = _b[1];\n    var personalDetailsRef = useRef(null);\n    var i18n = useCoreContext().i18n;\n    var validator = new Validator(econtextValidationRules);\n    useEffect(function () {\n        props.onChange({ data: data, isValid: isValid });\n    }, [data, isValid]);\n    var handleChange = function (state) {\n        setData(__assign(__assign({}, data), state.data));\n        setIsValid(state.isValid);\n    };\n    var _c = useState('ready'), status = _c[0], setStatus = _c[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    this.showValidation = function () {\n        if (personalDetailsRef.current)\n            personalDetailsRef.current.showValidation();\n    };\n    return (h(\"div\", { className: \"adyen-checkout__econtext-input__field\" },\n        h(PersonalDetails, { data: data, requiredFields: ['firstName', 'lastName', 'telephoneNumber', 'shopperEmail'], onChange: handleChange, namePrefix: \"econtext\", ref: personalDetailsRef, validator: validator }),\n        props.showPayButton && props.payButton({ status: status, label: i18n.get('confirmPurchase') })));\n}\n","export function copyToClipboard(value) {\n    function createInput(text) {\n        var textArea = document.createElement('textArea');\n        textArea.readOnly = true;\n        textArea.value = text;\n        document.body.appendChild(textArea);\n        return textArea;\n    }\n    var copyInput = createInput(value);\n    if (window.navigator.userAgent.match(/ipad|iphone/i)) {\n        var range = document.createRange();\n        range.selectNodeContents(copyInput);\n        var selection = window.getSelection();\n        selection.removeAllRanges();\n        selection.addRange(range);\n        copyInput.setSelectionRange(0, 999999);\n    }\n    else {\n        copyInput.select();\n    }\n    document.execCommand('copy');\n    document.body.removeChild(copyInput);\n}\nexport default copyToClipboard;\n","import { __rest } from \"tslib\";\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport Button from '../Button';\nimport { copyToClipboard } from '../../../utils/clipboard';\nimport getImage from '../../../utils/get-image';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport './Voucher.scss';\nexport default function Voucher(_a) {\n    var _b = _a.voucherDetails, voucherDetails = _b === void 0 ? [] : _b, _c = _a.className, className = _c === void 0 ? '' : _c, props = __rest(_a, [\"voucherDetails\", \"className\"]);\n    var _d = useCoreContext(), i18n = _d.i18n, loadingContext = _d.loadingContext;\n    return (h(\"div\", { className: classNames('adyen-checkout__voucher-result', \"adyen-checkout__voucher-result--\" + props.paymentMethodType, className) },\n        h(\"div\", { className: \"adyen-checkout__voucher-result__top\" },\n            h(\"div\", { className: \"adyen-checkout__voucher-result__image\" },\n                !!props.imageUrl && (h(\"span\", { className: \"adyen-checkout__voucher-result__image__wrapper\" },\n                    h(\"img\", { alt: props.paymentMethodType, className: \"adyen-checkout__voucher-result__image__brand\", src: props.imageUrl }))),\n                !!props.issuerImageUrl && (h(\"span\", { className: \"adyen-checkout__voucher-result__image__wrapper\" },\n                    h(\"img\", { alt: props.paymentMethodType, className: \"adyen-checkout__voucher-result__image__issuer\", src: props.issuerImageUrl })))),\n            h(\"div\", { className: \"adyen-checkout__voucher-result__introduction\" },\n                props.introduction,\n                ' ',\n                props.instructionsUrl && (h(\"a\", { className: \"adyen-checkout__link adyen-checkout__link--voucher-result-instructions\", href: props.instructionsUrl, target: \"_blank\", rel: \"noopener noreferrer\" },\n                    i18n.get('voucher.readInstructions'),\n                    \" \\u203A\"))),\n            props.amount && (h(\"div\", { className: \"adyen-checkout__voucher-result__amount\" },\n                props.amount,\n                props.surcharge && (h(\"span\", { className: \"adyen-checkout__voucher-result__surcharge\" },\n                    \"(\",\n                    i18n.get('voucher.surcharge').replace('%@', props.surcharge),\n                    \")\"))))),\n        h(\"div\", { className: \"adyen-checkout__voucher-result__separator\" },\n            h(\"div\", { className: \"adyen-checkout__voucher-result__separator__inner\" }),\n            h(\"div\", { className: \"adyen-checkout__voucher-result__code__label\" },\n                h(\"span\", { className: \"adyen-checkout__voucher-result__code__label__text\" }, i18n.get('voucher.paymentReferenceLabel')))),\n        h(\"div\", { className: \"adyen-checkout__voucher-result__bottom\" },\n            props.reference && (h(\"div\", { className: \"adyen-checkout__voucher-result__code\" },\n                props.barcode && (h(\"img\", { alt: i18n.get('voucher.paymentReferenceLabel'), className: \"adyen-checkout__voucher-result__code__barcode\", src: props.barcode })),\n                h(\"span\", null, props.reference))),\n            (!!props.downloadUrl || !!props.copyBtn) && (h(\"ul\", { className: \"adyen-checkout__voucher-result__actions\" },\n                !!props.copyBtn && (h(\"li\", { className: \"adyen-checkout__voucher-result__actions__item\" },\n                    h(Button, { inline: true, secondary: true, onClick: function (e, _a) {\n                            var complete = _a.complete;\n                            copyToClipboard(props.reference);\n                            complete();\n                        }, icon: getImage({ loadingContext: loadingContext, imageFolder: 'components/' })('copy'), label: i18n.get('button.copy') }))),\n                !!props.downloadUrl && (h(\"li\", { className: \"adyen-checkout__voucher-result__actions__item\" },\n                    h(Button, { inline: true, secondary: true, href: props.downloadUrl, icon: getImage({ loadingContext: loadingContext, imageFolder: 'components/' })('download'), label: i18n.get('button.download'), target: \"_blank\", rel: \"noopener noreferrer\" }))))),\n            h(\"ul\", { className: \"adyen-checkout__voucher-result__details\" }, voucherDetails\n                .filter(function (_a) {\n                var label = _a.label, value = _a.value;\n                return !!label && !!value;\n            })\n                .map(function (_a, index) {\n                var label = _a.label, value = _a.value;\n                return (h(\"li\", { key: index, className: \"adyen-checkout__voucher-result__details__item\" },\n                    h(\"span\", { className: \"adyen-checkout__voucher-result__details__label\" }, label),\n                    h(\"span\", { className: \"adyen-checkout__voucher-result__details__value\" }, value)));\n            })))));\n}\n","import { h } from 'preact';\nimport Voucher from '../../../internal/Voucher';\nimport getImage from '../../../../utils/get-image';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nvar EcontextVoucherResult = function (props) {\n    var reference = props.reference, totalAmount = props.totalAmount, expiresAt = props.expiresAt, paymentMethodType = props.paymentMethodType, maskedTelephoneNumber = props.maskedTelephoneNumber, instructionsUrl = props.instructionsUrl, collectionInstitutionNumber = props.collectionInstitutionNumber;\n    var _a = useCoreContext(), loadingContext = _a.loadingContext, i18n = _a.i18n;\n    return (h(Voucher, { paymentMethodType: paymentMethodType, reference: reference, introduction: i18n.get('voucher.introduction.econtext'), imageUrl: getImage({ loadingContext: loadingContext })(paymentMethodType), instructionsUrl: instructionsUrl, amount: totalAmount && i18n.amount(totalAmount.value, totalAmount.currency), voucherDetails: [\n            { label: i18n.get('voucher.collectionInstitutionNumber'), value: collectionInstitutionNumber },\n            { label: i18n.get('voucher.expirationDate'), value: i18n.date(expiresAt) },\n            { label: i18n.get('voucher.telephoneNumber'), value: maskedTelephoneNumber }\n        ], copyBtn: true }));\n};\nexport default EcontextVoucherResult;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport EcontextInput from './components/EcontextInput';\nimport EcontextVoucherResult from './components/EcontextVoucherResult';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport getImage from '../../utils/get-image';\nvar EcontextElement = /** @class */ (function (_super) {\n    __extends(EcontextElement, _super);\n    function EcontextElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(EcontextElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Formats the component data output\n     */\n    EcontextElement.prototype.formatData = function () {\n        return {\n            paymentMethod: __assign({ type: this.props.type || EcontextElement.type }, this.state.data)\n        };\n    };\n    Object.defineProperty(EcontextElement.prototype, \"icon\", {\n        get: function () {\n            return getImage({ loadingContext: this.props.loadingContext })(this.props.type);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EcontextElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext }, this.props.reference ? (h(EcontextVoucherResult, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            } }, this.props))) : (h(EcontextInput, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            } }, this.props, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton })))));\n    };\n    EcontextElement.type = 'econtext';\n    return EcontextElement;\n}(UIElement));\nexport { EcontextElement };\nexport default EcontextElement;\n","import { __extends } from \"tslib\";\nimport OpenInvoiceContainer from '../helpers/OpenInvoiceContainer';\nvar FacilyPay3x = /** @class */ (function (_super) {\n    __extends(FacilyPay3x, _super);\n    function FacilyPay3x() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FacilyPay3x.type = 'facilypay_3x';\n    return FacilyPay3x;\n}(OpenInvoiceContainer));\nexport default FacilyPay3x;\n","import { __extends } from \"tslib\";\nimport OpenInvoiceContainer from '../helpers/OpenInvoiceContainer';\nvar FacilyPay4x = /** @class */ (function (_super) {\n    __extends(FacilyPay4x, _super);\n    function FacilyPay4x() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FacilyPay4x.type = 'facilypay_4x';\n    return FacilyPay4x;\n}(OpenInvoiceContainer));\nexport default FacilyPay4x;\n","import { __extends } from \"tslib\";\nimport OpenInvoiceContainer from '../helpers/OpenInvoiceContainer';\nvar FacilyPay6x = /** @class */ (function (_super) {\n    __extends(FacilyPay6x, _super);\n    function FacilyPay6x() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FacilyPay6x.type = 'facilypay_6x';\n    return FacilyPay6x;\n}(OpenInvoiceContainer));\nexport default FacilyPay6x;\n","import { __extends } from \"tslib\";\nimport OpenInvoiceContainer from '../helpers/OpenInvoiceContainer';\nvar FacilyPay10x = /** @class */ (function (_super) {\n    __extends(FacilyPay10x, _super);\n    function FacilyPay10x() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FacilyPay10x.type = 'facilypay_10x';\n    return FacilyPay10x;\n}(OpenInvoiceContainer));\nexport default FacilyPay10x;\n","import { __extends } from \"tslib\";\nimport OpenInvoiceContainer from '../helpers/OpenInvoiceContainer';\nvar FacilyPay12x = /** @class */ (function (_super) {\n    __extends(FacilyPay12x, _super);\n    function FacilyPay12x() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FacilyPay12x.type = 'facilypay_12x';\n    return FacilyPay12x;\n}(OpenInvoiceContainer));\nexport default FacilyPay12x;\n","import { __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar IdealElement = /** @class */ (function (_super) {\n    __extends(IdealElement, _super);\n    function IdealElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IdealElement.type = 'ideal';\n    return IdealElement;\n}(IssuerListContainer));\nexport default IdealElement;\n","import { h } from 'preact';\nimport { useEffect, useRef } from 'preact/hooks';\nexport default function PaypalButtons(props) {\n    var style = props.style, onInit = props.onInit, onComplete = props.onComplete, onClick = props.onClick, onCancel = props.onCancel, onError = props.onError, onSubmit = props.onSubmit, paypalRef = props.paypalRef;\n    var paypalButtonRef = useRef(null);\n    var creditButtonRef = useRef(null);\n    var createButton = function (fundingSource, buttonRef) {\n        var button = paypalRef.Buttons({\n            fundingSource: fundingSource,\n            style: style,\n            onInit: onInit,\n            onClick: onClick,\n            onCancel: onCancel,\n            onError: onError,\n            createOrder: onSubmit,\n            onApprove: onComplete\n        });\n        if (button.isEligible()) {\n            button.render(buttonRef.current);\n        }\n    };\n    useEffect(function () {\n        var _a = paypalRef.FUNDING, PAYPAL = _a.PAYPAL, CREDIT = _a.CREDIT;\n        createButton(PAYPAL, paypalButtonRef);\n        createButton(CREDIT, creditButtonRef);\n    }, []);\n    return (h(\"div\", { className: \"adyen-checkout__paypal__buttons\" },\n        h(\"div\", { className: \"adyen-checkout__paypal__button adyen-checkout__paypal__button--paypal\", ref: paypalButtonRef }),\n        h(\"div\", { className: \"adyen-checkout__paypal__button adyen-checkout__paypal__button--credit\", ref: creditButtonRef })));\n}\n","var INTEGRATION_DATE = '2020-02-01';\nvar PAYPAL_JS_URL = 'https://www.paypal.com/sdk/js';\nvar ADYEN_CLIENTID_TEST = 'AVzsPoGmjcm99YG02kq0iWL3KP3JedbMQJO2QUnVUc-t7aUzjkBWte7relkAC5SPUL50ovLGKmxfA674';\nvar ADYEN_CLIENTID_LIVE = 'AU0Z-TP9t5_9196agaBN6ZD3UAwypdP1IX8ZYH3PcNNAQMXUTDQlChruXqQEhyI6-NKBKowN6ydkj477';\nvar SUPPORTED_LOCALES = [\n    'en_US',\n    'en_AU',\n    'en_GB',\n    'fr_CA',\n    'es_ES',\n    'it_IT',\n    'fr_FR',\n    'de_DE',\n    'pt_BR',\n    'zh_CN',\n    'da_DK',\n    'zh_HK',\n    'id_ID',\n    'he_IL',\n    'ja_JP',\n    'ko_KR',\n    'nl_NL',\n    'no_NO',\n    'pl_PL',\n    'pt_PT',\n    'ru_RU',\n    'sv_SE',\n    'th_TH',\n    'zh_TW'\n];\nexport { INTEGRATION_DATE, PAYPAL_JS_URL, ADYEN_CLIENTID_TEST, ADYEN_CLIENTID_LIVE, SUPPORTED_LOCALES };\n","import { __assign } from \"tslib\";\nimport { ADYEN_CLIENTID_TEST, ADYEN_CLIENTID_LIVE, INTEGRATION_DATE, PAYPAL_JS_URL, SUPPORTED_LOCALES } from './config';\n/**\n * Returns either a locale supported by PayPal or null, in order to let the PayPal SDK auto-detect the shopper locale.\n */\nvar getSupportedLocale = function (locale) {\n    var formattedLocale = locale ? locale.replace('-', '_') : null;\n    var supportedLocale = SUPPORTED_LOCALES.includes(formattedLocale) ? formattedLocale : null;\n    return supportedLocale;\n};\n/**\n * Returns an object of settings for the PayPal SDK\n */\nvar getPaypalSettings = function (_a) {\n    var amount = _a.amount, countryCode = _a.countryCode, debug = _a.debug, _b = _a.environment, environment = _b === void 0 ? '' : _b, locale = _a.locale, configuration = _a.configuration;\n    var shopperLocale = getSupportedLocale(locale);\n    var currency = amount ? amount.currency : null;\n    var isTestEnvironment = environment.toLowerCase() === 'test';\n    var clientId = isTestEnvironment ? ADYEN_CLIENTID_TEST : ADYEN_CLIENTID_LIVE;\n    var merchantId = configuration.merchantId, intent = configuration.intent;\n    return __assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (merchantId && { 'merchant-id': merchantId })), (shopperLocale && { locale: shopperLocale })), (countryCode && isTestEnvironment && { 'buyer-country': countryCode })), (debug && isTestEnvironment && { debug: debug })), (currency && { currency: currency })), (intent && { intent: intent })), { 'client-id': clientId, 'integration-date': INTEGRATION_DATE, components: 'buttons,funding-eligibility' });\n};\n/**\n * Returns the PayPal SDK script URL with query parameters\n * @see {@link https://developer.paypal.com/docs/checkout/reference/customize-sdk/}\n */\nvar getPaypalUrl = function (props) {\n    var settings = getPaypalSettings(props);\n    var params = decodeURIComponent(Object.keys(settings)\n        .map(function (key) { return key + \"=\" + settings[key]; })\n        .join('&'));\n    return PAYPAL_JS_URL + \"?\" + params;\n};\nexport { getPaypalSettings, getPaypalUrl };\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport PaypalButtons from './PaypalButtons';\nimport Spinner from '../../internal/Spinner';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { getPaypalUrl } from '../utils';\nimport Script from '../../../utils/Script';\nexport default function PaypalComponent(props) {\n    var i18n = useCoreContext().i18n;\n    var _a = useState('pending'), status = _a[0], setStatus = _a[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    var handleComplete = function (data) {\n        setStatus('processing');\n        props.onComplete(data);\n    };\n    var handlePaypalLoad = function () {\n        setStatus('ready');\n    };\n    useEffect(function () {\n        var src = getPaypalUrl(props);\n        var script = new Script(src);\n        script.load().then(handlePaypalLoad);\n        return function () {\n            script.remove();\n        };\n    }, []);\n    if (status === 'pending') {\n        return (h(\"div\", { className: \"adyen-checkout__paypal\" },\n            h(\"div\", { className: \"adyen-checkout__paypal__status adyen-checkout__paypal__status--pending\" },\n                h(Spinner, null))));\n    }\n    if (status === 'processing') {\n        return (h(\"div\", { className: \"adyen-checkout__paypal\" },\n            h(\"div\", { className: \"adyen-checkout__paypal__status adyen-checkout__paypal__status--processing\" },\n                h(Spinner, { size: \"medium\", inline: true }),\n                \" \",\n                i18n.get('paypal.processingPayment'))));\n    }\n    return (h(\"div\", { className: \"adyen-checkout__paypal\" },\n        h(PaypalButtons, __assign({}, props, { onComplete: handleComplete, paypalRef: window.paypal }))));\n}\n","var defaultProps = {\n    environment: 'TEST',\n    status: 'loading',\n    // Config\n    /**\n     * @see {@link https://developer.paypal.com/docs/checkout/reference/customize-sdk/#merchant-id}\n     */\n    merchantId: '',\n    /**\n     * @see {@link https://developer.paypal.com/docs/checkout/reference/customize-sdk/#intent}\n     */\n    intent: null,\n    /**\n     * @see {@link https://developer.paypal.com/docs/checkout/integration-features/customize-button/}\n     */\n    style: {\n        /**\n         * The height of the buttons is set to 48px to align with the default size of our Pay buttons.\n         */\n        height: 48\n    },\n    configuration: {\n        /**\n         * @see {@link https://developer.paypal.com/docs/checkout/reference/customize-sdk/#merchant-id}\n         */\n        merchantId: '',\n        /**\n         * @see {@link https://developer.paypal.com/docs/checkout/reference/customize-sdk/#intent}\n         */\n        intent: null\n    },\n    // Events\n    onSubmit: function () { },\n    onAdditionalDetails: function () { },\n    onInit: function () { },\n    onClick: function () { },\n    onCancel: function () { },\n    onError: function () { }\n};\nexport default defaultProps;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport PaypalComponent from './components/PaypalComponent';\nimport defaultProps from './defaultProps';\nimport './Paypal.scss';\nvar PaypalElement = /** @class */ (function (_super) {\n    __extends(PaypalElement, _super);\n    function PaypalElement(props) {\n        var _this = _super.call(this, props) || this;\n        _this.paymentData = null;\n        _this.resolve = null;\n        _this.reject = null;\n        _this.handleAction = _this.handleAction.bind(_this);\n        _this.updateWithAction = _this.updateWithAction.bind(_this);\n        _this.handleCancel = _this.handleCancel.bind(_this);\n        _this.handleComplete = _this.handleComplete.bind(_this);\n        _this.handleError = _this.handleError.bind(_this);\n        _this.handleSubmit = _this.handleSubmit.bind(_this);\n        return _this;\n    }\n    // Required for transition period (until configuration object becomes the norm)\n    // - if merchant has defined properties directly in props, use these instead\n    PaypalElement.prototype.formatProps = function (props) {\n        var configuration = props.configuration, intent = props.intent, merchantId = props.merchantId;\n        return __assign(__assign({}, props), { configuration: __assign(__assign(__assign({}, configuration), (intent && { intent: intent })), (merchantId && { merchantId: merchantId })) });\n    };\n    /**\n     * Formats the component data output\n     */\n    PaypalElement.prototype.formatData = function () {\n        return {\n            paymentMethod: {\n                type: PaypalElement.type,\n                subtype: PaypalElement.subtype\n            }\n        };\n    };\n    PaypalElement.prototype.handleAction = function (action) {\n        return this.updateWithAction(action);\n    };\n    PaypalElement.prototype.updateWithAction = function (action) {\n        if (action.paymentMethodType !== this.data.paymentMethod.type)\n            throw new Error('Invalid Action');\n        if (action.paymentData) {\n            this.paymentData = action.paymentData;\n        }\n        if (action.sdkData && action.sdkData.token) {\n            this.resolve(action.sdkData.token);\n        }\n        else {\n            this.reject(new Error('No token was provided'));\n        }\n        return null;\n    };\n    Object.defineProperty(PaypalElement.prototype, \"isValid\", {\n        /**\n         * Dropin Validation\n         *\n         * @remarks\n         * Paypal does not require any specific Dropin validation\n         */\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PaypalElement.prototype.handleCancel = function (data) {\n        this.props.onCancel(data, this.elementRef);\n    };\n    PaypalElement.prototype.handleComplete = function (details) {\n        var state = { data: { details: details, paymentData: this.paymentData } };\n        this.props.onAdditionalDetails(state, this.elementRef);\n    };\n    PaypalElement.prototype.handleError = function (data) {\n        this.props.onError(data, this.elementRef);\n    };\n    PaypalElement.prototype.handleSubmit = function () {\n        var _this = this;\n        this.submit();\n        return new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n    };\n    PaypalElement.prototype.render = function () {\n        var _this = this;\n        return (h(PaypalComponent, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            } }, this.props, { onCancel: this.handleCancel, onChange: this.setState, onComplete: this.handleComplete, onError: this.handleError, onSubmit: this.handleSubmit })));\n    };\n    PaypalElement.type = 'paypal';\n    PaypalElement.subtype = 'sdk';\n    PaypalElement.defaultProps = defaultProps;\n    return PaypalElement;\n}(UIElement));\nexport default PaypalElement;\n","export var validatePhoneNumber = function (phoneNumber, minLength) {\n    if (minLength === void 0) { minLength = 3; }\n    return !!phoneNumber && phoneNumber.length >= minLength;\n};\nexport default { validatePhoneNumber: validatePhoneNumber };\n","import { __assign, __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport classNames from 'classnames';\nimport Field from '../FormFields/Field';\nimport { renderFormField } from '../FormFields';\nimport { validatePhoneNumber } from './validate';\nimport './PhoneInput.scss';\nvar PhoneInput = /** @class */ (function (_super) {\n    __extends(PhoneInput, _super);\n    function PhoneInput(props) {\n        var _a, _b, _c, _d;\n        var _this = _super.call(this, props) || this;\n        _this.handlePhoneInput = function (e) {\n            e.preventDefault();\n            var phoneNumber = e.target.value;\n            var isPhoneNumberValid = validatePhoneNumber(phoneNumber, _this.props.minLength);\n            _this.setState(function (prevState) { return ({\n                data: __assign(__assign({}, prevState.data), { phoneNumber: phoneNumber }),\n                errors: __assign(__assign({}, prevState.errors), { phoneNumber: !isPhoneNumberValid })\n            }); }, _this.onChange);\n        };\n        _this.handlePrefixChange = function (e) {\n            e.preventDefault();\n            var phonePrefix = e.currentTarget.getAttribute('data-value');\n            var isPrefixValid = !!phonePrefix;\n            _this.setState(function (prevState) { return (__assign({ data: __assign(__assign({}, prevState.data), { phonePrefix: phonePrefix }) }, (isPrefixValid && { errors: __assign(__assign({}, prevState.errors), { phonePrefix: false }) }))); }, _this.onChange);\n        };\n        _this.showValidation = function () {\n            var isPrefixValid = _this.props.items && _this.props.items.length ? !!_this.state.data.phonePrefix : true;\n            var isPhoneNumberValid = validatePhoneNumber(_this.state.data.phoneNumber, _this.props.minLength);\n            _this.setState({\n                errors: {\n                    phoneNumber: !isPhoneNumberValid,\n                    phonePrefix: !isPrefixValid\n                }\n            });\n        };\n        _this.handlePrefixChange = _this.handlePrefixChange.bind(_this);\n        _this.handlePhoneInput = _this.handlePhoneInput.bind(_this);\n        _this.onChange = _this.onChange.bind(_this);\n        _this.state = {\n            data: {\n                phonePrefix: _this.props.selected || ((_a = _this.props.data) === null || _a === void 0 ? void 0 : _a.phonePrefix),\n                phoneNumber: ((_b = _this.props.data) === null || _b === void 0 ? void 0 : _b.phoneNumber) || ''\n            },\n            isValid: !!((_c = _this.props.data) === null || _c === void 0 ? void 0 : _c.phonePrefix) && !!((_d = _this.props.data) === null || _d === void 0 ? void 0 : _d.phoneNumber),\n            errors: {}\n        };\n        return _this;\n    }\n    PhoneInput.prototype.onChange = function () {\n        var _this = this;\n        var isPrefixValid = this.props.items ? !!this.state.data.phonePrefix : true;\n        var isPhoneNumberValid = validatePhoneNumber(this.state.data.phoneNumber, this.props.minLength);\n        var isValid = isPrefixValid && isPhoneNumberValid;\n        this.setState({ isValid: isValid }, function () {\n            _this.props.onChange(_this.state);\n        });\n    };\n    PhoneInput.prototype.render = function () {\n        var showPrefix = !!this.props.items && this.props.items.length;\n        return (h(\"div\", { className: \"adyen-checkout__phone-input\" },\n            h(Field, { errorMessage: !!this.state.errors.phoneNumber, label: this.props.i18n.get('telephoneNumber'), className: classNames({\n                    'adyen-checkout__input--phone-number': true\n                }), inputWrapperModifiers: ['phoneInput'] },\n                h(\"div\", { className: \"adyen-checkout__input-wrapper\" },\n                    h(\"div\", { className: \"adyen-checkout__input\" }, !!showPrefix && (h(Field, { inputWrapperModifiers: ['phoneInput'] },\n                        renderFormField('select', {\n                            className: 'adyen-checkout__dropdown--small adyen-checkout__countryFlag',\n                            items: this.props.items,\n                            name: this.props.prefixName,\n                            onChange: this.handlePrefixChange,\n                            placeholder: this.props.i18n.get('infix'),\n                            selected: this.state.data.phonePrefix\n                        }),\n                        h(\"div\", { className: \"adyen-checkout__phoneNumber\" },\n                            h(\"div\", null, this.state.data.phonePrefix),\n                            h(\"input\", { type: \"tel\", name: this.props.phoneName, value: this.state.data.phoneNumber, onInput: this.handlePhoneInput, placeholder: \"123 456 789\", className: \"adyen-checkout__input adyen-checkout__input--phoneNumber\", autoCorrect: \"off\" }))))))),\n            this.props.showPayButton && this.props.payButton()));\n    };\n    PhoneInput.defaultProps = {\n        onChange: function () { },\n        onValid: function () { },\n        phoneName: 'phoneNumber',\n        prefixName: 'phonePrefix',\n        selected: null,\n        minLength: 3\n    };\n    return PhoneInput;\n}(Component));\nexport default PhoneInput;\n","import { __assign } from \"tslib\";\n/**\n * Formats and returns the passed items, adds flag string\n * @param item - prefix\n * @returns item with added displayable name and image\n */\nexport var formatPrefixName = function (item) {\n    if (!item) {\n        throw new Error('No item passed');\n    }\n    if (!item.code || !item.id) {\n        return false;\n    }\n    var flag = item.code.toUpperCase().replace(/./g, function (char) { return (String.fromCodePoint ? String.fromCodePoint(char.charCodeAt(0) + 127397) : ''); });\n    return __assign(__assign({}, item), { name: flag + \" \" + item.name + \" (\" + item.id + \")\", selectedOptionName: flag });\n};\n/** Finds id in list of items, returns it on match\n * @param items - list of items\n * @param countryCode - the item to select\n * @returns item or false\n */\nexport var selectItem = function (items, countryCode) {\n    if (items && countryCode) {\n        var item = items.find(function (i) { return i.code === countryCode; });\n        if (item) {\n            return item.id;\n        }\n        return false;\n    }\n    return false;\n};\n","var COUNTRIES = [\n    { id: '+7', name: 'Russian Federation', code: 'RU' },\n    { id: '+9955', name: 'Georgia', code: 'GE' },\n    { id: '+507', name: 'Panama', code: 'PA' },\n    { id: '+44', name: 'United Kingdom', code: 'GB' },\n    { id: '+992', name: 'Tajikistan', code: 'TJ' },\n    { id: '+370', name: 'Lithuania', code: 'LT' },\n    { id: '+972', name: 'Israel', code: 'IL' },\n    { id: '+996', name: 'Kyrgyzstan', code: 'KG' },\n    { id: '+380', name: 'Ukraine', code: 'UA' },\n    { id: '+84', name: 'Viet Nam', code: 'VN' },\n    { id: '+90', name: 'Turkey', code: 'TR' },\n    { id: '+994', name: 'Azerbaijan', code: 'AZ' },\n    { id: '+374', name: 'Armenia', code: 'AM' },\n    { id: '+371', name: 'Latvia', code: 'LV' },\n    { id: '+91', name: 'India', code: 'IN' },\n    { id: '+66', name: 'Thailand', code: 'TH' },\n    { id: '+373', name: 'Moldova', code: 'MD' },\n    { id: '+1', name: 'United States', code: 'US' },\n    { id: '+81', name: 'Japan', code: 'JP' },\n    { id: '+998', name: 'Uzbekistan', code: 'UZ' },\n    { id: '+77', name: 'Kazakhstan', code: 'KZ' },\n    { id: '+375', name: 'Belarus', code: 'BY' },\n    { id: '+372', name: 'Estonia', code: 'EE' },\n    { id: '+40', name: 'Romania', code: 'RO' },\n    { id: '+82', name: 'Korea', code: 'KR' }\n];\nexport default COUNTRIES;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport PhoneInput from '../internal/PhoneInput';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport { formatPrefixName, selectItem } from './utils';\nimport COUNTRIES from './countries';\nvar QiwiWalletElement = /** @class */ (function (_super) {\n    __extends(QiwiWalletElement, _super);\n    function QiwiWalletElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(QiwiWalletElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    QiwiWalletElement.prototype.formatProps = function (props) {\n        return __assign(__assign({ onValid: function () { } }, props), { selected: selectItem(props.items, props.countryCode) });\n    };\n    /**\n     * Formats the component data output\n     */\n    QiwiWalletElement.prototype.formatData = function () {\n        return {\n            paymentMethod: {\n                type: QiwiWalletElement.type,\n                'qiwiwallet.telephoneNumberPrefix': this.state.data ? this.state.data.phonePrefix : '',\n                'qiwiwallet.telephoneNumber': this.state.data ? this.state.data.phoneNumber : ''\n            }\n        };\n    };\n    QiwiWalletElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(PhoneInput, __assign({ ref: function (ref) {\n                    _this.componentRef = ref;\n                } }, this.props, this.state, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton }))));\n    };\n    QiwiWalletElement.type = 'qiwiwallet';\n    QiwiWalletElement.defaultProps = {\n        items: COUNTRIES.map(formatPrefixName).filter(function (item) { return item !== false; }),\n        countryCode: null,\n        prefixName: 'qiwiwallet.telephoneNumberPrefix',\n        phoneName: 'qiwiwallet.telephoneNumber'\n    };\n    return QiwiWalletElement;\n}(UIElement));\nexport default QiwiWalletElement;\n","import { __assign, __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport SecuredFieldsProvider from './SecuredFieldsProvider';\nvar SecuredFields = /** @class */ (function (_super) {\n    __extends(SecuredFields, _super);\n    function SecuredFields(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleSecuredFieldsRef = function (ref) {\n            _this.sfp = ref;\n        };\n        _this.handleSecuredFieldsChange = function (sfpState) {\n            _this.setState(__assign(__assign({}, sfpState), { isValid: sfpState.isSfpValid }));\n        };\n        return _this;\n    }\n    SecuredFields.prototype.componentDidMount = function () {\n        this.setFocusOn = this.sfp.setFocusOn;\n        this.updateStyles = this.sfp.updateStyles;\n        this.showValidation = this.sfp.showValidation;\n        this.processBinLookupResponse = this.sfp.processBinLookupResponse;\n    };\n    SecuredFields.prototype.componentDidUpdate = function () {\n        this.props.onChange(this.state);\n    };\n    SecuredFields.prototype.componentWillUnmount = function () {\n        this.sfp.destroy();\n        this.sfp = null;\n    };\n    SecuredFields.prototype.getChildContext = function () {\n        return { i18n: this.props.i18n };\n    };\n    SecuredFields.prototype.render = function () {\n        return (h(SecuredFieldsProvider, __assign({ ref: this.handleSecuredFieldsRef }, this.props, { onChange: this.handleSecuredFieldsChange, render: function () { return null; } })));\n    };\n    SecuredFields.defaultProps = {\n        onChange: function () { },\n        onError: function () { }\n    };\n    return SecuredFields;\n}(Component));\nexport default SecuredFields;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport SecuredFields from '../internal/SecuredFields';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport collectBrowserInfo from '../../utils/browserInfo';\nimport getImage from '../../utils/get-image';\nvar SecuredFieldsElement = /** @class */ (function (_super) {\n    __extends(SecuredFieldsElement, _super);\n    function SecuredFieldsElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SecuredFieldsElement.prototype.formatProps = function (props) {\n        return __assign(__assign(__assign({}, props), { type: props.type === 'scheme' ? 'card' : props.type }), (props.brands && !props.groupTypes && { groupTypes: props.brands }));\n    };\n    /**\n     * Formats the component data output\n     */\n    SecuredFieldsElement.prototype.formatData = function () {\n        return {\n            paymentMethod: __assign({ type: SecuredFieldsElement.type }, this.state.data),\n            browserInfo: this.browserInfo\n        };\n    };\n    SecuredFieldsElement.prototype.updateStyles = function (stylesObj) {\n        var _a;\n        if ((_a = this.componentRef) === null || _a === void 0 ? void 0 : _a.updateStyles)\n            this.componentRef.updateStyles(stylesObj);\n        return this;\n    };\n    SecuredFieldsElement.prototype.setFocusOn = function (frame) {\n        var _a;\n        if ((_a = this.componentRef) === null || _a === void 0 ? void 0 : _a.setFocusOn)\n            this.componentRef.setFocusOn(frame);\n        return this;\n    };\n    SecuredFieldsElement.prototype.processBinLookupResponse = function (binLookupObject) {\n        var _a;\n        if ((_a = this.componentRef) === null || _a === void 0 ? void 0 : _a.processBinLookupResponse)\n            this.componentRef.processBinLookupResponse(binLookupObject);\n        return this;\n    };\n    Object.defineProperty(SecuredFieldsElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredFieldsElement.prototype, \"icon\", {\n        get: function () {\n            return getImage({ loadingContext: this.props.loadingContext })(this.props.type);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SecuredFieldsElement.prototype, \"browserInfo\", {\n        get: function () {\n            return collectBrowserInfo();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SecuredFieldsElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(SecuredFields, __assign({ ref: function (ref) {\n                    _this.componentRef = ref;\n                } }, this.props, this.state, { rootNode: this._node, onChange: this.setState }))));\n    };\n    SecuredFieldsElement.type = 'scheme';\n    return SecuredFieldsElement;\n}(UIElement));\nexport { SecuredFieldsElement };\nexport default SecuredFieldsElement;\n","/**\n * @internal\n * IBAN Countries, length, structure and examples\n */\nvar countries = {\n    AD: {\n        length: 24,\n        structure: 'F04F04A12',\n        example: 'AD9912345678901234567890'\n    },\n    AE: {\n        length: 23,\n        structure: 'F03F16',\n        example: 'AE993331234567890123456'\n    },\n    AL: {\n        length: 28,\n        structure: 'F08A16',\n        example: 'AL47212110090000000235698741'\n    },\n    AT: {\n        length: 20,\n        structure: 'F05F11',\n        example: 'AT611904300234573201'\n    },\n    AZ: {\n        length: 28,\n        structure: 'U04A20',\n        example: 'AZ21NABZ00000000137010001944'\n    },\n    BA: {\n        length: 20,\n        structure: 'F03F03F08F02',\n        example: 'BA391290079401028494'\n    },\n    BE: {\n        length: 16,\n        structure: 'F03F07F02',\n        example: 'BE68 5390 0754 7034'\n    },\n    BG: {\n        length: 22,\n        structure: 'U04F04F02A08',\n        example: 'BG80BNBG96611020345678'\n    },\n    BH: {\n        length: 22,\n        structure: 'U04A14',\n        example: 'BH67BMAG00001299123456'\n    },\n    BR: {\n        length: 29,\n        structure: 'F08F05F10U01A01',\n        example: 'BR9700360305000010009795493P1'\n    },\n    CH: {\n        length: 21,\n        structure: 'F05A12',\n        example: 'CH9300762011623852957'\n    },\n    CR: {\n        length: 22,\n        structure: 'F04F14',\n        example: 'CR72012300000171549015'\n    },\n    CY: {\n        length: 28,\n        structure: 'F03F05A16',\n        example: 'CY17002001280000001200527600'\n    },\n    CZ: {\n        length: 24,\n        structure: 'F04F06F10',\n        example: 'CZ6508000000192000145399'\n    },\n    DE: {\n        length: 22,\n        structure: 'F08F10',\n        example: 'DE00123456789012345678'\n    },\n    DK: {\n        length: 18,\n        structure: 'F04F09F01',\n        example: 'DK5000400440116243'\n    },\n    DO: {\n        length: 28,\n        structure: 'U04F20',\n        example: 'DO28BAGR00000001212453611324'\n    },\n    EE: {\n        length: 20,\n        structure: 'F02F02F11F01',\n        example: 'EE382200221020145685'\n    },\n    ES: {\n        length: 24,\n        structure: 'F04F04F01F01F10',\n        example: 'ES9121000418450200051332'\n    },\n    FI: {\n        length: 18,\n        structure: 'F06F07F01',\n        example: 'FI2112345600000785'\n    },\n    FO: {\n        length: 18,\n        structure: 'F04F09F01',\n        example: 'FO6264600001631634'\n    },\n    FR: {\n        length: 27,\n        structure: 'F05F05A11F02',\n        example: 'FR1420041010050500013M02606'\n    },\n    GB: {\n        length: 22,\n        structure: 'U04F06F08',\n        example: 'GB29NWBK60161331926819'\n    },\n    GE: {\n        length: 22,\n        structure: 'U02F16',\n        example: 'GE29NB0000000101904917'\n    },\n    GI: {\n        length: 23,\n        structure: 'U04A15',\n        example: 'GI75NWBK000000007099453'\n    },\n    GL: {\n        length: 18,\n        structure: 'F04F09F01',\n        example: 'GL8964710001000206'\n    },\n    GR: {\n        length: 27,\n        structure: 'F03F04A16',\n        example: 'GR1601101250000000012300695'\n    },\n    GT: {\n        length: 28,\n        structure: 'A04A20',\n        example: 'GT82TRAJ01020000001210029690'\n    },\n    HR: {\n        length: 21,\n        structure: 'F07F10',\n        example: 'HR1210010051863000160'\n    },\n    HU: {\n        length: 28,\n        structure: 'F03F04F01F15F01',\n        example: 'HU42117730161111101800000000'\n    },\n    IE: {\n        length: 22,\n        structure: 'U04F06F08',\n        example: 'IE29AIBK93115212345678'\n    },\n    IL: {\n        length: 23,\n        structure: 'F03F03F13',\n        example: 'IL620108000000099999999'\n    },\n    IS: {\n        length: 26,\n        structure: 'F04F02F06F10',\n        example: 'IS140159260076545510730339'\n    },\n    IT: {\n        length: 27,\n        structure: 'U01F05F05A12',\n        example: 'IT60X0542811101000000123456'\n    },\n    KW: {\n        length: 30,\n        structure: 'U04A22',\n        example: 'KW81CBKU0000000000001234560101'\n    },\n    KZ: {\n        length: 20,\n        structure: 'F03A13',\n        example: 'KZ86125KZT5004100100'\n    },\n    LB: {\n        length: 28,\n        structure: 'F04A20',\n        example: 'LB62099900000001001901229114'\n    },\n    LC: {\n        length: 32,\n        structure: 'U04F24',\n        example: 'LC07HEMM000100010012001200013015'\n    },\n    LI: {\n        length: 21,\n        structure: 'F05A12',\n        example: 'LI21088100002324013AA'\n    },\n    LT: {\n        length: 20,\n        structure: 'F05F11',\n        example: 'LT121000011101001000'\n    },\n    LU: {\n        length: 20,\n        structure: 'F03A13',\n        example: 'LU280019400644750000'\n    },\n    LV: {\n        length: 21,\n        structure: 'U04A13',\n        example: 'LV80BANK0000435195001'\n    },\n    MC: {\n        length: 27,\n        structure: 'F05F05A11F02',\n        example: 'MC5811222000010123456789030'\n    },\n    MD: {\n        length: 24,\n        structure: 'U02A18',\n        example: 'MD24AG000225100013104168'\n    },\n    ME: {\n        length: 22,\n        structure: 'F03F13F02',\n        example: 'ME25505000012345678951'\n    },\n    MK: {\n        length: 19,\n        structure: 'F03A10F02',\n        example: 'MK07250120000058984'\n    },\n    MR: {\n        length: 27,\n        structure: 'F05F05F11F02',\n        example: 'MR1300020001010000123456753'\n    },\n    MT: {\n        length: 31,\n        structure: 'U04F05A18',\n        example: 'MT84MALT011000012345MTLCAST001S'\n    },\n    MU: {\n        length: 30,\n        structure: 'U04F02F02F12F03U03',\n        example: 'MU17BOMM0101101030300200000MUR'\n    },\n    NL: {\n        length: 18,\n        structure: 'U04F10',\n        example: 'NL99BANK0123456789'\n    },\n    NO: {\n        length: 15,\n        structure: 'F04F06F01',\n        example: 'NO9386011117947'\n    },\n    PK: {\n        length: 24,\n        structure: 'U04A16',\n        example: 'PK36SCBL0000001123456702'\n    },\n    PL: {\n        length: 28,\n        structure: 'F08F16',\n        example: 'PL00123456780912345678901234'\n    },\n    PS: {\n        length: 29,\n        structure: 'U04A21',\n        example: 'PS92PALS000000000400123456702'\n    },\n    PT: {\n        length: 25,\n        structure: 'F04F04F11F02',\n        example: 'PT50000201231234567890154'\n    },\n    RO: {\n        length: 24,\n        structure: 'U04A16',\n        example: 'RO49AAAA1B31007593840000'\n    },\n    RS: {\n        length: 22,\n        structure: 'F03F13F02',\n        example: 'RS35260005601001611379'\n    },\n    SA: {\n        length: 24,\n        structure: 'F02A18',\n        example: 'SA0380000000608010167519'\n    },\n    SE: {\n        length: 24,\n        structure: 'F03F16F01',\n        example: 'SE4550000000058398257466'\n    },\n    SI: {\n        length: 19,\n        structure: 'F05F08F02',\n        example: 'SI56263300012039086'\n    },\n    SK: {\n        length: 24,\n        structure: 'F04F06F10',\n        example: 'SK3112000000198742637541'\n    },\n    SM: {\n        length: 27,\n        structure: 'U01F05F05A12',\n        example: 'SM86U0322509800000000270100'\n    },\n    ST: {\n        length: 25,\n        structure: 'F08F11F02',\n        example: 'ST68000100010051845310112'\n    },\n    TL: {\n        length: 23,\n        structure: 'F03F14F02',\n        example: 'TL380080012345678910157'\n    },\n    TN: {\n        length: 24,\n        structure: 'F02F03F13F02',\n        example: 'TN5910006035183598478831'\n    },\n    TR: {\n        length: 26,\n        structure: 'F05F01A16',\n        example: 'TR330006100519786457841326'\n    },\n    VG: {\n        length: 24,\n        structure: 'U04F16',\n        example: 'VG96VPVG0000012345678901'\n    },\n    XK: {\n        length: 20,\n        structure: 'F04F10F02',\n        example: 'XK051212012345678906'\n    },\n    AO: {\n        length: 25,\n        structure: 'F21',\n        example: 'AO69123456789012345678901'\n    },\n    BF: {\n        length: 27,\n        structure: 'F23',\n        example: 'BF2312345678901234567890123'\n    },\n    BI: {\n        length: 16,\n        structure: 'F12',\n        example: 'BI41123456789012'\n    },\n    BJ: {\n        length: 28,\n        structure: 'F24',\n        example: 'BJ39123456789012345678901234'\n    },\n    CI: {\n        length: 28,\n        structure: 'U01F23',\n        example: 'CI17A12345678901234567890123'\n    },\n    CM: {\n        length: 27,\n        structure: 'F23',\n        example: 'CM9012345678901234567890123'\n    },\n    CV: {\n        length: 25,\n        structure: 'F21',\n        example: 'CV30123456789012345678901'\n    },\n    DZ: {\n        length: 24,\n        structure: 'F20',\n        example: 'DZ8612345678901234567890'\n    },\n    IR: {\n        length: 26,\n        structure: 'F22',\n        example: 'IR861234568790123456789012'\n    },\n    JO: {\n        length: 30,\n        structure: 'A04F22',\n        example: 'JO15AAAA1234567890123456789012'\n    },\n    MG: {\n        length: 27,\n        structure: 'F23',\n        example: 'MG1812345678901234567890123'\n    },\n    ML: {\n        length: 28,\n        structure: 'U01F23',\n        example: 'ML15A12345678901234567890123'\n    },\n    MZ: {\n        length: 25,\n        structure: 'F21',\n        example: 'MZ25123456789012345678901'\n    },\n    QA: {\n        length: 29,\n        structure: 'U04A21',\n        example: 'QA30AAAA123456789012345678901'\n    },\n    SN: {\n        length: 28,\n        structure: 'U01F23',\n        example: 'SN52A12345678901234567890123'\n    },\n    UA: {\n        length: 29,\n        structure: 'F25',\n        example: 'UA511234567890123456789012345'\n    }\n};\nexport default countries;\n","import countries from './specifications';\n/**\n * Parse the BBAN structure used to configure each IBAN __specification and returns a matching regular expression.\n * A structure is composed of blocks of 3 characters (one letter and 2 digits). Each block represents\n * a logical group in the typical representation of the BBAN. For each group, the letter indicates which characters\n * are allowed in this group and the following 2-digits number tells the length of the group.\n *\n * @param structure - the structure to parse\n * @param countryCode - the countryCode to check format against\n *\n * @internal\n */\nexport var parseStructure = function (structure, countryCode) {\n    if (countryCode === null || !countries[countryCode] || !countries[countryCode].structure) {\n        return false;\n    }\n    var passedStructure = countries[countryCode].structure;\n    // split in blocks of 3 chars\n    var regex = passedStructure.match(/(.{3})/g).map(function (block) {\n        // parse each structure block (1-char + 2-digits)\n        var pattern = block.slice(0, 1);\n        var repeats = parseInt(block.slice(1), 10);\n        var format;\n        switch (pattern) {\n            case 'A':\n                format = '0-9A-Za-z';\n                break;\n            case 'B':\n                format = '0-9A-Z';\n                break;\n            case 'C':\n                format = 'A-Za-z';\n                break;\n            case 'F':\n                format = '0-9';\n                break;\n            case 'L':\n                format = 'a-z';\n                break;\n            case 'U':\n                format = 'A-Z';\n                break;\n            case 'W':\n                format = '0-9a-z';\n                break;\n            default:\n                break;\n        }\n        return \"([\" + format + \"]{\" + repeats + \"})\";\n    });\n    return new RegExp(\"^\" + regex.join('') + \"$\");\n};\n/**\n * @internal\n */\nexport var formatIban = function (iban) {\n    return iban\n        .replace(/\\W/gi, '')\n        .replace(/(.{4})(?!$)/g, '$1 ')\n        .trim();\n};\n/**\n * Returns any non alphanumeric characters and uppercases them\n *\n * @internal\n */\nexport var electronicFormat = function (iban) {\n    var NON_ALPHANUM = /[^a-zA-Z0-9]/g;\n    return iban.replace(NON_ALPHANUM, '').toUpperCase();\n};\n/**\n * Lazy-loaded regex (parse the structure and construct the regular expression the first time we need it for validation)\n *\n * @internal\n */\nexport var regex = function (iban, countryCode) { return parseStructure(iban, countryCode); };\n/**\n * Prepare an IBAN for mod 97 computation by moving the first 4 chars to the end and transforming the letters to\n * numbers (A = 10, B = 11, ..., Z = 35), as specified in ISO13616.\n * @param ibanInput - The IBAN value\n * @returns The prepared IBAN\n *\n * @internal\n */\nexport var iso13616Prepare = function (ibanInput) {\n    var iban = ibanInput;\n    var A = 'A'.charCodeAt(0);\n    var Z = 'Z'.charCodeAt(0);\n    iban = iban.toUpperCase();\n    iban = iban.substr(4) + iban.substr(0, 4);\n    return iban\n        .split('')\n        .map(function (n) {\n        var code = n.charCodeAt(0);\n        if (code >= A && code <= Z) {\n            // A = 10, B = 11, ... Z = 35\n            var codeA = code - A;\n            return codeA + 10;\n        }\n        return n;\n    })\n        .join('');\n};\n/**\n * Calculates the MOD 97 10 of the passed IBAN as specified in ISO7064.\n *\n * @param iban -\n *\n * @internal\n */\nexport var iso7064Mod97_10 = function (iban) {\n    var remainder = iban;\n    var block;\n    while (remainder.length > 2) {\n        block = remainder.slice(0, 9);\n        remainder = (parseInt(block, 10) % 97) + remainder.slice(block.length);\n    }\n    return parseInt(remainder, 10) % 97;\n};\n/**\n *  @param countryCode -\n *  @returns Example of IBAN Number\n */\nexport var getIbanPlaceHolder = function (countryCode) {\n    if (countryCode === void 0) { countryCode = null; }\n    if (countryCode && countries[countryCode] && countries[countryCode].example) {\n        return formatIban(countries[countryCode].example);\n    }\n    return 'AB00 1234 5678 9012 3456 7890';\n};\nexport var getIbanCountrySpecification = function (countryCode) {\n    if (countryCode && countries[countryCode]) {\n        return countries[countryCode];\n    }\n    return false;\n};\n/**\n *  @param cursor -\n *  @param iban -\n *  @param previousIban -\n *  @returns new cursor position\n */\nexport var getNextCursorPosition = function (cursor, iban, previousIban) {\n    if (cursor === 0 || !iban.length)\n        return 0;\n    // This tells us how long the edit is. If user modified input from `(2__)` to `(243__)`,\n    // we know the user in this instance pasted two characters\n    var editLength = iban.length - previousIban.length;\n    var isAddition = editLength > 0;\n    var isMaskChar = function (ibanValue, position) { return /\\s/.test(ibanValue.charAt(position)); };\n    var initialCursor = cursor - editLength;\n    // is adding text, check calculate if there was a mask element after the initial cursor, then move cursor forward\n    // example: NL13 ABNA| 1234 5678 9 => NL13 ABNA 0|123 4567 89\n    if (isAddition && (isMaskChar(iban, initialCursor + 1) || isMaskChar(iban, initialCursor))) {\n        return cursor + 1;\n    }\n    // is removing text, check if the previous is a mask character, then move cursor back\n    // example: NL13 ABNA 0|123 4567 89 => NL13 ABNA| 1234 5678 9\n    if (!isAddition && isMaskChar(iban, cursor - 1)) {\n        return cursor - 1;\n    }\n    return cursor;\n};\n","import { iso13616Prepare, iso7064Mod97_10, electronicFormat, regex, getIbanCountrySpecification } from './utils';\n/**\n * Contains a validation status\n * @internal\n * @param status -\n * @param code -\n */\nfunction ValidationStatus(status, code) {\n    if (code === void 0) { code = null; }\n    this.status = status;\n    this.code = code;\n}\n/**\n * Validates the format of an iban\n * @internal\n * @param iban -\n */\nvar checkIbanStructure = function (iban) {\n    var countryCode = iban.slice(0, 2);\n    var ibanRegex = regex(iban, countryCode);\n    return (ibanRegex.test && ibanRegex.test(iban.slice(4))) || false;\n};\n/**\n * Checks validity of an IBAN\n * @param iban -\n */\nexport var isValidIBAN = function (iban) {\n    var electronicFormatIban = electronicFormat(iban);\n    var preparedIban = iso13616Prepare(electronicFormatIban);\n    var isValidISO = iso7064Mod97_10(preparedIban) === 1;\n    return isValidISO && checkIbanStructure(electronicFormatIban);\n};\n/**\n * Checkss the validity status of an IBAN\n * @param iban -\n */\nexport var checkIbanStatus = function (iban) {\n    var electronicFormatIban = electronicFormat(iban);\n    if (iban.length < 2) {\n        return new ValidationStatus('no-validate', 'TOO_SHORT'); // A\n    }\n    var countryCode = electronicFormatIban.slice(0, 2);\n    var countrySpecification = getIbanCountrySpecification(countryCode);\n    if (!countrySpecification) {\n        return new ValidationStatus('invalid', 'INVALID_COUNTRY'); // AA13TEST0123456789\n    }\n    if (electronicFormatIban.length > countrySpecification.length) {\n        return new ValidationStatus('invalid', 'TOO_LONG'); // NL13TEST01234567891\n    }\n    if (electronicFormatIban.length === countrySpecification.length) {\n        if (isValidIBAN(iban)) {\n            return new ValidationStatus('valid', 'VALID'); // NL13TEST0123456789\n        }\n        return new ValidationStatus('invalid', 'INVALID_IBAN'); // NL13TEST0123456781\n    }\n    return new ValidationStatus('no-validate', 'UNKNOWN'); // NL13TEST012345678\n};\n/**\n * Checks validity of a holder name\n * @param holder -\n */\nexport var isValidHolder = function (holder) { return !!(holder && holder.length && holder.length > 0); };\n","import { __assign, __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { renderFormField } from '../../../internal/FormFields';\nimport Field from '../../../internal/FormFields/Field';\nimport { checkIbanStatus, isValidHolder } from './validate';\nimport { electronicFormat, formatIban, getIbanPlaceHolder, getNextCursorPosition } from './utils';\nimport './IbanInput.scss';\nvar IbanInput = /** @class */ (function (_super) {\n    __extends(IbanInput, _super);\n    function IbanInput(props) {\n        var _a, _b;\n        var _this = _super.call(this, props) || this;\n        _this.setData = function (key, value, cb) {\n            _this.setState(function (prevState) {\n                var _a;\n                return ({ data: __assign(__assign({}, prevState.data), (_a = {}, _a[key] = value, _a)) });\n            }, cb);\n        };\n        _this.setError = function (key, value, cb) {\n            _this.setState(function (prevState) {\n                var _a;\n                return ({ errors: __assign(__assign({}, prevState.errors), (_a = {}, _a[key] = value, _a)) });\n            }, cb);\n        };\n        _this.setValid = function (key, value, cb) {\n            _this.setState(function (prevState) {\n                var _a;\n                return ({ valid: __assign(__assign({}, prevState.valid), (_a = {}, _a[key] = value, _a)) });\n            }, cb);\n        };\n        _this.handleHolderInput = function (holder) {\n            _this.setState(function (prevState) { return ({ data: __assign(__assign({}, prevState.data), { 'sepa.ownerName': holder }) }); }, function () {\n                _this.setError('holder', !isValidHolder(_this.state.data['sepa.ownerName']));\n                _this.onChange(); // propagate state\n            });\n        };\n        _this.handleIbanInput = function (e) {\n            var inputValue = e.target.value;\n            var electronicFormatIban = electronicFormat(inputValue); // example: NL13TEST0123456789\n            var iban = formatIban(electronicFormatIban); // example: NL13 TEST 0123 4567 89\n            var validationStatus = checkIbanStatus(iban).status;\n            // calculate cursor's new position\n            var cursor = e.target.selectionStart;\n            var previousIban = _this.state.data['sepa.ibanNumber'];\n            var newCursorPosition = getNextCursorPosition(cursor, iban, previousIban);\n            _this.setState(function (prevState) { return ({\n                data: __assign(__assign({}, prevState.data), { 'sepa.ibanNumber': iban }),\n                errors: __assign(__assign({}, prevState.errors), { iban: validationStatus === 'invalid' ? 'sepaDirectDebit.ibanField.invalid' : null }),\n                valid: __assign(__assign({}, prevState.valid), { iban: validationStatus === 'valid' })\n            }); }, function () {\n                e.target.setSelectionRange(newCursorPosition, newCursorPosition);\n                _this.onChange();\n            });\n        };\n        _this.handleIbanBlur = function (e) {\n            var currentIban = e.target.value;\n            if (currentIban.length > 0) {\n                var validationStatus = checkIbanStatus(currentIban).status;\n                _this.setError('iban', validationStatus !== 'valid' ? 'sepaDirectDebit.ibanField.invalid' : null);\n            }\n        };\n        _this.state = {\n            status: 'ready',\n            data: {\n                'sepa.ownerName': ((_a = props === null || props === void 0 ? void 0 : props.data) === null || _a === void 0 ? void 0 : _a.ownerName) || '',\n                'sepa.ibanNumber': ((_b = props === null || props === void 0 ? void 0 : props.data) === null || _b === void 0 ? void 0 : _b.ibanNumber) || ''\n            },\n            isValid: false,\n            cursor: 0,\n            errors: {},\n            valid: {}\n        };\n        if (_this.state.data['sepa.ibanNumber']) {\n            var electronicFormatIban = electronicFormat(_this.state.data['sepa.ibanNumber']); // example: NL13TEST0123456789\n            _this.state.data['sepa.ibanNumber'] = formatIban(electronicFormatIban); // example: NL13 TEST 0123 4567 89\n        }\n        if (_this.state.data['sepa.ibanNumber'] || _this.state.data['sepa.ownerName']) {\n            var holderNameValid = _this.props.holderName ? isValidHolder(_this.state.data['sepa.ownerName']) : '';\n            var ibanValid = _this.state.data['sepa.ibanNumber'] ? checkIbanStatus(_this.state.data['sepa.ibanNumber']).status === 'valid' : '';\n            var isValid = ibanValid && holderNameValid;\n            var data = { data: _this.state.data, isValid: isValid };\n            _this.props.onChange(data);\n        }\n        return _this;\n    }\n    IbanInput.prototype.setStatus = function (status) {\n        this.setState({ status: status });\n    };\n    IbanInput.prototype.onChange = function () {\n        var holderNameValid = this.props.holderName ? isValidHolder(this.state.data['sepa.ownerName']) : '';\n        var ibanValid = checkIbanStatus(this.state.data['sepa.ibanNumber']).status === 'valid';\n        var isValid = ibanValid && holderNameValid;\n        var data = { data: this.state.data, isValid: isValid };\n        this.props.onChange(data);\n    };\n    IbanInput.prototype.showValidation = function () {\n        var validationStatus = checkIbanStatus(this.state.data['sepa.ibanNumber']).status;\n        var holderStatus = isValidHolder(this.state.data['sepa.ownerName']);\n        this.setError('iban', validationStatus !== 'valid' ? 'sepaDirectDebit.ibanField.invalid' : null);\n        this.setError('holder', !holderStatus ? true : null);\n    };\n    IbanInput.prototype.render = function (_a, _b) {\n        var _this = this;\n        var placeholders = _a.placeholders, countryCode = _a.countryCode;\n        var data = _b.data, errors = _b.errors, valid = _b.valid;\n        var i18n = useCoreContext().i18n;\n        return (h(\"div\", { className: \"adyen-checkout__iban-input\" },\n            this.props.holderName && (h(Field, { className: 'adyen-checkout__field--owner-name', label: i18n.get('sepa.ownerName'), filled: data['sepa.ownerName'] && data['sepa.ownerName'].length, errorMessage: errors.holder ? i18n.get('creditCard.holderName.invalid') : false }, renderFormField('text', {\n                name: 'sepa.ownerName',\n                className: 'adyen-checkout__iban-input__owner-name',\n                placeholder: 'ownerName' in placeholders ? placeholders.ownerName : i18n.get('sepaDirectDebit.nameField.placeholder'),\n                value: data['sepa.ownerName'],\n                'aria-invalid': !!this.state.errors.holder,\n                'aria-label': i18n.get('sepa.ownerName'),\n                onInput: function (e) { return _this.handleHolderInput(e.target.value); }\n            }))),\n            h(Field, { className: 'adyen-checkout__field--iban-number', label: i18n.get('sepa.ibanNumber'), errorMessage: errors.iban ? i18n.get(errors.iban) : false, filled: data['sepa.ibanNumber'] && data['sepa.ibanNumber'].length, isValid: valid.iban, onBlur: this.handleIbanBlur }, renderFormField('text', {\n                ref: function (ref) {\n                    _this.ibanNumber = ref;\n                },\n                name: 'sepa.ibanNumber',\n                className: 'adyen-checkout__iban-input__iban-number',\n                classNameModifiers: ['large'],\n                placeholder: 'ibanNumber' in placeholders ? placeholders.ibanNumber : getIbanPlaceHolder(countryCode),\n                value: data['sepa.ibanNumber'],\n                onInput: this.handleIbanInput,\n                'aria-invalid': !!this.state.errors.iban,\n                'aria-label': i18n.get('sepa.ibanNumber'),\n                autocorrect: 'off',\n                spellcheck: false\n            })),\n            this.props.showPayButton && this.props.payButton({ status: this.state.status })));\n    };\n    IbanInput.defaultProps = {\n        onChange: function () { },\n        countryCode: null,\n        holderName: true,\n        placeholders: {}\n    };\n    return IbanInput;\n}(Component));\nexport default IbanInput;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport IbanInput from './components/IbanInput';\nimport CoreProvider from '../../core/Context/CoreProvider';\n/**\n * SepaElement\n */\nvar SepaElement = /** @class */ (function (_super) {\n    __extends(SepaElement, _super);\n    function SepaElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Formats props on construction time\n     */\n    SepaElement.prototype.formatProps = function (props) {\n        return __assign({ holderName: true }, props);\n    };\n    /**\n     * Formats the component data output\n     */\n    SepaElement.prototype.formatData = function () {\n        return {\n            paymentMethod: __assign({ type: SepaElement.type }, this.state.data)\n        };\n    };\n    Object.defineProperty(SepaElement.prototype, \"isValid\", {\n        /**\n         * Returns whether the component state is valid or not\n         */\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SepaElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, __assign({}, this.props, { loadingContext: this.props.loadingContext }),\n            h(IbanInput, __assign({ ref: function (ref) {\n                    _this.componentRef = ref;\n                } }, this.props, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton }))));\n    };\n    SepaElement.type = 'sepadirectdebit';\n    return SepaElement;\n}(UIElement));\nexport default SepaElement;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport classNames from 'classnames';\nvar ThreeDS2Form = /** @class */ (function (_super) {\n    __extends(ThreeDS2Form, _super);\n    function ThreeDS2Form() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ThreeDS2Form.prototype.componentDidMount = function () {\n        this.formEl.submit();\n    };\n    ThreeDS2Form.prototype.render = function (_a) {\n        var _this = this;\n        var name = _a.name, action = _a.action, target = _a.target, inputName = _a.inputName, inputValue = _a.inputValue;\n        return (h(\"form\", { ref: function (ref) {\n                _this.formEl = ref;\n            }, method: \"POST\", className: classNames(['adyen-checkout__threeds2__form', \"adyen-checkout__threeds2__form--\" + name]), name: name, action: action, target: target, style: { display: 'none' } },\n            h(\"input\", { name: inputName, value: inputValue })));\n    };\n    return ThreeDS2Form;\n}(Component));\nexport default ThreeDS2Form;\n","export var THREEDS_METHOD_TIMEOUT = 10000;\nexport var CHALLENGE_TIMEOUT = 600000;\nexport var UNKNOWN_CHALLENGE_RESOLVE_OBJECT = {\n    result: {\n        transStatus: 'U'\n    },\n    type: 'challengeResult'\n};\nexport var UNKNOWN_CHALLENGE_RESOLVE_OBJECT_TIMEOUT = {\n    result: {\n        transStatus: 'U'\n    },\n    type: 'challengeResult',\n    errorCode: 'timeout'\n};\nexport var FAILED_METHOD_STATUS_RESOLVE_OBJECT = {\n    result: {\n        threeDSCompInd: 'N'\n    },\n    type: 'fingerPrintResult'\n};\nexport var FAILED_METHOD_STATUS_RESOLVE_OBJECT_TIMEOUT = {\n    result: {\n        threeDSCompInd: 'N'\n    },\n    type: 'fingerPrintResult',\n    errorCode: 'timeout'\n};\nexport var ERRORS = {\n    TIME_OUT: 'timeout',\n    WRONG_ORIGIN: 'wrongOrigin',\n    HTML_ELEMENT: 'HTMLElementError',\n    WRONG_DATA_TYPE: 'wrongDataType',\n    MISSING_PROPERTY: 'missingProperty',\n    UNKNOWN: 'unknownError'\n};\nexport var ERROR_MESSAGES = {\n    timeout: 'ThreeDS2 timed out',\n    wrongOrigin: 'Result came in the right format but not from the expected origin',\n    HTMLElementError: 'No proper HTML element was passed',\n    wrongDataType: 'Result data was not of the expected type',\n    missingProperty: 'Result data did not contain the expected properties',\n    unknownError: 'An unknown error occurred'\n};\n// Re. EMV 3-D Specification: EMVCo_3DS_Spec_210_1017.pdf\nexport var CHALLENGE_WINDOW_SIZES = {\n    '01': ['250px', '400px'],\n    '02': ['390px', '400px'],\n    '03': ['500px', '600px'],\n    '04': ['600px', '400px'],\n    '05': ['100%', '100%']\n};\n","import { ERROR_MESSAGES, ERRORS, CHALLENGE_WINDOW_SIZES } from '../config';\nimport { getOrigin } from '../../../utils/getOrigin';\nimport base64 from '../../../utils/base64';\nexport var decodeAndParseToken = function (token) {\n    var decodedToken = base64.decode(token);\n    try {\n        return decodedToken && JSON.parse(decodedToken);\n    }\n    catch (e) {\n        throw new Error('Could not decode token');\n    }\n};\n/**\n * @param value - requires an object containing the result parameters\n * @param type - either 'IdentifyShopper' or 'ChallengeShopper'\n * @returns encoded result\n */\nexport var encodeResult = function (result, type) {\n    var threeDSCompInd = result.threeDSCompInd, transStatus = result.transStatus;\n    if (!threeDSCompInd && !transStatus) {\n        throw new Error('No threeDS2 request details found');\n    }\n    switch (type) {\n        case 'IdentifyShopper':\n            return base64.encode(JSON.stringify({ threeDSCompInd: threeDSCompInd }));\n        case 'ChallengeShopper':\n            return base64.encode(JSON.stringify({ transStatus: transStatus }));\n        default:\n            throw new Error('No data available to create a result');\n    }\n};\n/**\n * Accepts a size string for the challenge window & returns it if it is valid else returns a default value\n * @param sizeStr - the size string to check the validity of\n * @returns a valid size string\n */\nexport var validateChallengeWindowSize = function (sizeStr) {\n    var sizeString = sizeStr.length === 1 ? \"0\" + sizeStr : sizeStr;\n    var hasSize = Object.prototype.hasOwnProperty.call(CHALLENGE_WINDOW_SIZES, sizeString);\n    return hasSize ? sizeString : '01';\n};\n/**\n * Accepts a size string for the challenge window & returns the corresponding array of w/h values\n * @param sizeStr -\n */\nexport var getChallengeWindowSize = function (sizeStr) { return CHALLENGE_WINDOW_SIZES[validateChallengeWindowSize(sizeStr)]; };\n/**\n *  prepareChallengeData\n *  @param value - requires an object containing the challenge parameters\n *  - challengeToken - challengeToken string received from payments call containing acsTransID, acsURL, messageVerison, expected postMessage URL and threeDSServerTransID\n *  - size - one of five possible challenge window sizes\n *  - notificationURL - the URL notifications are expected to be postMessaged from\n */\nexport var prepareChallengeData = function (_a) {\n    var challengeToken = _a.challengeToken, size = _a.size, notificationURL = _a.notificationURL;\n    var decodedChallengeToken = decodeAndParseToken(challengeToken);\n    var acsTransID = decodedChallengeToken.acsTransID, acsURL = decodedChallengeToken.acsURL, messageVersion = decodedChallengeToken.messageVersion, threeDSNotificationURL = decodedChallengeToken.threeDSNotificationURL, threeDSServerTransID = decodedChallengeToken.threeDSServerTransID;\n    var receivedNotificationURL = notificationURL || threeDSNotificationURL;\n    var notificationURLOrigin = getOrigin(receivedNotificationURL);\n    return {\n        acsURL: acsURL,\n        cReqData: {\n            acsTransID: acsTransID,\n            messageVersion: messageVersion,\n            threeDSServerTransID: threeDSServerTransID,\n            messageType: 'CReq',\n            challengeWindowSize: validateChallengeWindowSize(size)\n        },\n        iframeSizeArr: getChallengeWindowSize(size),\n        postMessageDomain: notificationURLOrigin\n    };\n};\n/**\n *  prepareFingerPrintData\n *   requires an object containing the challenge parameters\n *  @param fingerprintToken - fingerprintToken string received from payments call, containing\n *  methodNotificationURL, methodURL and threeDSServerTransID\n *  @param notificationURL - the URL notifications are expected to be postMessaged from\n */\nexport var prepareFingerPrintData = function (_a) {\n    var fingerprintToken = _a.fingerprintToken, notificationURL = _a.notificationURL;\n    var decodedFingerPrintToken = decodeAndParseToken(fingerprintToken);\n    var threeDSMethodNotificationURL = decodedFingerPrintToken.threeDSMethodNotificationURL, threeDSMethodUrl = decodedFingerPrintToken.threeDSMethodUrl, threeDSServerTransID = decodedFingerPrintToken.threeDSServerTransID;\n    var receivedNotificationURL = notificationURL || threeDSMethodNotificationURL;\n    var notificationURLOrigin = getOrigin(receivedNotificationURL);\n    return {\n        serverTransactionID: threeDSServerTransID,\n        methodURL: threeDSMethodUrl,\n        threedsMethodNotificationURL: receivedNotificationURL,\n        postMessageDomain: notificationURLOrigin\n    };\n};\nexport var createResolveData = function (dataKey, result, paymentData) {\n    var _a;\n    return ({\n        data: {\n            details: (_a = {}, _a[dataKey] = result, _a),\n            paymentData: paymentData\n        }\n    });\n};\nexport var handleErrorCode = function (errorCode) {\n    var unknownMessage = ERROR_MESSAGES[ERRORS.UNKNOWN];\n    var message = ERROR_MESSAGES[errorCode] || unknownMessage;\n    return { errorCode: errorCode, message: message };\n};\n/**\n *\n * Takes a string and encodes it as a base64url string\n * (https://en.wikipedia.org/wiki/Base64#URL_applications)\n * (See also https://tools.ietf.org/html/rfc7515)\n *\n * @example\n * ```\n * const jsonStr = JSON.stringify( {name:'john', surname:'smith'} );\n * const base64url = encodeBase64URL(jsonStr);\n * ```\n *\n * @param dataStr - data, as a string, to be encoded\n *\n * @returns base64URL - a base64url encoded string\n */\nexport var encodeBase64URL = function (dataStr) {\n    var base64Data = window.btoa(dataStr);\n    var base64url = base64Data.split('=')[0]; // Remove any trailing '='s\n    base64url = base64url.replace(/\\+/g, '-'); // 62nd char of encoding\n    base64url = base64url.replace(/\\//g, '_'); // 63rd char of encoding\n    return base64url;\n};\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport classNames from 'classnames';\nimport Iframe from '../../../internal/IFrame';\nimport Spinner from '../../../internal/Spinner';\nimport ThreeDS2Form from '../Form';\nimport getProcessMessageHandler from '../../../../utils/get-process-message-handler';\nimport { encodeBase64URL } from '../utils';\nimport promiseTimeout from '../../../../utils/promiseTimeout';\nimport { CHALLENGE_TIMEOUT, UNKNOWN_CHALLENGE_RESOLVE_OBJECT_TIMEOUT, UNKNOWN_CHALLENGE_RESOLVE_OBJECT } from '../../config';\nvar iframeName = 'threeDSIframe';\nvar Do3DS2Challenge = /** @class */ (function (_super) {\n    __extends(Do3DS2Challenge, _super);\n    function Do3DS2Challenge(props) {\n        var _this = _super.call(this, props) || this;\n        _this.iframeCallback = function () {\n            _this.setState({ status: 'iframeLoaded' });\n        };\n        /**\n         * Create and Base64Url encode a JSON object containing the serverTransactionID & threeDSMethodNotificationURL\n         */\n        var jsonStr = JSON.stringify(_this.props.cReqData);\n        var base64URLencodedData = encodeBase64URL(jsonStr);\n        _this.state = { base64URLencodedData: base64URLencodedData };\n        return _this;\n    }\n    Do3DS2Challenge.prototype.get3DS2ChallengePromise = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            /**\n             * Listen for postMessage responses from the notification url\n             */\n            _this.processMessageHandler = getProcessMessageHandler(_this.props.postMessageDomain, resolve, reject, UNKNOWN_CHALLENGE_RESOLVE_OBJECT, 'challengeResult');\n            /* eslint-disable-next-line */\n            window.addEventListener('message', _this.processMessageHandler);\n        });\n    };\n    Do3DS2Challenge.prototype.componentDidMount = function () {\n        var _this = this;\n        // Render challenge\n        this.challengePromise = promiseTimeout(CHALLENGE_TIMEOUT, this.get3DS2ChallengePromise(), UNKNOWN_CHALLENGE_RESOLVE_OBJECT_TIMEOUT);\n        this.challengePromise.promise\n            .then(function (resolveObject) {\n            window.removeEventListener('message', _this.processMessageHandler);\n            _this.props.onCompleteChallenge(resolveObject);\n        })\n            .catch(function (rejectObject) {\n            window.removeEventListener('message', _this.processMessageHandler);\n            _this.props.onErrorChallenge(rejectObject);\n        });\n    };\n    Do3DS2Challenge.prototype.componentWillUnmount = function () {\n        this.challengePromise.cancel();\n        window.removeEventListener('message', this.processMessageHandler);\n    };\n    Do3DS2Challenge.prototype.render = function (_a, _b) {\n        var acsURL = _a.acsURL, cReqData = _a.cReqData, iframeSizeArr = _a.iframeSizeArr;\n        var base64URLencodedData = _b.base64URLencodedData, status = _b.status;\n        var width = iframeSizeArr[0], height = iframeSizeArr[1];\n        return (h(\"div\", { className: classNames([\n                'adyen-checkout__threeds2__challenge',\n                \"adyen-checkout__threeds2__challenge--\" + cReqData.challengeWindowSize\n            ]) },\n            status !== 'iframeLoaded' && h(Spinner, null),\n            h(Iframe, { name: iframeName, width: width, height: height, callback: this.iframeCallback }),\n            h(ThreeDS2Form, { name: 'cReqForm', action: acsURL, target: iframeName, inputName: 'creq', inputValue: base64URLencodedData })));\n    };\n    return Do3DS2Challenge;\n}(Component));\nexport default Do3DS2Challenge;\n","import { __assign, __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport Do3DS2Challenge from './Do3DS2Challenge';\nimport { createResolveData, handleErrorCode, encodeResult, prepareChallengeData } from '../utils';\nimport '../../ThreeDS2.scss';\nvar ThreeDS2Challenge = /** @class */ (function (_super) {\n    __extends(ThreeDS2Challenge, _super);\n    function ThreeDS2Challenge(props) {\n        var _this = _super.call(this, props) || this;\n        if (_this.props.challengeToken) {\n            var challengeData = prepareChallengeData({\n                challengeToken: _this.props.challengeToken,\n                size: _this.props.size,\n                notificationURL: _this.props.notificationURL\n            });\n            _this.state = {\n                status: 'retrievingChallengeToken',\n                challengeData: challengeData\n            };\n        }\n        else {\n            _this.state = { status: 'error' };\n            _this.props.onError('Missing challengeToken parameter');\n        }\n        return _this;\n    }\n    ThreeDS2Challenge.prototype.setStatusComplete = function (resultObj) {\n        var _this = this;\n        this.setState({ status: 'complete' }, function () {\n            var paymentData = _this.props.paymentData;\n            var result = encodeResult(resultObj, _this.props.type);\n            var data = createResolveData(_this.props.dataKey, result, paymentData);\n            _this.props.onComplete(data);\n        });\n    };\n    ThreeDS2Challenge.prototype.render = function (props, _a) {\n        var _this = this;\n        var challengeData = _a.challengeData;\n        if (this.state.status === 'retrievingChallengeToken') {\n            return (h(Do3DS2Challenge, __assign({ onCompleteChallenge: function (challenge) {\n                    _this.setStatusComplete(challenge.result);\n                }, onErrorChallenge: function (challenge) {\n                    var errorObject = handleErrorCode(challenge.errorCode);\n                    _this.props.onError(errorObject);\n                    _this.setStatusComplete(challenge.result);\n                } }, challengeData)));\n        }\n        return null;\n    };\n    ThreeDS2Challenge.defaultProps = {\n        onComplete: function () { },\n        onError: function () { }\n    };\n    return ThreeDS2Challenge;\n}(Component));\nexport default ThreeDS2Challenge;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport ThreeDS2Challenge from './components/Challenge';\nvar ThreeDS2ChallengeElement = /** @class */ (function (_super) {\n    __extends(ThreeDS2ChallengeElement, _super);\n    function ThreeDS2ChallengeElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ThreeDS2ChallengeElement.prototype.render = function () {\n        return h(ThreeDS2Challenge, __assign({}, this.props, { onComplete: this.onComplete }));\n    };\n    ThreeDS2ChallengeElement.type = 'threeDS2Challenge';\n    ThreeDS2ChallengeElement.defaultProps = {\n        dataKey: 'threeds2.challengeResult',\n        size: '01',\n        type: 'ChallengeShopper'\n    };\n    return ThreeDS2ChallengeElement;\n}(UIElement));\nexport default ThreeDS2ChallengeElement;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport Iframe from '../../../internal/IFrame';\nimport Spinner from '../../../internal/Spinner';\nimport ThreeDS2Form from '../Form';\nimport promiseTimeout from '../../../../utils/promiseTimeout';\nimport getProcessMessageHandler from '../../../../utils/get-process-message-handler';\nimport { FAILED_METHOD_STATUS_RESOLVE_OBJECT, THREEDS_METHOD_TIMEOUT, FAILED_METHOD_STATUS_RESOLVE_OBJECT_TIMEOUT } from '../../config';\nimport { encodeBase64URL } from '../utils';\nvar iframeName = 'threeDSMethodIframe';\n/**\n * Create and Base64URL encode a JSON object containing the serverTransactionID & threeDSMethodNotificationURL.\n * This Base64URL string will be added to the <form> in the ThreeDS2Form component.\n * The ThreeDS2Form component will submit the <form> when it mounts, using the ThreeDS2Iframe as the <form> target.\n * getProcessMessageHandler will listen for the postMessage response from the notificationURL and will settle the\n * promise accordingly causing this component to call the appropriate callback.\n * The callbacks exist in the parent component: ThreeDS2DeviceFingerprint where they ultimately call the onComplete\n * function passed as a prop when checkout.create('threeDS2DeviceFingerprint') is called.\n */\nvar Get3DS2DeviceFingerprint = /** @class */ (function (_super) {\n    __extends(Get3DS2DeviceFingerprint, _super);\n    function Get3DS2DeviceFingerprint(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * Create and Base64URL encode a JSON object\n         */\n        var dataObj = {\n            threeDSServerTransID: _this.props.serverTransactionID,\n            threeDSMethodNotificationURL: _this.props.threedsMethodNotificationURL\n        };\n        var jsonStr = JSON.stringify(dataObj);\n        var base64URLencodedData = encodeBase64URL(jsonStr);\n        _this.state = { base64URLencodedData: base64URLencodedData };\n        return _this;\n    }\n    Get3DS2DeviceFingerprint.prototype.get3DS2MethodPromise = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            /**\n             * Listen for postMessage responses from the notification url\n             */\n            _this.processMessageHandler = getProcessMessageHandler(_this.props.postMessageDomain, resolve, reject, FAILED_METHOD_STATUS_RESOLVE_OBJECT, 'fingerPrintResult');\n            /* eslint-disable-next-line */\n            window.addEventListener('message', _this.processMessageHandler);\n        });\n    };\n    Get3DS2DeviceFingerprint.prototype.componentDidMount = function () {\n        var _this = this;\n        // Check 3DS2 Device fingerprint\n        this.fingerPrintPromise = promiseTimeout(THREEDS_METHOD_TIMEOUT, this.get3DS2MethodPromise(), FAILED_METHOD_STATUS_RESOLVE_OBJECT_TIMEOUT);\n        this.fingerPrintPromise.promise\n            .then(function (resolveObject) {\n            window.removeEventListener('message', _this.processMessageHandler);\n            _this.props.onCompleteFingerprint(resolveObject);\n        })\n            .catch(function (rejectObject) {\n            window.removeEventListener('message', _this.processMessageHandler);\n            _this.props.onErrorFingerprint(rejectObject);\n        });\n    };\n    Get3DS2DeviceFingerprint.prototype.componentWillUnmount = function () {\n        this.fingerPrintPromise.cancel();\n        window.removeEventListener('message', this.processMessageHandler);\n    };\n    Get3DS2DeviceFingerprint.prototype.render = function (_a, _b) {\n        var methodURL = _a.methodURL;\n        var base64URLencodedData = _b.base64URLencodedData;\n        return (h(\"div\", { className: \"adyen-checkout__3ds2-device-fingerprint\" },\n            this.props.showSpinner && h(Spinner, null),\n            h(\"div\", { style: { display: 'none' } },\n                h(Iframe, { name: iframeName }),\n                h(ThreeDS2Form, { name: 'threeDSMethodForm', action: methodURL, target: iframeName, inputName: 'threeDSMethodData', inputValue: base64URLencodedData }))));\n    };\n    Get3DS2DeviceFingerprint.defaultProps = {\n        showSpinner: true\n    };\n    return Get3DS2DeviceFingerprint;\n}(Component));\nexport default Get3DS2DeviceFingerprint;\n","import { __assign, __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport Get3DS2DeviceFingerprint from './Get3DS2DeviceFingerprint';\nimport { createResolveData, encodeResult, handleErrorCode, prepareFingerPrintData } from '../utils';\nvar ThreeDS2DeviceFingerprint = /** @class */ (function (_super) {\n    __extends(ThreeDS2DeviceFingerprint, _super);\n    function ThreeDS2DeviceFingerprint(props) {\n        var _this = _super.call(this, props) || this;\n        var _a = _this.props, fingerprintToken = _a.fingerprintToken, notificationURL = _a.notificationURL;\n        if (fingerprintToken) {\n            var fingerPrintData = prepareFingerPrintData({ fingerprintToken: fingerprintToken, notificationURL: notificationURL });\n            _this.state = {\n                status: 'init',\n                fingerPrintData: fingerPrintData\n            };\n        }\n        else {\n            _this.state = { status: 'error' };\n            _this.props.onError('Missing fingerprintToken parameter');\n        }\n        return _this;\n    }\n    ThreeDS2DeviceFingerprint.prototype.componentDidMount = function () {\n        // If no fingerPrintData, don't even bother\n        if (!this.state.fingerPrintData) {\n            this.setStatusComplete({ threeDSCompInd: 'U' });\n            return;\n        }\n        // If no methodURL - don't render component. Instead exit with threeDSCompInd: 'U'\n        if (!this.state.fingerPrintData.methodURL || !this.state.fingerPrintData.methodURL.length) {\n            this.setStatusComplete({ threeDSCompInd: 'U' });\n            return;\n        }\n        // Render\n        this.setState({ status: 'retrievingFingerPrint' });\n    };\n    ThreeDS2DeviceFingerprint.prototype.setStatusComplete = function (resultObj) {\n        var _this = this;\n        this.setState({ status: 'complete' }, function () {\n            var paymentData = _this.props.paymentData;\n            var result = encodeResult(resultObj, _this.props.type);\n            var data = createResolveData(_this.props.dataKey, result, paymentData);\n            _this.props.onComplete(data);\n        });\n    };\n    ThreeDS2DeviceFingerprint.prototype.render = function (props, _a) {\n        var _this = this;\n        var fingerPrintData = _a.fingerPrintData;\n        if (this.state.status === 'retrievingFingerPrint') {\n            return (h(Get3DS2DeviceFingerprint, __assign({ onCompleteFingerprint: function (fingerprint) {\n                    _this.setStatusComplete(fingerprint.result);\n                }, onErrorFingerprint: function (fingerprint) {\n                    var errorObject = handleErrorCode(fingerprint.errorCode);\n                    _this.props.onError(errorObject);\n                    _this.setStatusComplete(fingerprint.result);\n                }, showSpinner: this.props.showSpinner }, fingerPrintData)));\n        }\n        return null;\n    };\n    ThreeDS2DeviceFingerprint.type = 'scheme';\n    ThreeDS2DeviceFingerprint.defaultProps = {\n        onComplete: function () { },\n        onError: function () { },\n        paymentData: '',\n        showSpinner: true\n    };\n    return ThreeDS2DeviceFingerprint;\n}(Component));\nexport default ThreeDS2DeviceFingerprint;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport DeviceFingerprint from './components/DeviceFingerprint';\nvar ThreeDS2DeviceFingerprintElement = /** @class */ (function (_super) {\n    __extends(ThreeDS2DeviceFingerprintElement, _super);\n    function ThreeDS2DeviceFingerprintElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ThreeDS2DeviceFingerprintElement.prototype.render = function () {\n        return h(DeviceFingerprint, __assign({}, this.props, { onComplete: this.onComplete }));\n    };\n    ThreeDS2DeviceFingerprintElement.type = 'threeDS2Fingerprint';\n    ThreeDS2DeviceFingerprintElement.defaultProps = {\n        dataKey: 'threeds2.fingerprint',\n        type: 'IdentifyShopper'\n    };\n    return ThreeDS2DeviceFingerprintElement;\n}(UIElement));\nexport default ThreeDS2DeviceFingerprintElement;\n","/**\n * Pads a given string or number with zeros.\n *\n * @param value - Value to zero-pad.\n * @param length - Amount of characters to pad.\n * @returns Left-padded number/string.\n */\nexport var zeroPad = function (value, length) {\n    if (length === void 0) { length = 2; }\n    if (length === 0)\n        return value;\n    var strValue = String(value);\n    return strValue.length >= length ? strValue : ('0'.repeat(length) + strValue).slice(length * -1);\n};\n/**\n * Calculates the remaining time as a percentage\n *\n * @param start - Start date\n * @param now - Current date\n * @param end - End date\n * @returns Percentage of the remaining time\n */\nexport var getProgressPercentage = function (start, now, end) {\n    var difference = end.getTime() - start.getTime();\n    return 100 - Math.round(((now.getTime() - start.getTime()) * 100) / difference);\n};\n/**\n * Calculates the difference in minutes and seconds from now to endDate\n *\n * @param startTime -\n * @param endTime -\n * @returns  Time difference\n */\nexport var getTimeDifference = function (startTime, endTime) {\n    var now = new Date();\n    var diff = endTime.getTime() - now.getTime();\n    var seconds = diff / 1000;\n    var percentage = getProgressPercentage(startTime, now, endTime);\n    return {\n        total: diff,\n        minutes: zeroPad(Math.floor((seconds / 60) % 60)),\n        seconds: zeroPad(Math.floor(seconds % 60)),\n        completed: diff <= 0,\n        percentage: percentage\n    };\n};\n","import { __assign, __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport { getTimeDifference } from './utils';\nvar Countdown = /** @class */ (function (_super) {\n    __extends(Countdown, _super);\n    function Countdown(props) {\n        var _this = _super.call(this, props) || this;\n        var secondsFromNow = _this.props.minutesFromNow * 60000;\n        var nowTime = new Date().getTime();\n        _this.state = {\n            startTime: new Date(nowTime),\n            endTime: new Date(nowTime + secondsFromNow),\n            minutes: '-',\n            seconds: '-'\n        };\n        return _this;\n    }\n    Countdown.prototype.tick = function () {\n        var newTime = getTimeDifference(this.state.startTime, this.state.endTime);\n        if (newTime.completed) {\n            this.props.onCompleted();\n            return this.clearInterval();\n        }\n        var time = {\n            minutes: newTime.minutes,\n            seconds: newTime.seconds,\n            percentage: newTime.percentage\n        };\n        this.setState(__assign({}, time));\n        this.props.onTick(time);\n        return time;\n    };\n    Countdown.prototype.clearInterval = function () {\n        clearInterval(this.interval);\n        delete this.interval;\n    };\n    Countdown.prototype.componentDidMount = function () {\n        var _this = this;\n        this.interval = setInterval(function () {\n            _this.tick();\n        }, 1000);\n    };\n    Countdown.prototype.componentWillUnmount = function () {\n        this.clearInterval();\n    };\n    Countdown.prototype.render = function () {\n        return (h(\"span\", { className: \"adyen-checkout__countdown\" },\n            h(\"span\", { className: \"countdown__minutes\" }, this.state.minutes),\n            h(\"span\", { className: \"countdown__separator\" }, \":\"),\n            h(\"span\", { className: \"countdown__seconds\" }, this.state.seconds)));\n    };\n    Countdown.defaultProps = {\n        onTick: function () { },\n        onCompleted: function () { }\n    };\n    return Countdown;\n}(Component));\nexport default Countdown;\n","import { FALLBACK_CONTEXT } from '../config';\n/**\n * Submits data to Adyen\n * @param initiationUrl - Url where to make the callbacks\n * @param data - ready to be serialized and included in the body of request\n * @returns a promise containing the response of the call\n */\nvar getStatus = function (initiationUrl, data) {\n    var options = {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n    };\n    return fetch(initiationUrl, options)\n        .then(function (response) { return response.json(); })\n        .catch(function (error) {\n        throw error;\n    });\n};\n/**\n * Submits data to Adyen\n * @param paymentData -\n * @param accessKey -\n * @param loadingContext -\n * @returns a promise containing the response of the call\n */\nexport var checkPaymentStatus = function (paymentData, accessKey, loadingContext) {\n    if (!paymentData || !accessKey) {\n        throw new Error('Could not check the payment status');\n    }\n    var statusUrl = (loadingContext || FALLBACK_CONTEXT) + \"services/PaymentInitiation/v1/status?token=\" + accessKey;\n    return getStatus(statusUrl, { paymentData: paymentData });\n};\nexport default {\n    checkPaymentStatus: checkPaymentStatus\n};\n","import { __assign } from \"tslib\";\n/**\n * Processes a complete response from Adyen by resultCode\n * @param response - to be processed\n * @returns a new object describing the response result (ready for onStatusChange)\n */\nvar processCompleteResponse = function (response) {\n    switch (response.resultCode.toLowerCase()) {\n        case 'refused':\n        case 'error':\n        case 'cancelled':\n            return { type: 'error', props: __assign(__assign({}, response), { message: 'error.subtitle.refused' }) };\n        case 'unknown':\n            return { type: 'error', props: __assign(__assign({}, response), { message: 'error.message.unknown' }) };\n        case 'pending':\n        case 'received':\n            return { type: response.resultCode.toLowerCase(), props: response };\n        case 'authorised':\n            return { type: 'success', props: response };\n        default:\n            return { type: 'success', props: response };\n    }\n};\n/**\n * Processes a response from Adyen by type\n * @param response - to be processed\n * @returns a new object describing the response result (ready for onStatusChange)\n */\nexport var processResponse = function (response) {\n    if (!response.type && response.resultCode) {\n        return processCompleteResponse(response);\n    }\n    if (!response.type) {\n        return { type: 'error', props: response };\n    }\n    switch (response.type.toLowerCase()) {\n        case 'pending':\n            return { type: 'pending', props: response };\n        case 'complete':\n            return processCompleteResponse(response);\n        case 'validation':\n            return { type: 'error', props: response };\n        default:\n            return { type: 'error', props: response };\n    }\n};\nexport default processResponse;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport Countdown from '../Countdown';\nimport Button from '../Button';\nimport Spinner from '../Spinner';\nimport { checkPaymentStatus } from '../../../core/Services/payment-status';\nimport processResponse from '../../../core/ProcessResponse';\nimport { getImageUrl } from '../../../utils/get-image';\nimport './QRLoader.scss';\nvar QRCODE_URL = 'barcode.shtml?barcodeType=qrCode&fileType=png&data=';\nvar QRLoader = /** @class */ (function (_super) {\n    __extends(QRLoader, _super);\n    function QRLoader(props) {\n        var _this = _super.call(this, props) || this;\n        // Retry until getting a complete response from the server or it times out\\\n        // Changes interval time to 10 seconds after 1 minute (60 seconds)\n        _this.statusInterval = function () {\n            _this.checkStatus();\n            _this.setState({ timePassed: _this.state.timePassed + _this.props.delay });\n            if (_this.state.timePassed >= _this.props.throttleTime) {\n                _this.setState({ delay: _this.props.throttledInterval });\n            }\n        };\n        _this.redirectToApp = function (url, fallback) {\n            if (fallback === void 0) { fallback = function () { }; }\n            setTimeout(function () {\n                // Redirect to the APP failed\n                _this.props.onError(_this.props.type + \" App was not found\");\n                fallback();\n            }, 25);\n            window.location.assign(url);\n        };\n        _this.state = {\n            buttonStatus: 'default',\n            completed: false,\n            delay: props.delay,\n            expired: false,\n            loading: true,\n            onError: function () { },\n            percentage: 100,\n            timePassed: 0\n        };\n        _this.onTimeUp = _this.onTimeUp.bind(_this);\n        _this.onTick = _this.onTick.bind(_this);\n        _this.onComplete = _this.onComplete.bind(_this);\n        _this.onError = _this.onError.bind(_this);\n        _this.checkStatus = _this.checkStatus.bind(_this);\n        return _this;\n    }\n    QRLoader.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, shouldRedirectOnMobile = _a.shouldRedirectOnMobile, url = _a.url;\n        var isMobile = window.matchMedia('(max-width: 768px)').matches && /Android|iPhone|iPod/.test(navigator.userAgent);\n        var startPolling = function () {\n            _this.interval = setInterval(_this.statusInterval, _this.state.delay);\n        };\n        if (shouldRedirectOnMobile && url && isMobile) {\n            this.redirectToApp(url, startPolling);\n        }\n        else {\n            startPolling();\n        }\n    };\n    QRLoader.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (prevState.delay !== this.state.delay) {\n            clearInterval(this.interval);\n            this.interval = setInterval(this.statusInterval, this.state.delay);\n        }\n    };\n    QRLoader.prototype.componentWillUnmount = function () {\n        clearInterval(this.interval);\n    };\n    QRLoader.prototype.onTick = function (time) {\n        this.setState({ percentage: time.percentage });\n    };\n    QRLoader.prototype.onTimeUp = function () {\n        this.setState({ expired: true });\n        clearInterval(this.interval);\n        return this.props.onError({ type: 'error', props: { errorMessage: 'Payment Expired' } });\n    };\n    QRLoader.prototype.onComplete = function (status) {\n        clearInterval(this.interval);\n        this.setState({ completed: true, loading: false });\n        this.props.onComplete({\n            data: {\n                details: { payload: status.props.payload },\n                paymentData: this.props.paymentData\n            }\n        });\n        return status;\n    };\n    QRLoader.prototype.onError = function (status) {\n        clearInterval(this.interval);\n        this.setState({ expired: true, loading: false });\n        this.props.onComplete({\n            data: {\n                details: { payload: status.props.payload },\n                paymentData: this.props.paymentData\n            }\n        });\n        return status;\n    };\n    QRLoader.prototype.checkStatus = function () {\n        var _this = this;\n        var _a = this.props, paymentData = _a.paymentData, originKey = _a.originKey, clientKey = _a.clientKey, loadingContext = _a.loadingContext;\n        var accessKey = clientKey ? clientKey : originKey;\n        return checkPaymentStatus(paymentData, accessKey, loadingContext)\n            .then(processResponse)\n            .catch(function (response) { return ({ type: 'network-error', props: response }); })\n            .then(function (status) {\n            switch (status.type) {\n                case 'success':\n                    return _this.onComplete(status);\n                case 'error':\n                    return _this.onError(status);\n                default:\n                    _this.setState({ loading: false });\n            }\n            return status;\n        });\n    };\n    QRLoader.prototype.render = function (_a, _b) {\n        var _this = this;\n        var amount = _a.amount, url = _a.url, brandLogo = _a.brandLogo, countdownTime = _a.countdownTime, i18n = _a.i18n, loadingContext = _a.loadingContext, type = _a.type;\n        var expired = _b.expired, completed = _b.completed, loading = _b.loading;\n        var qrCodeImage = this.props.qrCodeData ? \"\" + loadingContext + QRCODE_URL + this.props.qrCodeData : this.props.qrCodeImage;\n        var finalState = function (image, message) { return (h(\"div\", { className: \"adyen-checkout__qr-loader adyen-checkout__qr-loader--result\" },\n            h(\"img\", { className: \"adyen-checkout__qr-loader__icon adyen-checkout__qr-loader__icon--result\", src: getImageUrl({ loadingContext: loadingContext, imageFolder: 'components/' })(image), alt: i18n.get(message) }),\n            h(\"div\", { className: \"adyen-checkout__qr-loader__subtitle adyen-checkout__qr-loader__subtitle--result\" }, i18n.get(message)))); };\n        if (expired) {\n            return finalState('error', 'error.subtitle.payment');\n        }\n        if (completed) {\n            return finalState('success', 'creditCard.success');\n        }\n        if (loading) {\n            return (h(\"div\", { className: \"adyen-checkout__qr-loader\" },\n                brandLogo && h(\"img\", { alt: type, src: brandLogo, className: \"adyen-checkout__qr-loader__brand-logo\" }),\n                h(Spinner, null)));\n        }\n        var timeToPayString = i18n.get('wechatpay.timetopay').split('%@');\n        return (h(\"div\", { className: \"\\n                    adyen-checkout__qr-loader\\n                    adyen-checkout__qr-loader--\" + type + \"\\n                    \" + this.props.classNameModifiers.map(function (m) { return \"adyen-checkout__qr-loader--\" + m; }) + \"\\n                \" },\n            brandLogo && h(\"img\", { src: brandLogo, alt: type, className: \"adyen-checkout__qr-loader__brand-logo\" }),\n            h(\"div\", { className: \"adyen-checkout__qr-loader__subtitle\" }, i18n.get('wechatpay.scanqrcode')),\n            h(\"img\", { src: qrCodeImage, alt: i18n.get('wechatpay.scanqrcode') }),\n            amount && amount.value && amount.currency && (h(\"div\", { className: \"adyen-checkout__qr-loader__payment_amount\" }, i18n.amount(amount.value, amount.currency))),\n            h(\"div\", { className: \"adyen-checkout__qr-loader__progress\" },\n                h(\"span\", { className: \"adyen-checkout__qr-loader__percentage\", style: { width: this.state.percentage + \"%\" } })),\n            h(\"div\", { className: \"adyen-checkout__qr-loader__countdown\" },\n                timeToPayString[0],\n                \"\\u00A0\",\n                h(Countdown, { minutesFromNow: countdownTime, onTick: this.onTick, onCompleted: this.onTimeUp }),\n                \"\\u00A0\",\n                timeToPayString[1]),\n            this.props.instructions && h(\"div\", { className: \"adyen-checkout__qr-loader__instructions\" }, i18n.get(this.props.instructions)),\n            url && (h(\"div\", { className: \"adyen-checkout__qr-loader__app-link\" },\n                h(\"span\", { className: \"adyen-checkout__qr-loader__separator__label\" }, i18n.get('or')),\n                h(Button, { classNameModifiers: ['qr-loader'], onClick: function () { return _this.redirectToApp(url); }, label: i18n.get('openApp') })))));\n    };\n    QRLoader.defaultProps = {\n        delay: 2000,\n        countdownTime: 15,\n        onError: function () { },\n        onComplete: function () { },\n        throttleTime: 60000,\n        classNameModifiers: [],\n        throttledInterval: 10000\n    };\n    return QRLoader;\n}(Component));\nexport default QRLoader;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport QRLoader from '../internal/QRLoader';\nimport CoreProvider from '../../core/Context/CoreProvider';\nvar QRLoaderContainer = /** @class */ (function (_super) {\n    __extends(QRLoaderContainer, _super);\n    function QRLoaderContainer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    QRLoaderContainer.prototype.formatData = function () {\n        return {\n            paymentMethod: __assign({ type: this.props.type || this.constructor['type'] }, this.state.data)\n        };\n    };\n    Object.defineProperty(QRLoaderContainer.prototype, \"isValid\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    QRLoaderContainer.prototype.render = function () {\n        var _this = this;\n        if (this.props.paymentData) {\n            return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n                h(QRLoader, __assign({ ref: function (ref) {\n                        _this.componentRef = ref;\n                    } }, this.props, { shouldRedirectOnMobile: this.props.shouldRedirectOnMobile, type: this.constructor['type'], brandLogo: this.props.brandLogo || this.icon, delay: this.props.delay, onComplete: this.onComplete, countdownTime: this.props.countdownTime, instructions: this.props.instructions }))));\n        }\n        if (this.props.showPayButton) {\n            return this.payButton({\n                label: this.props.buttonLabel ? this.props.i18n.get(this.props.buttonLabel) : this.props.i18n.get('continue'),\n                classNameModifiers: ['standalone']\n            });\n        }\n        return null;\n    };\n    QRLoaderContainer.defaultProps = {\n        qrCodeImage: '',\n        amount: null,\n        paymentData: null,\n        onError: function () { },\n        onComplete: function () { }\n    };\n    return QRLoaderContainer;\n}(UIElement));\nexport default QRLoaderContainer;\n","import { __assign, __extends } from \"tslib\";\nimport QRLoaderContainer from '../helpers/QRLoaderContainer';\nimport { delay, countdownTime } from './config';\nvar WeChatPayElement = /** @class */ (function (_super) {\n    __extends(WeChatPayElement, _super);\n    function WeChatPayElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WeChatPayElement.prototype.formatProps = function (props) {\n        return __assign({ delay: delay,\n            countdownTime: countdownTime }, _super.prototype.formatProps.call(this, props));\n    };\n    WeChatPayElement.type = 'wechatpayQR';\n    return WeChatPayElement;\n}(QRLoaderContainer));\nexport default WeChatPayElement;\n","export var countdownTime = 15; // min\nexport var delay = 2000; // ms\nexport default {\n    delay: delay,\n    countdownTime: countdownTime\n};\n","import { __assign, __extends } from \"tslib\";\nimport QRLoaderContainer from '../helpers/QRLoaderContainer';\nimport { STATUS_INTERVAL, COUNTDOWN_MINUTES } from './config';\nvar BCMCMobileElement = /** @class */ (function (_super) {\n    __extends(BCMCMobileElement, _super);\n    function BCMCMobileElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BCMCMobileElement.prototype.formatProps = function (props) {\n        var isMobile = window.matchMedia('(max-width: 768px)').matches && /Android|iPhone|iPod/.test(navigator.userAgent);\n        return __assign({ delay: STATUS_INTERVAL, countdownTime: COUNTDOWN_MINUTES, shouldRedirectOnMobile: true, buttonLabel: isMobile ? 'openApp' : 'generateQRCode' }, _super.prototype.formatProps.call(this, props));\n    };\n    BCMCMobileElement.type = 'bcmc_mobile';\n    return BCMCMobileElement;\n}(QRLoaderContainer));\nexport default BCMCMobileElement;\n","export var COUNTDOWN_MINUTES = 15; // min\nexport var STATUS_INTERVAL = 2000; // ms\nexport default {\n    STATUS_INTERVAL: STATUS_INTERVAL,\n    COUNTDOWN_MINUTES: COUNTDOWN_MINUTES\n};\n","import { __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar MolPayEBankingMYElement = /** @class */ (function (_super) {\n    __extends(MolPayEBankingMYElement, _super);\n    function MolPayEBankingMYElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MolPayEBankingMYElement.type = 'molpay_ebanking_fpx_MY';\n    return MolPayEBankingMYElement;\n}(IssuerListContainer));\nexport default MolPayEBankingMYElement;\n","import { __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar MolPayEBankingTHElement = /** @class */ (function (_super) {\n    __extends(MolPayEBankingTHElement, _super);\n    function MolPayEBankingTHElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MolPayEBankingTHElement.type = 'molpay_ebanking_TH';\n    return MolPayEBankingTHElement;\n}(IssuerListContainer));\nexport default MolPayEBankingTHElement;\n","import { __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar MolPayEbankingVNElement = /** @class */ (function (_super) {\n    __extends(MolPayEbankingVNElement, _super);\n    function MolPayEbankingVNElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MolPayEbankingVNElement.type = 'molpay_ebanking_VN';\n    return MolPayEbankingVNElement;\n}(IssuerListContainer));\nexport default MolPayEbankingVNElement;\n","import { __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar OpenBankingUKElement = /** @class */ (function (_super) {\n    __extends(OpenBankingUKElement, _super);\n    function OpenBankingUKElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OpenBankingUKElement.type = 'openbanking_UK';\n    return OpenBankingUKElement;\n}(IssuerListContainer));\nexport default OpenBankingUKElement;\n","import { email as emailRegex } from '../../../../utils/regex';\nexport var isValidEmail = function (email) { return emailRegex.test(email); };\nexport default { isValidEmail: isValidEmail };\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useEffect, useState } from 'preact/hooks';\nimport { renderFormField } from '../../../internal/FormFields';\nimport Field from '../../../internal/FormFields/Field';\nimport { isValidEmail } from './validate';\nimport getIssuerImageUrl from '../../../../utils/get-issuer-image';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nexport default function DragonpayInput(props) {\n    var i18n = useCoreContext().i18n;\n    var _a = useState(false), isValid = _a[0], setIsValid = _a[1];\n    var _b = useState(__assign(__assign({}, props.data), (props.issuer && { issuer: props.issuer }))), data = _b[0], setData = _b[1];\n    var _c = useState({}), errors = _c[0], setErrors = _c[1];\n    var getIssuerIcon = getIssuerImageUrl({}, props.type);\n    var items = props.items.map(function (item) { return (__assign(__assign({}, item), { icon: getIssuerIcon(item.id && item.id.toLowerCase()) })); });\n    var isIssuerRequired = function () {\n        var typesRequiringIssuers = ['dragonpay_ebanking', 'dragonpay_otc_banking', 'dragonpay_otc_non_banking'];\n        return typesRequiringIssuers.indexOf(props.type) > -1;\n    };\n    var validateFields = function (shopperEmail, issuer) {\n        return isValidEmail(shopperEmail) && (!!issuer || !isIssuerRequired());\n    };\n    var handleInputShopperEmail = function (e) {\n        var shopperEmail = e.target.value;\n        setIsValid(validateFields(shopperEmail, data.issuer));\n        setData(__assign(__assign({}, data), { shopperEmail: shopperEmail }));\n        setErrors(__assign(__assign({}, errors), { shopperEmail: false }));\n    };\n    var handleSelectIssuer = function (e) {\n        var issuer = e.currentTarget.getAttribute('data-value');\n        setIsValid(validateFields(data.shopperEmail, issuer));\n        setData(__assign(__assign({}, data), { issuer: issuer }));\n        setErrors(__assign(__assign({}, errors), { issuer: false }));\n    };\n    var getIssuerSelectFieldKey = function (type) {\n        if (type === 'dragonpay_otc_non_banking') {\n            return 'dragonpay.voucher.non.bank.selectField.placeholder';\n        }\n        return 'dragonpay.voucher.bank.selectField.placeholder';\n    };\n    useEffect(function () {\n        if (props.issuer) {\n            props.onChange({ isValid: isValid, data: data, errors: errors });\n        }\n    }, []);\n    useEffect(function () {\n        props.onChange({ isValid: isValid, data: data, errors: errors });\n    }, [isValid, data, errors]);\n    var _d = useState('ready'), status = _d[0], setStatus = _d[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    this.showValidation = function () {\n        setErrors({\n            shopperEmail: !isValidEmail(data.shopperEmail),\n            issuer: !data.issuer\n        });\n    };\n    return (h(\"div\", { className: \"adyen-checkout__dragonpay-input__field\" },\n        h(Field, { label: i18n.get('shopperEmail'), errorMessage: errors.shopperEmail }, renderFormField('emailAddress', {\n            name: 'dragonpay.shopperEmail',\n            autoCorrect: 'off',\n            value: data.shopperEmail,\n            className: 'adyen-checkout__input--large',\n            spellCheck: false,\n            onInput: handleInputShopperEmail\n        })),\n        isIssuerRequired() && (h(Field, { label: i18n.get(getIssuerSelectFieldKey(props.type)), errorMessage: errors.issuer }, renderFormField('select', {\n            items: items,\n            selected: data.issuer,\n            placeholder: i18n.get(getIssuerSelectFieldKey(props.type)),\n            name: 'issuer',\n            className: 'adyen-checkout__dropdown--large adyen-checkout__issuer-list__dropdown',\n            onChange: handleSelectIssuer\n        }))),\n        props.showPayButton && props.payButton({ status: status, label: i18n.get('confirmPurchase') })));\n}\nDragonpayInput.defaultProps = {\n    data: {},\n    items: [],\n    onChange: function () { }\n};\n","import { h } from 'preact';\nimport Voucher from '../../../internal/Voucher';\nimport getIssuerImageUrl from '../../../../utils/get-issuer-image';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nexport default function DragonpayVoucherResult(props) {\n    var reference = props.reference, totalAmount = props.totalAmount, surcharge = props.surcharge, expiresAt = props.expiresAt, alternativeReference = props.alternativeReference, instructionsUrl = props.instructionsUrl, icon = props.icon, issuer = props.issuer, paymentMethodType = props.paymentMethodType;\n    var _a = useCoreContext(), loadingContext = _a.loadingContext, i18n = _a.i18n;\n    var issuerImageUrl = getIssuerImageUrl({ loadingContext: loadingContext }, paymentMethodType)(issuer.toLowerCase());\n    return (h(Voucher, { reference: reference, paymentMethodType: paymentMethodType, introduction: i18n.get('voucher.introduction'), imageUrl: icon, issuerImageUrl: issuerImageUrl, instructionsUrl: instructionsUrl, amount: totalAmount && i18n.amount(totalAmount.value, totalAmount.currency), surcharge: surcharge && i18n.amount(surcharge.value, surcharge.currency), voucherDetails: [\n            { label: i18n.get('voucher.expirationDate'), value: i18n.date(expiresAt) },\n            { label: i18n.get('voucher.alternativeReference'), value: alternativeReference }\n        ], copyBtn: true }));\n}\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport DragonpayInput from './components/DragonpayInput';\nimport DragonpayVoucherResult from './components/DragonpayVoucherResult';\nimport CoreProvider from '../../core/Context/CoreProvider';\nvar DragonpayElement = /** @class */ (function (_super) {\n    __extends(DragonpayElement, _super);\n    function DragonpayElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(DragonpayElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Formats the component data output\n     */\n    DragonpayElement.prototype.formatData = function () {\n        return {\n            paymentMethod: __assign({ type: this.props.type || DragonpayElement.type }, this.state.data)\n        };\n    };\n    DragonpayElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, props), { items: props.details && props.details.length ? (props.details.find(function (d) { return d.key === 'issuer'; }) || {}).items : props.items });\n    };\n    DragonpayElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext }, this.props.reference ? (h(DragonpayVoucherResult, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            }, icon: this.icon }, this.props))) : (h(DragonpayInput, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            } }, this.props, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton })))));\n    };\n    DragonpayElement.type = 'dragonpay';\n    return DragonpayElement;\n}(UIElement));\nexport { DragonpayElement };\nexport default DragonpayElement;\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useEffect, useRef, useState } from 'preact/hooks';\nimport PersonalDetails from '../../../internal/PersonalDetails/PersonalDetails';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nexport default function DokuInput(props) {\n    var _a = useState(__assign({}, props.data)), data = _a[0], setData = _a[1];\n    var _b = useState(false), isValid = _b[0], setIsValid = _b[1];\n    var personalDetailsRef = useRef(null);\n    var i18n = useCoreContext().i18n;\n    useEffect(function () {\n        props.onChange({ data: data, isValid: isValid });\n    }, [data, isValid]);\n    var handleChange = function (state) {\n        setData(__assign(__assign({}, data), state.data));\n        setIsValid(state.isValid);\n    };\n    var _c = useState('ready'), status = _c[0], setStatus = _c[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    this.showValidation = function () {\n        if (personalDetailsRef.current)\n            personalDetailsRef.current.showValidation();\n    };\n    return (h(\"div\", { className: \"adyen-checkout__doku-input__field\" },\n        h(PersonalDetails, { data: data, requiredFields: ['firstName', 'lastName', 'shopperEmail'], onChange: handleChange, namePrefix: \"doku\", ref: personalDetailsRef }),\n        props.showPayButton && props.payButton({ status: status, label: i18n.get('confirmPurchase') })));\n}\n","import { h } from 'preact';\nimport Voucher from '../../../internal/Voucher';\nimport getImage from '../../../../utils/get-image';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nvar DokuVoucherResult = function (props) {\n    var reference = props.reference, expiresAt = props.expiresAt, instructionsUrl = props.instructionsUrl, shopperName = props.shopperName, merchantName = props.merchantName, totalAmount = props.totalAmount, paymentMethodType = props.paymentMethodType;\n    var _a = useCoreContext(), loadingContext = _a.loadingContext, i18n = _a.i18n;\n    return (h(Voucher, { paymentMethodType: paymentMethodType, reference: reference, introduction: i18n.get('voucher.introduction.doku'), imageUrl: getImage({ loadingContext: loadingContext })(paymentMethodType), instructionsUrl: instructionsUrl, amount: totalAmount && i18n.amount(totalAmount.value, totalAmount.currency), voucherDetails: [\n            { label: i18n.get('voucher.expirationDate'), value: i18n.date(expiresAt) },\n            { label: i18n.get('voucher.shopperName'), value: shopperName },\n            { label: i18n.get('voucher.merchantName'), value: merchantName }\n        ], copyBtn: true }));\n};\nexport default DokuVoucherResult;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport DokuInput from './components/DokuInput';\nimport DokuVoucherResult from './components/DokuVoucherResult';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport getImage from '../../utils/get-image';\nvar DokuElement = /** @class */ (function (_super) {\n    __extends(DokuElement, _super);\n    function DokuElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(DokuElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Formats the component data output\n     */\n    DokuElement.prototype.formatData = function () {\n        return {\n            paymentMethod: __assign({ type: this.props.type || DokuElement.type }, this.state.data)\n        };\n    };\n    Object.defineProperty(DokuElement.prototype, \"icon\", {\n        get: function () {\n            return getImage({ loadingContext: this.props.loadingContext })(this.props.type);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DokuElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext }, this.props.reference ? (h(DokuVoucherResult, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            } }, this.props))) : (h(DokuInput, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            } }, this.props, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton })))));\n    };\n    DokuElement.type = 'doku';\n    return DokuElement;\n}(UIElement));\nexport { DokuElement };\nexport default DokuElement;\n","import { h } from 'preact';\nimport { useState } from 'preact/hooks';\nimport { renderFormField } from '../../../internal/FormFields';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport Field from '../../../internal/FormFields/Field';\nexport default function SendCopyToEmail(props) {\n    var errors = props.errors, value = props.value, onInput = props.onInput, onChange = props.onChange;\n    var i18n = useCoreContext().i18n;\n    var _a = useState(false), sendCopyToEmail = _a[0], setSendCopyToEmail = _a[1];\n    var toggleEmailField = function (e) {\n        setSendCopyToEmail(e.target.checked);\n        props.onToggle(sendCopyToEmail);\n    };\n    return (h(\"div\", { className: 'adyen-checkout__fieldset adyen-checkout__fieldset--sendCopyToEmail' },\n        h(Field, { classNameModifiers: ['sendCopyToEmail'] }, renderFormField('boolean', {\n            onChange: toggleEmailField,\n            label: i18n.get('boleto.sendCopyToEmail'),\n            name: 'sendCopyToEmail',\n            value: sendCopyToEmail\n        })),\n        sendCopyToEmail && (h(Field, { label: i18n.get('shopperEmail'), classNameModifiers: ['shopperEmail'], errorMessage: errors }, renderFormField('emailAddress', {\n            name: 'boleto.shopperEmail',\n            autoCorrect: 'off',\n            spellCheck: false,\n            value: value,\n            onInput: onInput,\n            onChange: onChange\n        })))));\n}\n","import { CPF_LENGTH } from './constants';\nexport function maskCPF(value) {\n    return value\n        .replace(/\\W/gi, '')\n        .replace(/(\\d{3})(?!$)/g, '$1.')\n        .replace(/(.{11}).(\\d{1,2})$/g, '$1-$2');\n}\nexport function maskCNPJ(value) {\n    return value.replace(/^(\\d{2})(\\d{3})(\\d{3})?(\\d{4})?(\\d{1,2})?$/g, function (match, g1, g2, g3, g4, g5) {\n        if (g4 === void 0) { g4 = ''; }\n        if (g5 === void 0) { g5 = ''; }\n        return g1 + \".\" + g2 + \".\" + g3 + \"/\" + g4 + (g5.length ? \"-\" + g5 : '');\n    });\n}\nexport function cleanCPFCNPJ(value) {\n    return value.replace(/[^0-9]/g, '').trim();\n}\nexport function formatCPFCNPJ(value) {\n    var cleanValue = cleanCPFCNPJ(value);\n    var formattedValue = cleanValue.length > CPF_LENGTH ? maskCNPJ(cleanValue) : maskCPF(cleanValue);\n    return formattedValue;\n}\n","export var CPF_LENGTH = 11;\n","import { __assign, __spreadArrays } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect, useRef } from 'preact/hooks';\nimport { renderFormField } from '../../../internal/FormFields';\nimport Field from '../../../internal/FormFields/Field';\nimport Address from '../../../internal/Address';\nimport Validator from '../../../../utils/Validator';\nimport { boletoValidationRules } from './validate';\nimport SendCopyToEmail from './SendCopyToEmail';\nimport { formatCPFCNPJ } from './utils';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nvar validator = new Validator(boletoValidationRules);\nfunction BoletoInput(props) {\n    var i18n = useCoreContext().i18n;\n    var addressRef = useRef(null);\n    var _a = useState(__assign(__assign({}, props.data), (props.data.socialSecurityNumber && { socialSecurityNumber: formatCPFCNPJ(props.data.socialSecurityNumber) }))), data = _a[0], setData = _a[1];\n    var _b = useState({}), errors = _b[0], setErrors = _b[1];\n    var _c = useState(__assign({}, (props.data.socialSecurityNumber && {\n        socialSecurityNumber: validator.validate('socialSecurityNumber', 'input')(formatCPFCNPJ(this.props.data.socialSecurityNumber))\n    }))), valid = _c[0], setValid = _c[1];\n    var _d = useState(false), showingEmail = _d[0], setShowingEmail = _d[1];\n    var toggleEmailField = function () { return setShowingEmail(!showingEmail); };\n    var buttonModifiers = __spreadArrays((!props.personalDetailsRequired && !props.billingAddressRequired && !props.showEmailAddress ? ['standalone'] : []));\n    var updateFieldData = function (key, value, isValid) {\n        var _a, _b, _c;\n        setData(__assign(__assign({}, data), (_a = {}, _a[key] = value, _a)));\n        setValid(__assign(__assign({}, valid), (_b = {}, _b[key] = isValid, _b)));\n        setErrors(__assign(__assign({}, errors), (_c = {}, _c[key] = !isValid, _c)));\n    };\n    var handleInputFor = function (key) { return function (e) {\n        var value = e.target.value;\n        var isValid = validator.validate(key, 'input')(value);\n        updateFieldData(key, value, isValid);\n    }; };\n    var handleChangeFor = function (key) { return function (e) {\n        var value = e.target.value;\n        var isValid = validator.validate(key, 'blur')(value);\n        updateFieldData(key, value, isValid);\n    }; };\n    var handleCPFInput = function (e) {\n        var _a, _b, _c;\n        var key = 'socialSecurityNumber';\n        var value = formatCPFCNPJ(e.target.value);\n        var isValid = validator.validate(key, 'input')(value);\n        setData(__assign(__assign({}, data), (_a = {}, _a[key] = value, _a)));\n        setValid(__assign(__assign({}, valid), (_b = {}, _b[key] = isValid, _b)));\n        setErrors(__assign(__assign({}, errors), (_c = {}, _c[key] = false, _c)));\n    };\n    var handleAddress = function (address) {\n        setData(__assign(__assign({}, data), { billingAddress: address.data }));\n        setValid(__assign(__assign({}, valid), { billingAddress: address.isValid }));\n    };\n    var _e = useState('ready'), status = _e[0], setStatus = _e[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    this.showValidation = function () {\n        setErrors(__assign(__assign({}, (showingEmail && { shopperEmail: !validator.validate('shopperEmail')(data.shopperEmail) })), (props.personalDetailsRequired && {\n            firstName: !validator.validate('firstName')(data.firstName),\n            lastName: !validator.validate('lastName')(data.lastName),\n            socialSecurityNumber: !validator.validate('socialSecurityNumber')(data.socialSecurityNumber)\n        })));\n        if (props.billingAddressRequired) {\n            addressRef.current.showValidation();\n        }\n    };\n    useEffect(function () {\n        var personalFields = ['firstName', 'lastName', 'socialSecurityNumber'];\n        var personalFieldsValid = props.personalDetailsRequired\n            ? personalFields.reduce(function (acc, field) { return acc && Boolean(validator.validate(field, 'blur')(data[field])); }, true)\n            : true;\n        var billingAddressValid = props.billingAddressRequired ? Boolean(valid.billingAddress) : true;\n        var emailRequired = showingEmail && props.showEmailAddress;\n        var emailAddressValid = emailRequired ? Boolean(validator.validate('shopperEmail', 'blur')(data.shopperEmail)) : true;\n        var shopperEmail = emailRequired ? data.shopperEmail : null;\n        var isValid = personalFieldsValid && billingAddressValid && emailAddressValid;\n        props.onChange({ data: __assign(__assign({}, data), { shopperEmail: shopperEmail }), isValid: isValid });\n    }, [data, valid, errors, showingEmail]);\n    return (h(\"div\", { className: \"adyen-checkout__boleto-input__field\" },\n        props.personalDetailsRequired && (h(\"div\", { className: 'adyen-checkout__fieldset adyen-checkout__fieldset--address adyen-checkout__fieldset--personalDetails' },\n            h(\"div\", { className: \"adyen-checkout__fieldset__title\" }, i18n.get('personalDetails')),\n            h(\"div\", { className: \"adyen-checkout__fieldset__fields\" },\n                h(Field, { label: i18n.get('firstName'), classNameModifiers: ['firstName', 'col-50'], errorMessage: errors.firstName }, renderFormField('text', {\n                    name: 'firstName',\n                    autocorrect: 'off',\n                    spellcheck: false,\n                    value: data.firstName,\n                    onInput: handleInputFor('firstName'),\n                    onChange: handleChangeFor('firstName')\n                })),\n                h(Field, { label: i18n.get('lastName'), classNameModifiers: ['lastName', 'col-50'], errorMessage: errors.lastName }, renderFormField('text', {\n                    name: 'lastName',\n                    autocorrect: 'off',\n                    spellcheck: false,\n                    value: data.lastName,\n                    onInput: handleInputFor('lastName'),\n                    onChange: handleChangeFor('lastName')\n                })),\n                h(Field, { label: \"\" + i18n.get('boleto.socialSecurityNumber'), classNameModifiers: ['socialSecurityNumber'], errorMessage: errors.socialSecurityNumber, isValid: Boolean(valid.socialSecurityNumber) }, renderFormField('text', {\n                    name: 'socialSecurityNumber',\n                    autocorrect: 'off',\n                    spellcheck: false,\n                    value: data.socialSecurityNumber,\n                    onInput: handleCPFInput,\n                    maxLength: 18,\n                    onChange: handleChangeFor('socialSecurityNumber')\n                }))))),\n        props.billingAddressRequired && (h(Address, { label: \"billingAddress\", data: __assign(__assign({}, data.billingAddress), { country: 'BR' }), onChange: handleAddress, requiredFields: ['street', 'houseNumberOrName', 'postalCode', 'city', 'stateOrProvince'], ref: addressRef })),\n        props.showEmailAddress && (h(SendCopyToEmail, { value: data.shopperEmail, errors: errors.shopperEmail, onToggle: toggleEmailField, onInput: handleInputFor('shopperEmail'), onChange: handleChangeFor('shopperEmail') })),\n        props.showPayButton && props.payButton({ status: status, label: i18n.get('boletobancario.btnLabel'), classNameModifiers: buttonModifiers })));\n}\nBoletoInput.defaultProps = {\n    data: {},\n    showEmailAddress: true,\n    personalDetailsRequired: true,\n    billingAddressRequired: true\n};\nexport default BoletoInput;\n","export var boletoValidationRules = {\n    input: {\n        socialSecurityNumber: function (ssn) { return /(^\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}$)|(^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$)/.test(ssn); }\n    },\n    blur: {\n        socialSecurityNumber: function (ssn) { return /(^\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}$)|(^\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}$)/.test(ssn); },\n        default: function (value) { return value && value.length > 0; }\n    }\n};\n","import { h } from 'preact';\nimport Voucher from '../../../internal/Voucher';\nimport getImage from '../../../../utils/get-image';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport './BoletoVoucherResult.scss';\nvar BoletoVoucherResult = function (props) {\n    var _a = useCoreContext(), i18n = _a.i18n, loadingContext = _a.loadingContext;\n    var reference = props.reference, expiresAt = props.expiresAt, totalAmount = props.totalAmount, paymentMethodType = props.paymentMethodType, downloadUrl = props.downloadUrl;\n    var barcodeReference = reference.replace(/[^\\d]/g, '').replace(/^(\\d{4})(\\d{5})\\d{1}(\\d{10})\\d{1}(\\d{10})\\d{1}(\\d{15})$/, '$1$5$2$3$4');\n    var barcodeUrl = loadingContext + \"barcode.shtml?data=\" + barcodeReference + \"&barcodeType=BT_Int2of5A&fileType=png\";\n    return (h(Voucher, { reference: reference, paymentMethodType: 'boletobancario', barcode: barcodeUrl, introduction: i18n.get('voucher.introduction'), imageUrl: getImage({ loadingContext: loadingContext })(paymentMethodType), amount: totalAmount && i18n.amount(totalAmount.value, totalAmount.currency), voucherDetails: [{ label: i18n.get('voucher.expirationDate'), value: i18n.date(expiresAt) }], downloadUrl: downloadUrl, copyBtn: true }));\n};\nexport default BoletoVoucherResult;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport BoletoInput from './components/BoletoInput';\nimport { cleanCPFCNPJ } from './components/BoletoInput/utils';\nimport BoletoVoucherResult from './components/BoletoVoucherResult';\nimport CoreProvider from '../../core/Context/CoreProvider';\nvar BoletoElement = /** @class */ (function (_super) {\n    __extends(BoletoElement, _super);\n    function BoletoElement() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRef = function (ref) {\n            _this.componentRef = ref;\n        };\n        return _this;\n    }\n    Object.defineProperty(BoletoElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Formats the component data output\n     */\n    BoletoElement.prototype.formatData = function () {\n        var _a = this.state.data, data = _a === void 0 ? {} : _a;\n        var billingAddress = data.billingAddress, shopperEmail = data.shopperEmail, firstName = data.firstName, lastName = data.lastName, _b = data.socialSecurityNumber, socialSecurityNumber = _b === void 0 ? '' : _b;\n        return __assign(__assign(__assign(__assign({ paymentMethod: {\n                type: this.props.type || BoletoElement.type\n            } }, (billingAddress && { billingAddress: billingAddress })), (shopperEmail && { shopperEmail: shopperEmail })), (firstName && lastName && { shopperName: { firstName: firstName, lastName: lastName } })), (socialSecurityNumber && { socialSecurityNumber: cleanCPFCNPJ(socialSecurityNumber) }));\n    };\n    BoletoElement.prototype.render = function () {\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext }, this.props.reference ? (h(BoletoVoucherResult, __assign({ ref: this.handleRef, icon: this.icon }, this.props))) : (h(BoletoInput, __assign({ ref: this.handleRef }, this.props, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton })))));\n    };\n    BoletoElement.type = 'boletobancario';\n    return BoletoElement;\n}(UIElement));\nexport { BoletoElement };\nexport default BoletoElement;\n","import { __spreadArrays } from \"tslib\";\nimport { h } from 'preact';\nimport Voucher from '../../../../components/internal/Voucher';\nimport getImage from '../../../../utils/get-image';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport './OxxoVoucherResult.scss';\nvar OxxoVoucherResult = function (props) {\n    var _a = useCoreContext(), i18n = _a.i18n, loadingContext = _a.loadingContext;\n    var alternativeReference = props.alternativeReference, reference = props.reference, expiresAt = props.expiresAt, merchantReference = props.merchantReference, totalAmount = props.totalAmount, paymentMethodType = props.paymentMethodType, downloadUrl = props.downloadUrl;\n    var barcodeUrl = loadingContext + \"barcode.shtml?data=\" + reference + \"&barcodeType=BT_Code128C&fileType=png\";\n    var voucherDetails = __spreadArrays((expiresAt\n        ? [\n            {\n                label: i18n.get('voucher.expirationDate'),\n                value: i18n.date(expiresAt)\n            }\n        ]\n        : []), (merchantReference\n        ? [\n            {\n                label: i18n.get('voucher.shopperReference'),\n                value: merchantReference\n            }\n        ]\n        : []), (alternativeReference\n        ? [\n            {\n                label: i18n.get('voucher.alternativeReference'),\n                value: alternativeReference\n            }\n        ]\n        : []));\n    return (h(Voucher, { amount: totalAmount && i18n.amount(totalAmount.value, totalAmount.currency), barcode: barcodeUrl, copyBtn: true, downloadUrl: downloadUrl, imageUrl: getImage({ loadingContext: loadingContext })(paymentMethodType), introduction: i18n.get('voucher.introduction'), paymentMethodType: 'oxxo', reference: reference, voucherDetails: voucherDetails }));\n};\nexport default OxxoVoucherResult;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport OxxoVoucherResult from './components/OxxoVoucherResult';\nimport CoreProvider from '../../core/Context/CoreProvider';\nvar OxxoElement = /** @class */ (function (_super) {\n    __extends(OxxoElement, _super);\n    function OxxoElement() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRef = function (ref) {\n            _this.componentRef = ref;\n        };\n        return _this;\n    }\n    Object.defineProperty(OxxoElement.prototype, \"isValid\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    OxxoElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, props), { name: 'Oxxo' });\n    };\n    /**\n     * Formats the component data output\n     */\n    OxxoElement.prototype.formatData = function () {\n        return {\n            paymentMethod: {\n                type: this.props.type || OxxoElement.type\n            }\n        };\n    };\n    OxxoElement.prototype.render = function () {\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext }, this.props.reference ? (h(OxxoVoucherResult, __assign({ ref: this.handleRef }, this.props))) : (this.payButton(__assign(__assign({}, this.props), { classNameModifiers: ['standalone'], label: this.props.i18n.get('continueTo') + \" \" + this.props.name, onClick: this.submit })))));\n    };\n    OxxoElement.type = 'oxxo';\n    return OxxoElement;\n}(UIElement));\nexport { OxxoElement };\nexport default OxxoElement;\n","import { __spreadArrays } from \"tslib\";\nimport { h } from 'preact';\nimport Voucher from '../../../internal/Voucher';\nimport getImage from '../../../../utils/get-image';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nvar MultibancoVoucherResult = function (props) {\n    var _a = useCoreContext(), i18n = _a.i18n, loadingContext = _a.loadingContext;\n    var entity = props.entity, reference = props.reference, expiresAt = props.expiresAt, merchantReference = props.merchantReference, totalAmount = props.totalAmount, paymentMethodType = props.paymentMethodType, downloadUrl = props.downloadUrl;\n    var voucherDetails = __spreadArrays((entity ? [{ label: i18n.get('voucher.entity'), value: entity }] : []), (expiresAt ? [{ label: i18n.get('voucher.expirationDate'), value: i18n.date(expiresAt) }] : []), (merchantReference ? [{ label: i18n.get('voucher.shopperReference'), value: merchantReference }] : []));\n    return (h(Voucher, { amount: totalAmount && i18n.amount(totalAmount.value, totalAmount.currency), barcode: null, copyBtn: true, downloadUrl: downloadUrl, imageUrl: getImage({ loadingContext: loadingContext })(paymentMethodType), introduction: i18n.get('voucher.introduction'), paymentMethodType: 'multibanco', reference: reference, voucherDetails: voucherDetails }));\n};\nexport default MultibancoVoucherResult;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport MultibancoVoucherResult from './components/MultibancoVoucherResult';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport RedirectButton from '../internal/RedirectButton';\nvar MultibancoElement = /** @class */ (function (_super) {\n    __extends(MultibancoElement, _super);\n    function MultibancoElement() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRef = function (ref) {\n            _this.componentRef = ref;\n        };\n        return _this;\n    }\n    Object.defineProperty(MultibancoElement.prototype, \"isValid\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MultibancoElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, props), { name: props.name || 'Multibanco' });\n    };\n    /**\n     * Formats the component data output\n     */\n    MultibancoElement.prototype.formatData = function () {\n        return {\n            paymentMethod: {\n                type: this.props.type || MultibancoElement.type\n            }\n        };\n    };\n    MultibancoElement.prototype.render = function () {\n        var _this = this;\n        if (this.props.reference) {\n            return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n                h(MultibancoVoucherResult, __assign({ ref: this.handleRef }, this.props))));\n        }\n        if (this.props.showPayButton) {\n            return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n                h(RedirectButton, { name: this.displayName, amount: this.props.amount, payButton: this.payButton, onSubmit: this.submit, ref: function (ref) {\n                        _this.componentRef = ref;\n                    } })));\n        }\n        return null;\n    };\n    MultibancoElement.type = 'multibanco';\n    MultibancoElement.defaultProps = { showPayButton: true };\n    return MultibancoElement;\n}(UIElement));\nexport { MultibancoElement };\nexport default MultibancoElement;\n","import { __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar DotpayElement = /** @class */ (function (_super) {\n    __extends(DotpayElement, _super);\n    function DotpayElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DotpayElement.type = 'dotpay';\n    return DotpayElement;\n}(IssuerListContainer));\nexport default DotpayElement;\n","import { __assign, __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar EPSElement = /** @class */ (function (_super) {\n    __extends(EPSElement, _super);\n    function EPSElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EPSElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, _super.prototype.formatProps.call(this, props)), { showImage: false });\n    };\n    EPSElement.type = 'eps';\n    return EPSElement;\n}(IssuerListContainer));\nexport default EPSElement;\n","import { __assign, __extends, __spreadArrays } from \"tslib\";\nimport { Component, h } from 'preact';\nimport classNames from 'classnames';\nimport SecuredFieldsProvider from '../../../components/internal/SecuredFields/SecuredFieldsProvider';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport Field from '../../internal/FormFields/Field';\nvar Giftcard = /** @class */ (function (_super) {\n    __extends(Giftcard, _super);\n    function Giftcard() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            status: 'ready',\n            data: {},\n            focusedElement: false,\n            isValid: false\n        };\n        _this.onChange = function (sfpState) {\n            _this.props.onChange({\n                data: sfpState.data,\n                isValid: sfpState.isSfpValid\n            });\n        };\n        _this.showValidation = function () {\n            _this.sfp.showValidation();\n        };\n        _this.handleFocus = function (e) {\n            _this.setState({ focusedElement: e.currentFocusObject });\n            var isFocused = e.focus === true;\n            if (isFocused) {\n                _this.props.onFocus(e);\n            }\n            else {\n                _this.props.onBlur(e);\n            }\n        };\n        _this.handleSecuredFieldsRef = function (ref) {\n            _this.sfp = ref;\n        };\n        return _this;\n    }\n    Giftcard.prototype.setStatus = function (status) {\n        this.setState({ status: status });\n    };\n    Giftcard.prototype.render = function (props, _a) {\n        var focusedElement = _a.focusedElement;\n        var i18n = useCoreContext().i18n;\n        return (h(\"div\", { className: \"adyen-checkout__giftcard\" },\n            h(SecuredFieldsProvider, __assign({}, this.props, { ref: this.handleSecuredFieldsRef, onChange: this.onChange, onFocus: this.handleFocus, type: 'giftcard', render: function (_a, sfpState) {\n                    var setRootNode = _a.setRootNode, setFocusOn = _a.setFocusOn;\n                    return (h(\"div\", { ref: setRootNode, className: \"adyen-checkout__field-wrapper\" },\n                        h(Field, { label: i18n.get('creditCard.numberField.title'), classNameModifiers: __spreadArrays(['number'], (props.pinRequired ? ['70'] : ['100'])), errorMessage: sfpState.errors.encryptedCardNumber && i18n.get('creditCard.numberField.invalid'), focused: focusedElement === 'encryptedCardNumber', onFocusField: function () { return setFocusOn('encryptedCardNumber'); } },\n                            h(\"span\", { \"data-cse\": \"encryptedCardNumber\", \"data-info\": '{\"length\":\"15-22\", \"maskInterval\":4}', className: classNames({\n                                    'adyen-checkout__input': true,\n                                    'adyen-checkout__input--large': true,\n                                    'adyen-checkout__card__cardNumber__input': true,\n                                    'adyen-checkout__input--error': sfpState.errors.encryptedCardNumber,\n                                    'adyen-checkout__input--focus': focusedElement === 'encryptedCardNumber'\n                                }) })),\n                        props.pinRequired && (h(Field, { label: i18n.get('creditCard.pin.title'), classNameModifiers: ['pin', '30'], errorMessage: sfpState.errors.encryptedSecurityCode, focused: focusedElement === 'encryptedSecurityCode', onFocusField: function () { return setFocusOn('encryptedSecurityCode'); } },\n                            h(\"span\", { \"data-cse\": \"encryptedSecurityCode\", \"data-info\": '{\"length\":\"3-10\", \"maskInterval\": 0}', className: classNames({\n                                    'adyen-checkout__input': true,\n                                    'adyen-checkout__input--large': true,\n                                    'adyen-checkout__card__cvc__input': true,\n                                    'adyen-checkout__input--error': sfpState.errors.encryptedCardNumber,\n                                    'adyen-checkout__input--focus': focusedElement === 'encryptedSecurityCode'\n                                }) })))));\n                } })),\n            this.props.showPayButton && this.props.payButton({ status: this.state.status, label: i18n.get('applyGiftcard') })));\n    };\n    Giftcard.defaultProps = {\n        pinRequired: true,\n        onChange: function () { },\n        onFocus: function () { },\n        onBlur: function () { }\n    };\n    return Giftcard;\n}(Component));\nexport default Giftcard;\n","import { __rest } from \"tslib\";\nimport { h } from 'preact';\nimport './GiftcardResult.scss';\nimport getImage from '../../../utils/get-image';\nfunction GiftcardResult(_a) {\n    var i18n = _a.i18n, loadingContext = _a.loadingContext, paymentMethodType = _a.paymentMethodType, props = __rest(_a, [\"i18n\", \"loadingContext\", \"paymentMethodType\"]);\n    return (h(\"div\", { className: \"adyen-checkout__giftcard-result\" },\n        h(\"div\", { className: \"adyen-checkout__giftcard-result__header\" },\n            h(\"div\", { className: \"adyen-checkout__giftcard-result__header__title\" },\n                h(\"span\", { className: \"adyen-checkout__payment-method__image__wrapper adyen-checkout__payment-method__image__wrapper--loaded\" },\n                    h(\"img\", { alt: paymentMethodType, className: \"adyen-checkout__payment-method__image\", src: getImage({ loadingContext: loadingContext })(paymentMethodType) })),\n                h(\"span\", { className: \"adyen-checkout__giftcard-result__name\", \"aria-hidden\": \"true\" },\n                    \"\\u2022\\u2022\\u2022\\u2022 \",\n                    props.lastFour))),\n        h(\"ul\", { className: \"adyen-checkout__giftcard-result__balance\" },\n            h(\"li\", { className: \"adyen-checkout__giftcard-result__balance__item\" },\n                h(\"span\", { className: \"adyen-checkout__giftcard-result__balance__title\" }, \"Deducted amount:\"),\n                h(\"span\", { className: \"adyen-checkout__giftcard-result__balance__value adyen-checkout__giftcard-result__balance__value--amount\" }, i18n.amount(props.deductedAmount.value, props.deductedAmount.currencyCode))),\n            h(\"li\", { className: \"adyen-checkout__giftcard-result__balance__item adyen-checkout__giftcard-result__balance__item--remaining-balance\" },\n                h(\"span\", { className: \"adyen-checkout__giftcard-result__balance__title\" }, \"Remaining balance:\"),\n                h(\"span\", { className: \"adyen-checkout__giftcard-result__balance__value\" }, i18n.amount(props.remainingBalance.value, props.remainingBalance.currencyCode))))));\n}\nexport default GiftcardResult;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport GiftcardInput from './components/GiftcardInput';\nimport GiftcardResult from './components/GiftcardResult';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport getImage from '../../utils/get-image';\nvar GiftcardElement = /** @class */ (function (_super) {\n    __extends(GiftcardElement, _super);\n    function GiftcardElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GiftcardElement.prototype.formatProps = function (props) {\n        return props;\n    };\n    /**\n     * Formats the component data output\n     */\n    GiftcardElement.prototype.formatData = function () {\n        return {\n            paymentMethod: __assign({ type: this.props.type }, this.state.data)\n        };\n    };\n    Object.defineProperty(GiftcardElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GiftcardElement.prototype, \"icon\", {\n        get: function () {\n            return getImage({ loadingContext: this.props.loadingContext })(this.props.type);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GiftcardElement.prototype, \"displayName\", {\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GiftcardElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext }, this.props.remainingBalance ? (h(GiftcardResult, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            } }, this.props))) : (h(GiftcardInput, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            } }, this.props, { onChange: this.setState, payButton: this.payButton })))));\n    };\n    GiftcardElement.type = 'genericgiftcard';\n    return GiftcardElement;\n}(UIElement));\nexport { GiftcardElement };\nexport default GiftcardElement;\n","import { __extends } from \"tslib\";\nimport RedirectElement from '../Redirect';\nvar VippsElement = /** @class */ (function (_super) {\n    __extends(VippsElement, _super);\n    function VippsElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VippsElement.type = 'vipps';\n    VippsElement.defaultProps = {\n        type: VippsElement.type,\n        showPayButton: true,\n        name: 'Vipps'\n    };\n    return VippsElement;\n}(RedirectElement));\nexport default VippsElement;\n","import { __assign, __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar PayuNetCashcardElement = /** @class */ (function (_super) {\n    __extends(PayuNetCashcardElement, _super);\n    function PayuNetCashcardElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PayuNetCashcardElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, _super.prototype.formatProps.call(this, props)), { showImage: false });\n    };\n    PayuNetCashcardElement.type = 'payu_IN_cashcard';\n    return PayuNetCashcardElement;\n}(IssuerListContainer));\nexport default PayuNetCashcardElement;\n","import { __assign, __extends } from \"tslib\";\nimport IssuerListContainer from '../helpers/IssuerListContainer';\nvar PayuNetBankingElement = /** @class */ (function (_super) {\n    __extends(PayuNetBankingElement, _super);\n    function PayuNetBankingElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PayuNetBankingElement.prototype.formatProps = function (props) {\n        return __assign(__assign({}, _super.prototype.formatProps.call(this, props)), { showImage: false });\n    };\n    PayuNetBankingElement.type = 'payu_IN_nb';\n    return PayuNetBankingElement;\n}(IssuerListContainer));\nexport default PayuNetBankingElement;\n","import { __extends } from \"tslib\";\nimport OpenInvoiceContainer from '../helpers/OpenInvoiceContainer';\nvar RatePay = /** @class */ (function (_super) {\n    __extends(RatePay, _super);\n    function RatePay() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RatePay.type = 'ratepay';\n    return RatePay;\n}(OpenInvoiceContainer));\nexport default RatePay;\n","import { __assign, __extends } from \"tslib\";\nimport QRLoaderContainer from '../helpers/QRLoaderContainer';\nvar SwishElement = /** @class */ (function (_super) {\n    __extends(SwishElement, _super);\n    function SwishElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SwishElement.prototype.formatProps = function (props) {\n        return __assign({ shouldRedirectOnMobile: true, delay: 2000, countdownTime: 15, instructions: 'swish.pendingMessage' }, _super.prototype.formatProps.call(this, props));\n    };\n    SwishElement.type = 'swish';\n    return SwishElement;\n}(QRLoaderContainer));\nexport default SwishElement;\n","export default {\n    isDropin: true,\n    onReady: function () { },\n    onComplete: function () { },\n    onCancel: function () { },\n    onError: function () { },\n    onSelect: function () { },\n    onDisableStoredPaymentMethod: null,\n    onChange: function () { },\n    onSubmit: function () { },\n    onAdditionalDetails: function () { },\n    amount: {},\n    installmentOptions: {},\n    paymentMethodsConfiguration: {},\n    openFirstPaymentMethod: true,\n    openFirstStoredPaymentMethod: true,\n    showStoredPaymentMethods: true,\n    showPaymentMethods: true,\n    showRemoveStoredPaymentMethodButton: false,\n    showPayButton: true // show the default pay button\n};\n","import { h } from 'preact';\nvar PaymentMethodDetails = function (_a) {\n    var paymentMethodComponent = _a.paymentMethodComponent, isLoaded = _a.isLoaded;\n    if (paymentMethodComponent && isLoaded) {\n        return h(\"div\", { className: 'adyen-checkout__payment-method__details__content' }, paymentMethodComponent);\n    }\n    return null;\n};\nexport default PaymentMethodDetails;\n","import { h } from 'preact';\nimport Img from '../../../internal/Img';\nimport classNames from 'classnames';\nimport styles from '../DropinComponent.module.scss';\nvar PaymentMethodIcon = function (_a) {\n    var src = _a.src, name = _a.name, _b = _a.disabled, disabled = _b === void 0 ? false : _b;\n    return (h(\"span\", { className: classNames('adyen-checkout__payment-method__image__wrapper', styles['adyen-checkout__payment-method__image__wrapper'], {\n            'adyen-checkout__payment-method__image__wrapper--disabled': !!disabled\n        }), \"aria-hidden\": \"true\" },\n        h(Img, { className: \"adyen-checkout__payment-method__image \" + styles['adyen-checkout__payment-method__image'], src: src, alt: name, \"aria-label\": name, focusable: \"false\" })));\n};\nexport default PaymentMethodIcon;\n","import { h } from 'preact';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport classNames from 'classnames';\nimport './DisableOneClickConfirmation.scss';\nvar DisableOneClickConfirmation = function (_a) {\n    var id = _a.id, open = _a.open, onDisable = _a.onDisable, onCancel = _a.onCancel;\n    var i18n = useCoreContext().i18n;\n    return (h(\"div\", { id: id, \"aria-hidden\": !open, className: classNames({\n            'adyen-checkout__payment-method__disable-confirmation': true,\n            'adyen-checkout__payment-method__disable-confirmation--open': open\n        }) },\n        h(\"div\", { className: \"adyen-checkout__payment-method__disable-confirmation__content\" },\n            i18n.get('storedPaymentMethod.disable.confirmation'),\n            h(\"div\", { className: \"adyen-checkout__payment-method__disable-confirmation__buttons\" },\n                h(\"button\", { className: classNames('adyen-checkout__button', 'adyen-checkout__payment-method__disable-confirmation__button', 'adyen-checkout__payment-method__disable-confirmation__button--remove'), disabled: !open, onClick: onDisable }, i18n.get('storedPaymentMethod.disable.confirmButton')),\n                h(\"button\", { className: classNames('adyen-checkout__button', 'adyen-checkout__payment-method__disable-confirmation__button', 'adyen-checkout__payment-method__disable-confirmation__button--cancel'), disabled: !open, onClick: onCancel }, i18n.get('storedPaymentMethod.disable.cancelButton'))))));\n};\nexport default DisableOneClickConfirmation;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport classNames from 'classnames';\nimport PaymentMethodDetails from './PaymentMethodDetails';\nimport PaymentMethodIcon from './PaymentMethodIcon';\nimport DisableOneClickConfirmation from './DisableOneClickConfirmation';\nimport styles from '../DropinComponent.module.scss';\nimport './PaymentMethodItem.scss';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nvar PaymentMethodItem = /** @class */ (function (_super) {\n    __extends(PaymentMethodItem, _super);\n    function PaymentMethodItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            showDisableStoredPaymentMethodConfirmation: false\n        };\n        _this.isMouseDown = false;\n        _this.onFocus = function () {\n            // Prevent a focus event when the user is clicking with a mouse.\n            // TODO find a solution where we can remove this if-clause (and just call this.props.onSelect()) so that the screenreader reads the same \"stored card ends in...\" message for clicking on a PM as it does when tabbing between them\n            if (!_this.isMouseDown) {\n                _this.props.onSelect();\n            }\n        };\n        _this.onMouseDown = function () {\n            _this.isMouseDown = true;\n        };\n        _this.onMouseUp = function () {\n            _this.isMouseDown = false;\n        };\n        _this.toggleDisableConfirmation = function () {\n            _this.setState({ showDisableStoredPaymentMethodConfirmation: !_this.state.showDisableStoredPaymentMethodConfirmation });\n        };\n        _this.onDisableStoredPaymentMethod = function () {\n            _this.props.onDisableStoredPaymentMethod(_this.props.paymentMethod);\n            _this.toggleDisableConfirmation();\n        };\n        return _this;\n    }\n    PaymentMethodItem.prototype.componentDidMount = function () {\n        var _this = this;\n        this.props.paymentMethod.eventEmitter.on('brand', function (e) {\n            _this.setState({ activeBrand: e.brand });\n        });\n    };\n    PaymentMethodItem.prototype.componentWillUnmount = function () {\n        var _this = this;\n        this.props.paymentMethod.eventEmitter.off('brand', function (e) {\n            _this.setState({ activeBrand: e.brand });\n        });\n    };\n    PaymentMethodItem.prototype.render = function (_a, _b) {\n        var _c;\n        var paymentMethod = _a.paymentMethod, isSelected = _a.isSelected, isDisabling = _a.isDisabling, isLoaded = _a.isLoaded, isLoading = _a.isLoading, onSelect = _a.onSelect, standalone = _a.standalone;\n        var _d = _b.activeBrand, activeBrand = _d === void 0 ? null : _d;\n        var i18n = useCoreContext().i18n;\n        if (!paymentMethod) {\n            return null;\n        }\n        var paymentMethodClassnames = classNames((_c = {\n                'adyen-checkout__payment-method': true\n            },\n            _c[styles['adyen-checkout__payment-method']] = true,\n            _c[\"adyen-checkout__payment-method--\" + paymentMethod.props.type] = true,\n            _c['adyen-checkout__payment-method--selected'] = isSelected,\n            _c[styles['adyen-checkout__payment-method--selected']] = isSelected,\n            _c['adyen-checkout__payment-method--loading'] = isLoading,\n            _c['adyen-checkout__payment-method--disabling'] = isDisabling,\n            _c['adyen-checkout__payment-method--confirming'] = this.state.showDisableStoredPaymentMethodConfirmation,\n            _c['adyen-checkout__payment-method--standalone'] = standalone,\n            _c[styles['adyen-checkout__payment-method--loading']] = isLoading,\n            _c[paymentMethod.props.id] = true,\n            _c[this.props.className] = true,\n            _c));\n        var showRemovePaymentMethodButton = this.props.showRemovePaymentMethodButton && paymentMethod.props.oneClick && isSelected;\n        var disableConfirmationId = \"remove-\" + paymentMethod.props.id;\n        var showBrands = !paymentMethod.props.oneClick && paymentMethod.brands && paymentMethod.brands.length > 0;\n        return (h(\"li\", { key: paymentMethod.props.id, className: paymentMethodClassnames, onFocus: this.onFocus, onClick: onSelect, onMouseDown: this.onMouseDown, onMouseUp: this.onMouseUp, tabIndex: isLoading ? -1 : 0 },\n            h(\"div\", { className: \"adyen-checkout__payment-method__header\" },\n                h(\"div\", { className: \"adyen-checkout__payment-method__header__title\" },\n                    h(\"span\", { className: classNames({\n                            'adyen-checkout__payment-method__radio': true,\n                            'adyen-checkout__payment-method__radio--selected': isSelected\n                        }), \"aria-hidden\": \"true\" }),\n                    h(PaymentMethodIcon, { name: paymentMethod.props.name, src: paymentMethod.icon }),\n                    h(\"span\", { className: classNames({\n                            'adyen-checkout__payment-method__name': true,\n                            'adyen-checkout__payment-method__name--selected': isSelected\n                        }), \"aria-hidden\": \"true\" }, paymentMethod.displayName)),\n                showRemovePaymentMethodButton && (h(\"button\", { type: \"button\", className: \"adyen-checkout__button adyen-checkout__button--inline adyen-checkout__button--link\", onClick: this.toggleDisableConfirmation, \"aria-expanded\": this.state.showDisableStoredPaymentMethodConfirmation, \"aria-controls\": disableConfirmationId }, i18n.get('storedPaymentMethod.disable.button'))),\n                showBrands && (h(\"span\", { className: \"adyen-checkout__payment-method__brands\" }, paymentMethod.brands.map(function (brand) { return (h(PaymentMethodIcon, { key: brand.name, name: brand.name, disabled: activeBrand && brand.name !== activeBrand, src: brand.icon })); })))),\n            h(\"div\", { className: \"adyen-checkout__payment-method__details \" + styles['adyen-checkout__payment-method__details'] },\n                showRemovePaymentMethodButton && (h(DisableOneClickConfirmation, { id: disableConfirmationId, open: this.state.showDisableStoredPaymentMethodConfirmation, onDisable: this.onDisableStoredPaymentMethod, onCancel: this.toggleDisableConfirmation })),\n                h(PaymentMethodDetails, { paymentMethodComponent: paymentMethod.render(), isLoaded: isLoaded }))));\n    };\n    PaymentMethodItem.defaultProps = {\n        paymentMethod: null,\n        isSelected: false,\n        isLoaded: false,\n        isLoading: false,\n        showDisableStoredPaymentMethodConfirmation: false,\n        onSelect: function () { }\n    };\n    return PaymentMethodItem;\n}(Component));\nexport default PaymentMethodItem;\n","import { __extends } from \"tslib\";\nimport { Component, h } from 'preact';\nimport classNames from 'classnames';\nimport PaymentMethodItem from './PaymentMethodItem';\nimport getProp from '../../../../utils/getProp';\nimport styles from '../DropinComponent.module.scss';\nvar PaymentMethodList = /** @class */ (function (_super) {\n    __extends(PaymentMethodList, _super);\n    function PaymentMethodList() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onSelect = function (paymentMethod) { return function () { return _this.props.onSelect(paymentMethod); }; };\n        return _this;\n    }\n    PaymentMethodList.prototype.componentDidMount = function () {\n        // Open first PaymentMethodItem\n        if (this.props.paymentMethods[0]) {\n            var firstPaymentMethod = this.props.paymentMethods[0];\n            var shouldOpenFirstStored = this.props.openFirstStoredPaymentMethod && getProp(firstPaymentMethod, 'props.oneClick') === true;\n            var shouldOpenFirstPaymentMethod = shouldOpenFirstStored || this.props.openFirstPaymentMethod;\n            if (shouldOpenFirstPaymentMethod) {\n                this.onSelect(firstPaymentMethod)();\n            }\n        }\n    };\n    PaymentMethodList.prototype.render = function (_a) {\n        var _b;\n        var _this = this;\n        var paymentMethods = _a.paymentMethods, activePaymentMethod = _a.activePaymentMethod, cachedPaymentMethods = _a.cachedPaymentMethods, isLoading = _a.isLoading;\n        var paymentMethodListClassnames = classNames((_b = {},\n            _b[styles['adyen-checkout__payment-methods-list']] = true,\n            _b['adyen-checkout__payment-methods-list'] = true,\n            _b['adyen-checkout__payment-methods-list--loading'] = isLoading,\n            _b));\n        return (h(\"ul\", { className: paymentMethodListClassnames }, paymentMethods.map(function (paymentMethod, index, paymentMethodsCollection) {\n            var isSelected = activePaymentMethod && activePaymentMethod.props.id === paymentMethod.props.id;\n            var isLoaded = paymentMethod.props.id in cachedPaymentMethods;\n            var isNextOneSelected = activePaymentMethod &&\n                paymentMethodsCollection[index + 1] &&\n                activePaymentMethod.props.id === paymentMethodsCollection[index + 1].props.id;\n            return (h(PaymentMethodItem, { className: classNames({ 'adyen-checkout__payment-method--next-selected': isNextOneSelected }), standalone: paymentMethods.length === 1, paymentMethod: paymentMethod, isSelected: isSelected, isDisabling: isSelected && _this.props.isDisabling, isLoaded: isLoaded, isLoading: isLoading, onSelect: _this.onSelect(paymentMethod), key: paymentMethod.props.id, showRemovePaymentMethodButton: _this.props.showRemovePaymentMethodButton, onDisableStoredPaymentMethod: _this.props.onDisableStoredPaymentMethod }));\n        })));\n    };\n    PaymentMethodList.defaultProps = {\n        paymentMethods: [],\n        activePaymentMethod: null,\n        cachedPaymentMethods: {},\n        onSelect: function () { },\n        onDisableStoredPaymentMethod: function () { },\n        isDisabling: false,\n        isLoading: false\n    };\n    return PaymentMethodList;\n}(Component));\nexport default PaymentMethodList;\n","// filter payment methods that we support (that are in the paymentMethods/index dictionary)\nexport var filterPresent = function (paymentMethod) { return !!paymentMethod; };\n// filter payment methods that are available to the user\nexport var filterAvailable = function (paymentMethod) {\n    if (paymentMethod.isAvailable) {\n        var timeout = new Promise(function (resolve, reject) { return setTimeout(reject, 5000); });\n        return Promise.race([paymentMethod.isAvailable(), timeout]);\n    }\n    return Promise.resolve(!!paymentMethod);\n};\n","import { __assign } from \"tslib\";\nimport { getComponent, getComponentConfiguration } from '../..';\nimport { filterPresent, filterAvailable } from './filters';\nvar FALLBACK_COMPONENT = 'redirect';\n/**\n * Returns a filtered (available) list of component Elements\n * @param components - Array of PaymentMethod objects from the /paymentMethods response\n * @param props - High level props to be passed through to every component (as defined in utils/getCommonsProps)\n * @param componentsConfig - Specific config defined per payment method (where key is the name of the component)\n */\nvar createElements = function (components, props, componentsConfig) {\n    if (components === void 0) { components = []; }\n    if (componentsConfig === void 0) { componentsConfig = {}; }\n    var createElement = function (component) {\n        // Merge:\n        // 1. props defined on the PaymentMethod in the response object\n        // 2. the high level (Checkout) props\n        // 3. specific config for this element (as defined in the paymentMethodsConfiguration object when checkout.create('dropin') is called)\n        var componentProps = __assign(__assign(__assign(__assign({}, component), props), getComponentConfiguration(component.type, componentsConfig)), { isDropin: true });\n        var componentInstance = getComponent(component.type, componentProps);\n        // Fallback to redirect if payment method not available and no details are required\n        if (!componentInstance && !component.details) {\n            componentInstance = getComponent(FALLBACK_COMPONENT, componentProps);\n        }\n        return componentInstance;\n    };\n    var elements = components.map(createElement).filter(filterPresent);\n    var elementPromises = elements.map(filterAvailable).map(function (p) { return p.catch(function (e) { return e; }); });\n    return Promise.all(elementPromises).then(function (values) { return elements.filter(function (el, i) { return values[i] === true; }); });\n};\nexport default createElements;\n","import { __assign } from \"tslib\";\nimport createElements from './createElements';\n/**\n *  Returns a filtered (available) list of oneClick paymentMethod Elements\n * @param paymentMethods -\n * @param props - Props to be passed through to every paymentMethod\n * @param paymentMethodsConfig - Specific config per payment method (where key is the name of the paymentMethod)\n */\nvar createStoredElements = function (paymentMethods, props, paymentMethodsConfig) {\n    if (paymentMethods === void 0) { paymentMethods = []; }\n    if (paymentMethodsConfig === void 0) { paymentMethodsConfig = {}; }\n    return createElements(paymentMethods, __assign(__assign({}, props), { oneClick: true }), paymentMethodsConfig);\n};\nexport default createStoredElements;\n","import { h } from 'preact';\nimport { getImageUrl } from '../../../../utils/get-image';\nimport Img from '../../../internal/Img';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nvar Success = function (_a) {\n    var message = _a.message;\n    var _b = useCoreContext(), i18n = _b.i18n, loadingContext = _b.loadingContext;\n    return (h(\"div\", { className: \"adyen-checkout__status adyen-checkout__status--success\" },\n        h(Img, { height: \"88\", className: \"adyen-checkout__status__icon\", src: getImageUrl({ loadingContext: loadingContext, imageFolder: 'components/' })('success'), alt: i18n.get(message || 'creditCard.success') }),\n        h(\"span\", { className: \"adyen-checkout__status__text\" }, i18n.get(message || 'creditCard.success'))));\n};\nexport default Success;\n","import { h } from 'preact';\nimport { getImageUrl } from '../../../../utils/get-image';\nimport Img from '../../../internal/Img';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nvar Error = function (_a) {\n    var message = _a.message;\n    var _b = useCoreContext(), loadingContext = _b.loadingContext, i18n = _b.i18n;\n    return (h(\"div\", { className: \"adyen-checkout__status adyen-checkout__status--error\" },\n        h(Img, { className: \"adyen-checkout__status__icon\", src: getImageUrl({ loadingContext: loadingContext, imageFolder: 'components/' })('error'), alt: i18n.get(message || 'error.message.unknown'), height: \"88\" }),\n        h(\"span\", { className: \"adyen-checkout__status__text\" }, i18n.get(message || 'error.message.unknown'))));\n};\nexport default Error;\n","import Success from './Success';\nimport Error from './Error';\nimport './Status.scss';\nexport default {\n    Success: Success,\n    Error: Error\n};\n","import { __assign, __extends, __spreadArrays } from \"tslib\";\nimport { Component, h } from 'preact';\nimport PaymentMethodList from './PaymentMethod/PaymentMethodList';\nimport { createElements, createStoredElements } from '../elements';\nimport { getCommonProps } from './utils';\nimport Status from './status';\nimport getProp from '../../../utils/getProp';\nimport './DropinComponent.scss';\nvar DropinComponent = /** @class */ (function (_super) {\n    __extends(DropinComponent, _super);\n    function DropinComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            elements: [],\n            isDisabling: false,\n            status: { type: 'loading' },\n            activePaymentMethod: null,\n            cachedPaymentMethods: {}\n        };\n        _this.setStatus = function (status) {\n            _this.setState({ status: status });\n        };\n        _this.setActivePaymentMethod = function (paymentMethod) {\n            _this.setState(function (prevState) {\n                var _a;\n                return ({\n                    activePaymentMethod: paymentMethod,\n                    cachedPaymentMethods: __assign(__assign({}, prevState.cachedPaymentMethods), (_a = {}, _a[paymentMethod.props.id] = true, _a))\n                });\n            });\n        };\n        _this.handleOnSelectPaymentMethod = function (paymentMethod) {\n            var activePaymentMethod = _this.state.activePaymentMethod;\n            _this.setActivePaymentMethod(paymentMethod);\n            // onSelect event\n            if ((activePaymentMethod && activePaymentMethod.props.id !== paymentMethod.props.id) || !activePaymentMethod) {\n                _this.props.onSelect(paymentMethod);\n            }\n        };\n        _this.handleDisableStoredPaymentMethod = function (storedPaymentMethod) {\n            _this.setState({ isDisabling: true });\n            new Promise(function (resolve, reject) { return _this.props.onDisableStoredPaymentMethod(storedPaymentMethod, resolve, reject); })\n                .then(function () {\n                _this.setState(function (prevState) { return ({ elements: prevState.elements.filter(function (pm) { return pm.props.id !== storedPaymentMethod.props.id; }) }); });\n                _this.setState({ isDisabling: false });\n            })\n                .catch(function () {\n                _this.setState({ isDisabling: false });\n            });\n        };\n        return _this;\n    }\n    DropinComponent.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, paymentMethodsConfiguration = _a.paymentMethodsConfiguration, paymentMethods = _a.paymentMethods, storedPaymentMethods = _a.storedPaymentMethods;\n        var commonProps = getCommonProps(this.props);\n        var storedElementsPromises = this.props.showStoredPaymentMethods\n            ? createStoredElements(storedPaymentMethods, commonProps, paymentMethodsConfiguration)\n            : [];\n        var elementsPromises = this.props.showPaymentMethods ? createElements(paymentMethods, commonProps, paymentMethodsConfiguration) : [];\n        Promise.all([storedElementsPromises, elementsPromises]).then(function (_a) {\n            var storedElements = _a[0], elements = _a[1];\n            _this.setState({ elements: __spreadArrays(storedElements, elements) });\n            _this.setStatus({ type: 'ready' });\n            if (_this.props.modules.analytics) {\n                _this.props.modules.analytics.send({\n                    containerWidth: _this.base && _this.base.offsetWidth,\n                    paymentMethods: elements.map(function (e) { return e.props.type; }),\n                    component: 'dropin',\n                    flavor: 'dropin'\n                });\n            }\n        });\n    };\n    DropinComponent.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (prevState.status.type !== this.state.status.type && this.state.activePaymentMethod) {\n            this.state.activePaymentMethod.setStatus(this.state.status.type);\n        }\n        if (this.state.status.type === 'ready' && prevState.status.type !== 'ready' && this.props.onReady) {\n            this.props.onReady();\n        }\n    };\n    DropinComponent.prototype.closeActivePaymentMethod = function () {\n        this.setState({ activePaymentMethod: null });\n    };\n    DropinComponent.prototype.render = function (props, _a) {\n        var elements = _a.elements, status = _a.status, activePaymentMethod = _a.activePaymentMethod, cachedPaymentMethods = _a.cachedPaymentMethods;\n        var isLoading = status.type === 'loading';\n        var isRedirecting = status.type === 'redirect';\n        switch (status.type) {\n            case 'success':\n                return h(Status.Success, { message: getProp(status, 'props.message') || null });\n            case 'error':\n                return h(Status.Error, { message: getProp(status, 'props.message') || null });\n            case 'custom':\n                return status.props.component.render();\n            default:\n                return (h(\"div\", { className: \"adyen-checkout__dropin adyen-checkout__dropin--\" + status.type },\n                    isRedirecting && status.props.component && status.props.component.render(),\n                    isLoading && status.props && status.props.component && status.props.component.render(),\n                    elements && !!elements.length && (h(PaymentMethodList, { isLoading: isLoading || isRedirecting, isDisabling: this.state.isDisabling, paymentMethods: elements, activePaymentMethod: activePaymentMethod, cachedPaymentMethods: cachedPaymentMethods, onSelect: this.handleOnSelectPaymentMethod, openFirstPaymentMethod: this.props.openFirstPaymentMethod, openFirstStoredPaymentMethod: this.props.openFirstStoredPaymentMethod, onDisableStoredPaymentMethod: this.handleDisableStoredPaymentMethod, showRemovePaymentMethodButton: this.props.showRemovePaymentMethodButton }))));\n        }\n    };\n    return DropinComponent;\n}(Component));\nexport { DropinComponent };\nexport default DropinComponent;\n","export function getCommonProps(props) {\n    return {\n        amount: props.amount,\n        countryCode: props.countryCode,\n        elementRef: props.elementRef,\n        environment: props.environment,\n        i18n: props.i18n,\n        installmentOptions: props.installmentOptions,\n        loadingContext: props.loadingContext,\n        modules: props.modules,\n        onAdditionalDetails: props.onAdditionalDetails,\n        onCancel: props.onCancel,\n        onChange: props.onChange,\n        onError: props.onError,\n        onSubmit: props.onSubmit,\n        originKey: props.originKey,\n        clientKey: props.clientKey,\n        showPayButton: props.showPayButton\n    };\n}\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport defaultProps from './defaultProps';\nimport DropinComponent from '../../components/Dropin/components/DropinComponent';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport { getComponentConfiguration } from '../index';\nvar DropinElement = /** @class */ (function (_super) {\n    __extends(DropinElement, _super);\n    function DropinElement(props) {\n        var _this = _super.call(this, props) || this;\n        _this.dropinRef = null;\n        _this.handleSubmit = function () {\n            var _a = _this.activePaymentMethod, data = _a.data, isValid = _a.isValid;\n            if (!isValid) {\n                _this.showValidation();\n                return false;\n            }\n            return _this.props.onSubmit({ data: data, isValid: isValid }, _this);\n        };\n        _this.submit = _this.submit.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(DropinElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.dropinRef && !!this.dropinRef.state.activePaymentMethod && !!this.dropinRef.state.activePaymentMethod.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DropinElement.prototype.showValidation = function () {\n        if (this.dropinRef.state.activePaymentMethod) {\n            this.dropinRef.state.activePaymentMethod.showValidation();\n        }\n        return this;\n    };\n    DropinElement.prototype.setStatus = function (status, props) {\n        if (props === void 0) { props = {}; }\n        this.dropinRef.setStatus({ type: status, props: props });\n        return this;\n    };\n    Object.defineProperty(DropinElement.prototype, \"activePaymentMethod\", {\n        get: function () {\n            if (!this.dropinRef.state && !this.dropinRef.state.activePaymentMethod) {\n                return null;\n            }\n            return this.dropinRef.state.activePaymentMethod;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DropinElement.prototype, \"data\", {\n        get: function () {\n            if (!this.activePaymentMethod) {\n                return null;\n            }\n            return this.dropinRef.state.activePaymentMethod.data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Calls the onSubmit event with the state of the activePaymentMethod\n     */\n    DropinElement.prototype.submit = function () {\n        var _this = this;\n        if (!this.activePaymentMethod) {\n            throw new Error('No active payment method.');\n        }\n        this.activePaymentMethod\n            .startPayment()\n            .then(this.handleSubmit)\n            .catch(function (error) { return _this.props.onError(error); });\n    };\n    DropinElement.prototype.handleAction = function (action) {\n        var _this = this;\n        if (!action || !action.type)\n            throw new Error('Invalid Action');\n        if (this.activePaymentMethod.updateWithAction) {\n            return this.activePaymentMethod.updateWithAction(action);\n        }\n        // Extract desired props that we need to pass on from the pmConfiguration for this particular PM\n        var pmConfig = getComponentConfiguration(action.paymentMethodType, this.props.paymentMethodsConfiguration);\n        var paymentAction = this.props.createFromAction(action, __assign({ isDropin: true, onAdditionalDetails: function (state) { return _this.props.onAdditionalDetails(state, _this); }, onError: this.props.onError }, ((pmConfig === null || pmConfig === void 0 ? void 0 : pmConfig.onError) && { onError: pmConfig.onError }) // Overwrite ref to onError in case the merchant has defined one in the pmConfig options\n        ));\n        if (paymentAction) {\n            return this.setStatus(paymentAction.props.statusType, { component: paymentAction });\n        }\n        return null;\n    };\n    DropinElement.prototype.closeActivePaymentMethod = function () {\n        this.dropinRef.closeActivePaymentMethod();\n    };\n    DropinElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(DropinComponent, __assign({}, this.props, { onChange: this.setState, onSubmit: this.handleSubmit, elementRef: this.elementRef, ref: function (dropinRef) {\n                    _this.dropinRef = dropinRef;\n                } }))));\n    };\n    DropinElement.type = 'dropin';\n    DropinElement.defaultProps = defaultProps;\n    return DropinElement;\n}(UIElement));\nexport default DropinElement;\n","import { h } from 'preact';\nimport classNames from 'classnames';\nimport styles from '../AchInput.module.scss';\nimport Field from '../../../../internal/FormFields/Field';\nvar AchSFInput = function (_a) {\n    var _b;\n    var id = _a.id, dataInfo = _a.dataInfo, _c = _a.className, className = _c === void 0 ? '' : _c, label = _a.label, focused = _a.focused, filled = _a.filled, _d = _a.errorMessage, errorMessage = _d === void 0 ? '' : _d, _e = _a.isValid, isValid = _e === void 0 ? false : _e, onFocusField = _a.onFocusField;\n    var capitalisedId = id.charAt(0).toUpperCase() + id.slice(1);\n    var encryptedIdStr = \"encrypted\" + capitalisedId;\n    return (h(Field, { label: label, focused: focused, filled: filled, classNameModifiers: [id], onFocusField: function () { return onFocusField(encryptedIdStr); }, errorMessage: errorMessage, isValid: isValid, className: className },\n        h(\"span\", { \"data-cse\": encryptedIdStr, \"data-info\": dataInfo, className: classNames((_b = {\n                    'adyen-checkout__input': true,\n                    'adyen-checkout__input--large': true\n                },\n                _b[styles['adyen-checkout__input']] = true,\n                _b['adyen-checkout__input--error'] = errorMessage.length,\n                _b['adyen-checkout__input--focus'] = focused,\n                _b['adyen-checkout__input--valid'] = isValid,\n                _b)) })));\n};\nexport default AchSFInput;\n","import { h } from 'preact';\nimport AchSFInput from './AchSFInput';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nvar AchSecuredFields = function (_a) {\n    var focusedElement = _a.focusedElement, onFocusField = _a.onFocusField, errors = _a.errors, valid = _a.valid;\n    var i18n = useCoreContext().i18n;\n    return (h(\"div\", { className: \"adyen-checkout__ach-sf__form adyen-checkout__field-wrapper\" },\n        h(AchSFInput, { id: \"bankAccountNumber\", focused: focusedElement === 'encryptedBankAccountNumber', isValid: !!valid.encryptedBankAccountNumber, label: i18n.get('ach.accountNumberField.title'), onFocusField: onFocusField, filled: !!errors.encryptedBankAccountNumber || !!valid.encryptedBankAccountNumber, errorMessage: !!errors.encryptedBankAccountNumber && i18n.get('ach.accountNumberField.invalid'), dataInfo: '{\"length\":\"4-17\", \"maskInterval\": 4}', className: 'adyen-checkout__field--50' }),\n        h(AchSFInput, { id: \"bankLocationId\", focused: focusedElement === 'encryptedBankLocationId', isValid: !!valid.encryptedBankLocationId, label: i18n.get('ach.accountLocationField.title'), onFocusField: onFocusField, filled: !!errors.encryptedBankLocationId || !!valid.encryptedBankLocationId, errorMessage: !!errors.encryptedBankLocationId && i18n.get('ach.accountLocationField.invalid'), dataInfo: '{\"length\":9}', className: 'adyen-checkout__field--50' })));\n};\nexport default AchSecuredFields;\n","export default {\n    base: {\n        caretColor: '#0066FF'\n    }\n};\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect, useRef } from 'preact/hooks';\nimport classNames from 'classnames';\nimport AchSecuredFields from './components/AchSecuredFields';\nimport SecuredFieldsProvider from '../../../../components/internal/SecuredFields/SecuredFieldsProvider';\nimport Address from '../../../internal/Address';\nimport { renderFormField } from '../../../internal/FormFields';\nimport Field from '../../../internal/FormFields/Field';\nimport LoadingWrapper from '../../../internal/LoadingWrapper/LoadingWrapper';\nimport defaultProps from './defaultProps';\nimport defaultStyles from './defaultStyles';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport styles from './AchInput.module.scss';\nimport './AchInput.scss';\nfunction validateHolderName(holderName, holderNameRequired) {\n    if (holderNameRequired === void 0) { holderNameRequired = false; }\n    if (holderNameRequired) {\n        return !!holderName && typeof holderName === 'string' && holderName.trim().length > 0;\n    }\n    return true;\n}\nfunction AchInput(props) {\n    var _this = this;\n    var i18n = useCoreContext().i18n;\n    var holderNameIsValid = props.hasHolderName && (props.holderName || props.data.holderName);\n    var _a = useState({}), errors = _a[0], setErrors = _a[1];\n    var _b = useState(__assign({}, (props.holderNameRequired && { holderName: holderNameIsValid }))), valid = _b[0], setValid = _b[1];\n    var _c = useState(__assign({}, (props.hasHolderName && { holderName: props.holderName || props.data.holderName }))), data = _c[0], setData = _c[1];\n    var _d = useState(props.billingAddressRequired ? props.data.billingAddress : null), billingAddress = _d[0], setBillingAddress = _d[1];\n    var _e = useState(false), isSfpValid = _e[0], setIsSfpValid = _e[1];\n    var _f = useState(''), focusedElement = _f[0], setFocusedElement = _f[1];\n    var handleFocus = function (e) {\n        var isFocused = e.focus === true;\n        setFocusedElement(e.currentFocusObject);\n        if (isFocused) {\n            props.onFocus(e);\n        }\n        else {\n            props.onBlur(e);\n        }\n    };\n    var handleAddress = function (address) {\n        setBillingAddress(__assign(__assign({}, billingAddress), address.data));\n        setValid(__assign(__assign({}, valid), { billingAddress: address.isValid }));\n    };\n    var handleHolderName = function (e) {\n        var holderName = e.target.value;\n        setData(__assign(__assign({}, data), { holderName: holderName }));\n        setErrors(__assign(__assign({}, errors), { holderName: props.holderNameRequired ? !validateHolderName(holderName) : false }));\n        setValid(__assign(__assign({}, valid), { holderName: props.holderNameRequired ? validateHolderName(holderName, props.holderNameRequired) : true }));\n    };\n    var handleSecuredFieldsChange = function (newState) {\n        var sfState = newState;\n        var tempHolderName = sfState.autoCompleteName ? sfState.autoCompleteName : data.holderName;\n        setData(__assign(__assign(__assign({}, data), sfState.data), { holderName: tempHolderName }));\n        setErrors(__assign(__assign({}, errors), sfState.errors));\n        setValid(__assign(__assign(__assign({}, valid), sfState.valid), { holderName: props.holderNameRequired ? validateHolderName(tempHolderName, props.holderNameRequired) : true }));\n        setIsSfpValid(sfState.isSfpValid);\n    };\n    // Refs\n    var sfp = useRef(null);\n    var billingAddressRef = useRef(null);\n    var _g = useState('ready'), status = _g[0], setStatus = _g[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    this.showValidation = function () {\n        // Validate SecuredFields\n        sfp.current.showValidation();\n        // Validate holderName\n        if (props.holderNameRequired && !valid.holderName) {\n            setErrors(__assign(__assign({}, errors), { holderName: true }));\n        }\n        // Validate Address\n        if (billingAddressRef.current)\n            billingAddressRef.current.showValidation();\n    };\n    useEffect(function () {\n        _this.setFocusOn = sfp.current.setFocusOn;\n        _this.updateStyles = sfp.current.updateStyles;\n        return function () {\n            sfp.current.destroy();\n        };\n    }, []);\n    // Run when state.data, -errors or -valid change\n    useEffect(function () {\n        // Validate whole component i.e holderName + securedFields + address\n        var holderNameValid = validateHolderName(data.holderName, props.holderNameRequired);\n        var sfpValid = isSfpValid;\n        var billingAddressValid = props.billingAddressRequired ? Boolean(valid.billingAddress) : true;\n        var isValid = sfpValid && holderNameValid && billingAddressValid;\n        props.onChange({ data: data, isValid: isValid, billingAddress: billingAddress });\n    }, [data, valid, errors]);\n    return (h(\"div\", { className: \"adyen-checkout__ach\" },\n        h(SecuredFieldsProvider, __assign({ ref: sfp }, props, { styles: __assign(__assign({}, defaultStyles), props.styles), onChange: handleSecuredFieldsChange, onFocus: handleFocus, render: function (_a, sfpState) {\n                var setRootNode = _a.setRootNode, setFocusOn = _a.setFocusOn;\n                return (h(\"div\", { ref: setRootNode, className: \"adyen-checkout__ach-input \" + styles['sf-input__wrapper'] },\n                    h(LoadingWrapper, { status: sfpState.status },\n                        h(\"div\", { className: classNames(['adyen-checkout__fieldset', 'adyen-checkout__fieldset--ach']) },\n                            h(\"div\", { className: \"adyen-checkout__fieldset__title\" }, i18n.get('ach.bankAccount')),\n                            props.hasHolderName && (h(Field, { label: i18n.get('ach.accountHolderNameField.title'), className: 'adyen-checkout__pm__holderName', errorMessage: !!errors.holderName && i18n.get('ach.accountHolderNameField.invalid'), isValid: !!valid.holderName }, renderFormField('text', {\n                                className: \"adyen-checkout__pm__holderName__input \" + styles['adyen-checkout__input'],\n                                placeholder: props.placeholders.holderName || i18n.get('ach.accountHolderNameField.placeholder'),\n                                value: data.holderName,\n                                required: props.holderNameRequired,\n                                onInput: handleHolderName\n                            }))),\n                            h(AchSecuredFields, { focusedElement: focusedElement, onFocusField: setFocusOn, errors: sfpState.errors, valid: sfpState.valid })),\n                        props.billingAddressRequired && (h(Address, { label: \"billingAddress\", data: billingAddress, onChange: handleAddress, allowedCountries: props.billingAddressAllowedCountries, requiredFields: props.billingAddressRequiredFields, ref: billingAddressRef })))));\n            } })),\n        props.showPayButton && props.payButton({ status: status, label: i18n.get('confirmPurchase') })));\n}\nAchInput.defaultProps = defaultProps;\nexport default AchInput;\n","export default {\n    details: [],\n    type: 'ach',\n    // Settings\n    hasHolderName: true,\n    holderNameRequired: true,\n    billingAddressRequired: true,\n    billingAddressAllowedCountries: ['US', 'PR'],\n    // Events\n    onLoad: function () { },\n    onConfigSuccess: function () { },\n    onAllValid: function () { },\n    onFieldValid: function () { },\n    onBrand: function () { },\n    onError: function () { },\n    onBinValue: function () { },\n    onBlur: function () { },\n    onFocus: function () { },\n    onChange: function () { },\n    originKey: null,\n    // Values\n    holderName: '',\n    data: {\n        holderName: '',\n        billingAddress: {}\n    },\n    // Customization\n    styles: {},\n    placeholders: {},\n    ariaLabels: {}\n};\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport AchInput from './components/AchInput';\nimport CoreProvider from '../../core/Context/CoreProvider';\nvar AchElement = /** @class */ (function (_super) {\n    __extends(AchElement, _super);\n    function AchElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AchElement.prototype.formatProps = function (props) {\n        var _a;\n        return __assign(__assign({}, props), { \n            // Fix mismatch between passed hasHolderName & holderNameRequired props\n            // (when holderNameRequired = true, but hasHolderName = false - which means component will never be valid)\n            holderNameRequired: (_a = props.hasHolderName) !== null && _a !== void 0 ? _a : props.holderNameRequired });\n    };\n    /**\n     * Formats the component data output\n     */\n    AchElement.prototype.formatData = function () {\n        var _a;\n        // Map holderName to ownerName\n        var paymentMethod = __assign(__assign({ type: AchElement.type }, this.state.data), { ownerName: (_a = this.state.data) === null || _a === void 0 ? void 0 : _a.holderName });\n        delete paymentMethod.holderName;\n        return __assign({ paymentMethod: paymentMethod }, (this.state.billingAddress && { billingAddress: this.state.billingAddress }));\n    };\n    AchElement.prototype.updateStyles = function (stylesObj) {\n        if (this.componentRef && this.componentRef.updateStyles)\n            this.componentRef.updateStyles(stylesObj);\n        return this;\n    };\n    AchElement.prototype.setFocusOn = function (fieldName) {\n        if (this.componentRef && this.componentRef.setFocusOn)\n            this.componentRef.setFocusOn(fieldName);\n        return this;\n    };\n    Object.defineProperty(AchElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AchElement.prototype, \"displayName\", {\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AchElement.prototype.render = function () {\n        var _this = this;\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(AchInput, __assign({ ref: function (ref) {\n                    _this.componentRef = ref;\n                } }, this.props, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton }))));\n    };\n    AchElement.type = 'ach';\n    return AchElement;\n}(UIElement));\nexport { AchElement };\nexport default AchElement;\n","var phoneNumberRegEx = /^[+]*[0-9]{1,4}[\\s/0-9]*$/;\nexport var mbwayValidationRules = {\n    input: {\n        telephoneNumber: function (num) {\n            // Format\n            var regEx = /[^0-9+\\s]/g;\n            var formattedVal = num.replace(regEx, '');\n            // Validate\n            var isValid = phoneNumberRegEx.test(formattedVal) && formattedVal && formattedVal.length >= 7;\n            return { isValid: isValid, value: formattedVal, showError: false };\n        },\n        default: function (value) { return value && value.length > 0; }\n    },\n    blur: {\n        telephoneNumber: function (num) {\n            // Just validate\n            return { isValid: phoneNumberRegEx.test(num) && num && num.length >= 7, value: num, showError: true };\n        },\n        default: function (value) { return value && value.length > 0; }\n    }\n};\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport classNames from 'classnames';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport Field from '../../../internal/FormFields/Field';\nimport { renderFormField } from '../../../internal/FormFields';\nimport { mbwayValidationRules } from './validate';\nimport Validator from '../../../../utils/Validator';\nimport './MBWayInput.scss';\nfunction MBWayInput(props) {\n    var i18n = useCoreContext().i18n;\n    var validator = new Validator(mbwayValidationRules);\n    var _a = useState(props.data), data = _a[0], setData = _a[1];\n    var _b = useState({}), errors = _b[0], setErrors = _b[1];\n    var _c = useState(__assign({}, (props.data.telephoneNumber && { telephoneNumber: validator.validate('telephoneNumber', 'input')(props.data.telephoneNumber).isValid }))), valid = _c[0], setValid = _c[1];\n    var _d = useState('ready'), status = _d[0], setStatus = _d[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    this.showValidation = function () {\n        var hasError = !validator.validate('telephoneNumber', 'input')(props.data.telephoneNumber).isValid;\n        setErrors(__assign(__assign({}, errors), { telephoneNumber: hasError }));\n    };\n    var handleEventFor = function (key, mode) { return function (e) {\n        var val = e.target.value;\n        var _a = validator.validate('telephoneNumber', mode)(val), value = _a.value, isValid = _a.isValid, showError = _a.showError;\n        setData(__assign(__assign({}, data), { telephoneNumber: value }));\n        setErrors(__assign(__assign({}, errors), { telephoneNumber: !isValid && showError }));\n        setValid(__assign(__assign({}, valid), { telephoneNumber: isValid }));\n    }; };\n    useEffect(function () {\n        props.onChange({ data: data, isValid: valid.telephoneNumber });\n    }, [data, valid]);\n    return (h(\"div\", { className: \"adyen-checkout__mb-way\" },\n        h(Field, { errorMessage: !!errors.telephoneNumber && i18n.get('telephoneNumber.invalid'), label: i18n.get('telephoneNumber'), className: classNames('adyen-checkout__input--phone-number'), isValid: valid.telephoneNumber }, renderFormField('tel', {\n            value: data.telephoneNumber,\n            className: 'adyen-checkout__pm__phoneNumber__input',\n            placeholder: props.placeholders.telephoneNumber,\n            required: true,\n            autoCorrect: 'off',\n            onChange: handleEventFor('telephoneNumber', 'blur'),\n            onInput: handleEventFor('telephoneNumber', 'input')\n        })),\n        props.showPayButton && props.payButton({ status: status, label: i18n.get('confirmPurchase') })));\n}\nMBWayInput.defaultProps = {\n    onChange: function () { }\n};\nexport default MBWayInput;\n","export var COUNTDOWN_MINUTES = 15; // min\nexport var STATUS_INTERVAL = 2000; // ms\nexport var THROTTLE_TIME = 60000; // ms\nexport var THROTTLE_INTERVAL = 10000; // ms\nexport default {\n    STATUS_INTERVAL: STATUS_INTERVAL,\n    COUNTDOWN_MINUTES: COUNTDOWN_MINUTES,\n    THROTTLE_TIME: THROTTLE_TIME,\n    THROTTLE_INTERVAL: THROTTLE_INTERVAL,\n    type: 'mbway',\n    messageTextId: 'mbway.confirmPayment',\n    awaitTextId: 'await.waitForConfirmation',\n    showCountdownTimer: false\n};\n","import { __assign, __rest } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport classnames from 'classnames';\nimport { checkPaymentStatus } from '../../../core/Services/payment-status';\nimport processResponse from '../../../core/ProcessResponse';\nimport { getImageUrl } from '../../../utils/get-image';\nimport Spinner from '../../internal/Spinner';\nimport Countdown from '../Countdown';\nimport Button from '../Button';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport './Await.scss';\nfunction Await(props) {\n    var _this = this;\n    var _a = useCoreContext(), i18n = _a.i18n, loadingContext = _a.loadingContext;\n    var _b = useState(false), completed = _b[0], setCompleted = _b[1];\n    var _c = useState(false), expired = _c[0], setExpired = _c[1];\n    var _d = useState(true), loading = _d[0], setLoading = _d[1];\n    var _e = useState(props.delay), delay = _e[0], setDelay = _e[1];\n    var _f = useState(100), percentage = _f[0], setPercentage = _f[1];\n    var _g = useState(0), timePassed = _g[0], setTimePassed = _g[1];\n    var _h = useState(false), hasAdjustedTime = _h[0], setHasAdjustedTime = _h[1];\n    var _j = useState(null), storedTimeout = _j[0], setStoredTimeout = _j[1];\n    var onTimeUp = function () {\n        setExpired(true);\n        clearTimeout(storedTimeout);\n        var error = { type: 'error', props: { errorMessage: 'Payment Expired' } };\n        props.onError(error, _this);\n    };\n    var onTick = function (time) {\n        setPercentage(time.percentage);\n    };\n    var onComplete = function (status) {\n        setCompleted(true);\n        var state = {\n            data: {\n                details: { payload: status.props.payload },\n                paymentData: props.paymentData\n            }\n        };\n        props.onComplete(state, _this);\n    };\n    var onError = function (status) {\n        setExpired(true);\n        var state = {\n            data: {\n                details: { payload: status.props.payload },\n                paymentData: props.paymentData\n            }\n        };\n        // Send error response to onAdditionalDetails\n        props.onComplete(state, _this);\n    };\n    var checkStatus = function () {\n        var paymentData = props.paymentData, accessKey = props.accessKey;\n        checkPaymentStatus(paymentData, accessKey, loadingContext)\n            .then(processResponse)\n            .catch(function (_a) {\n            var message = _a.message, response = __rest(_a, [\"message\"]);\n            return ({\n                type: 'network-error',\n                props: __assign(__assign({}, (message && { message: _this.props.i18n.get(message) })), response)\n            });\n        })\n            .then(function (status) {\n            switch (status.type) {\n                case 'success':\n                    onComplete(status);\n                    break;\n                case 'error':\n                    onError(status);\n                    break;\n                default:\n                    setLoading(false);\n            }\n        });\n    };\n    var redirectToApp = function (url, fallback) {\n        if (fallback === void 0) { fallback = function () { }; }\n        setTimeout(function () {\n            // Redirect to the APP failed\n            var error = props.type + \" App was not found\";\n            props.onError(error, _this);\n            fallback();\n        }, 25);\n        window.location.assign(url);\n    };\n    useEffect(function () {\n        var shouldRedirectOnMobile = props.shouldRedirectOnMobile, url = props.url;\n        var isMobile = window.matchMedia('(max-width: 768px)').matches && /Android|iPhone|iPod/.test(navigator.userAgent);\n        if (shouldRedirectOnMobile && url && isMobile) {\n            _this.redirectToApp(url, checkStatus);\n        }\n        else {\n            checkStatus();\n        }\n        return function () {\n            clearTimeout(storedTimeout);\n        };\n    }, []);\n    useEffect(function () {\n        if (expired)\n            return clearTimeout(storedTimeout);\n        if (completed)\n            return clearTimeout(storedTimeout);\n        if (!loading) {\n            // Retry until getting a complete response from the server OR it times out\n            // Changes setTimeout time to new value (throttleInterval) after a certain amount of time (throttleTime) has passed\n            var statusInterval = function () {\n                checkStatus();\n                var actualTimePassed = timePassed + delay;\n                setTimePassed(actualTimePassed);\n                if (actualTimePassed >= props.throttleTime && !hasAdjustedTime) {\n                    setDelay(props.throttleInterval);\n                    setHasAdjustedTime(true);\n                }\n            };\n            setStoredTimeout(setTimeout(statusInterval, delay));\n        }\n    }, [loading, timePassed, expired, completed]);\n    var finalState = function (image, message) { return (h(\"div\", { className: \"adyen-checkout__await adyen-checkout__await--result\" },\n        h(\"img\", { className: \"adyen-checkout__await__icon adyen-checkout__await__icon--result\", src: getImageUrl({ loadingContext: loadingContext, imageFolder: 'components/' })(image), alt: i18n.get(message) }),\n        h(\"div\", { className: \"adyen-checkout__await__subtitle adyen-checkout__await__subtitle--result\" }, i18n.get(message)))); };\n    if (expired) {\n        return finalState('error', 'error.subtitle.payment');\n    }\n    if (completed) {\n        return finalState('success', 'creditCard.success');\n    }\n    if (loading) {\n        return (h(\"div\", { className: \"adyen-checkout__await\" },\n            props.brandLogo && h(\"img\", { src: props.brandLogo, alt: props.type, className: \"adyen-checkout__await__brand-logo\" }),\n            h(Spinner, { inline: false, size: \"large\" })));\n    }\n    var timeToPayString = i18n.get('wechatpay.timetopay').split('%@');\n    return (h(\"div\", { className: classnames('adyen-checkout__await', \"adyen-checkout__await--\" + props.type, props.classNameModifiers.map(function (m) { return \"adyen-checkout__await--\" + m; })) },\n        props.brandLogo && h(\"img\", { src: props.brandLogo, alt: props.type, className: \"adyen-checkout__await__brand-logo\" }),\n        h(\"div\", { className: \"adyen-checkout__await__subtitle\" }, props.messageText),\n        h(\"div\", { className: \"adyen-checkout__await__indicator-holder\" },\n            h(\"div\", { className: \"adyen-checkout__await__indicator-spinner\" },\n                h(Spinner, { inline: false, size: \"medium\" })),\n            h(\"div\", { className: \"adyen-checkout__await__indicator-text\" }, props.awaitText)),\n        props.showCountdownTimer && (h(\"div\", { className: \"adyen-checkout__await__countdown-holder\" },\n            h(\"div\", { className: \"adyen-checkout__await__progress\" },\n                h(\"span\", { className: \"adyen-checkout__await__percentage\", style: { width: percentage + \"%\" } })),\n            h(\"div\", { className: \"adyen-checkout__await__countdown\" },\n                timeToPayString[0],\n                \"\\u00A0\",\n                h(Countdown, { minutesFromNow: props.countdownTime, onTick: onTick, onCompleted: onTimeUp }),\n                \"\\u00A0\",\n                timeToPayString[1]))),\n        props.url && (h(\"div\", { className: \"adyen-checkout__await__app-link\" },\n            h(\"span\", { className: \"adyen-checkout__await__separator__label\" }, i18n.get('or')),\n            h(Button, { classNameModifiers: ['await'], onClick: function () { return redirectToApp(props.url); }, label: i18n.get('openApp') })))));\n}\nAwait.defaultProps = {\n    countdownTime: 15,\n    onError: function () { },\n    onComplete: function () { },\n    throttleTime: 60000,\n    throttleInterval: 10000,\n    showCountdownTimer: true,\n    classNameModifiers: [],\n    shouldRedirectOnMobile: false,\n    url: null\n};\nexport default Await;\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport MBWayInput from './components/MBWayInput';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport config from './components/MBWayAwait/config';\nimport Await from '../../components/internal/Await';\nvar MBWayElement = /** @class */ (function (_super) {\n    __extends(MBWayElement, _super);\n    function MBWayElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MBWayElement.prototype.formatProps = function (props) {\n        var _a = props.data, data = _a === void 0 ? {} : _a, _b = props.placeholders, placeholders = _b === void 0 ? {} : _b;\n        return __assign(__assign({}, props), { data: {\n                telephoneNumber: data.telephoneNumber || data.phoneNumber || ''\n            }, placeholders: {\n                telephoneNumber: placeholders.telephoneNumber || placeholders.phoneNumber || '+351 932 123 456'\n            } });\n    };\n    /**\n     * Formats the component data output\n     */\n    MBWayElement.prototype.formatData = function () {\n        var _a;\n        return {\n            paymentMethod: __assign({ type: MBWayElement.type }, (((_a = this.state.data) === null || _a === void 0 ? void 0 : _a.telephoneNumber) && { telephoneNumber: this.state.data.telephoneNumber }))\n        };\n    };\n    Object.defineProperty(MBWayElement.prototype, \"isValid\", {\n        get: function () {\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MBWayElement.prototype, \"displayName\", {\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MBWayElement.prototype.render = function () {\n        var _this = this;\n        if (this.props.paymentData) {\n            var accessKey = this.props.originKey || this.props.clientKey;\n            return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n                h(Await, { ref: function (ref) {\n                        _this.componentRef = ref;\n                    }, accessKey: accessKey, paymentData: this.props.paymentData, onError: this.props.onError, onComplete: this.onComplete, brandLogo: this.icon, type: config.type, messageText: this.props.i18n.get(config.messageTextId), awaitText: this.props.i18n.get(config.awaitTextId), showCountdownTimer: config.showCountdownTimer, delay: config.STATUS_INTERVAL, countdownTime: config.COUNTDOWN_MINUTES, throttleTime: config.THROTTLE_TIME, throttleInterval: config.THROTTLE_INTERVAL })));\n        }\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n            h(MBWayInput, __assign({ ref: function (ref) {\n                    _this.componentRef = ref;\n                } }, this.props, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton }))));\n    };\n    MBWayElement.type = 'mbway';\n    return MBWayElement;\n}(UIElement));\nexport { MBWayElement };\nexport default MBWayElement;\n","import { __assign } from \"tslib\";\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport Field from '../../internal/FormFields/Field';\nimport getImage from '../../../utils/get-image';\nimport { renderFormField } from '../../internal/FormFields';\nimport './BlikInput.scss';\nfunction BlikInput(props) {\n    var _this = this;\n    var _a = useCoreContext(), i18n = _a.i18n, loadingContext = _a.loadingContext;\n    var _b = useState(props.data), data = _b[0], setData = _b[1];\n    var _c = useState({ blikCode: false }), errors = _c[0], setErrors = _c[1];\n    var _d = useState({ blikCode: false }), valid = _d[0], setValid = _d[1];\n    var handleBlikCode = function (type) { return function (e) {\n        e.preventDefault();\n        var value = e.target.value;\n        var isBlikCodeValid = value.length === 6;\n        setData({ blikCode: value });\n        setErrors(__assign(__assign({}, valid), { blikCode: type === 'blur' && !isBlikCodeValid }));\n        setValid(__assign(__assign({}, valid), { blikCode: isBlikCodeValid }));\n    }; };\n    useEffect(function () {\n        props.onChange({ data: data, isValid: valid.blikCode }, _this);\n    }, [data, valid, errors]);\n    var _e = useState('ready'), status = _e[0], setStatus = _e[1];\n    this.setStatus = function (newStatus) {\n        setStatus(newStatus);\n    };\n    return (h(\"div\", { className: \"adyen-checkout__blik\" },\n        h(\"p\", { className: \"adyen-checkout__blik__helper\" }, i18n.get('blik.help')),\n        h(Field, { errorMessage: !!errors.blikCode && i18n.get('blik.invalid'), label: i18n.get('blik.code'), classNameModifiers: ['blikCode', '50'], isValid: valid.blikCode }, renderFormField('text', {\n            value: data.blikCode,\n            name: 'blikCode',\n            spellcheck: false,\n            required: true,\n            autocorrect: 'off',\n            onInput: handleBlikCode('input'),\n            onChange: handleBlikCode('blur'),\n            placeholder: '123456',\n            maxLength: 6\n        })),\n        props.showPayButton && props.payButton({ status: status, icon: getImage({ loadingContext: loadingContext, imageFolder: 'components/' })('lock') })));\n}\nBlikInput.defaultProps = { data: { blikCode: '' } };\nexport default BlikInput;\n","export var COUNTDOWN_MINUTES = 15; // min\nexport var STATUS_INTERVAL = 2000; // ms\nexport var THROTTLE_TIME = 60000; // ms\nexport var THROTTLE_INTERVAL = 10000; // ms\nexport default {\n    STATUS_INTERVAL: STATUS_INTERVAL,\n    COUNTDOWN_MINUTES: COUNTDOWN_MINUTES,\n    THROTTLE_TIME: THROTTLE_TIME,\n    THROTTLE_INTERVAL: THROTTLE_INTERVAL,\n    type: 'blik',\n    messageTextId: 'blik.confirmPayment',\n    awaitTextId: 'await.waitForConfirmation',\n    showCountdownTimer: false\n};\n","import { __assign, __extends } from \"tslib\";\nimport { h } from 'preact';\nimport UIElement from '../UIElement';\nimport BlikInput from '../../components/Blik/components/BlikInput';\nimport Await from '../internal/Await';\nimport CoreProvider from '../../core/Context/CoreProvider';\nimport config from './config';\nimport RedirectButton from '../../components/internal/RedirectButton';\nvar BlikElement = /** @class */ (function (_super) {\n    __extends(BlikElement, _super);\n    function BlikElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BlikElement.prototype.formatData = function () {\n        var recurringPayment = !!this.props.storedPaymentMethodId;\n        return {\n            paymentMethod: __assign(__assign({ type: BlikElement.type }, (!recurringPayment && { blikCode: this.state.data.blikCode })), (recurringPayment && { storedPaymentMethodId: this.props.storedPaymentMethodId }))\n        };\n    };\n    Object.defineProperty(BlikElement.prototype, \"isValid\", {\n        get: function () {\n            if (this.props.storedPaymentMethodId) {\n                return true;\n            }\n            return !!this.state.isValid;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BlikElement.prototype.render = function () {\n        var _this = this;\n        if (this.props.paymentData) {\n            var accessKey = this.props.originKey || this.props.clientKey;\n            return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext },\n                h(Await, { ref: function (ref) {\n                        _this.componentRef = ref;\n                    }, accessKey: accessKey, paymentData: this.props.paymentData, onError: this.props.onError, onComplete: this.onComplete, brandLogo: this.icon, type: config.type, messageText: this.props.i18n.get(config.messageTextId), awaitText: this.props.i18n.get(config.awaitTextId), showCountdownTimer: config.showCountdownTimer, delay: config.STATUS_INTERVAL, countdownTime: config.COUNTDOWN_MINUTES, throttleTime: config.THROTTLE_TIME, throttleInterval: config.THROTTLE_INTERVAL })));\n        }\n        return (h(CoreProvider, { i18n: this.props.i18n, loadingContext: this.props.loadingContext }, this.props.storedPaymentMethodId ? (h(RedirectButton, { name: this.displayName, amount: this.props.amount, payButton: this.payButton, onSubmit: this.submit, ref: function (ref) {\n                _this.componentRef = ref;\n            } })) : (h(BlikInput, __assign({ ref: function (ref) {\n                _this.componentRef = ref;\n            } }, this.props, { onChange: this.setState, onSubmit: this.submit, payButton: this.payButton })))));\n    };\n    BlikElement.type = 'blik';\n    return BlikElement;\n}(UIElement));\nexport default BlikElement;\n","import { __assign, __extends } from \"tslib\";\nimport OpenInvoiceContainer from '../helpers/OpenInvoiceContainer';\nvar ALLOWED_COUNTRIES = ['CA', 'US'];\nvar Affirm = /** @class */ (function (_super) {\n    __extends(Affirm, _super);\n    function Affirm() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Affirm.prototype.formatProps = function (props) {\n        return __assign(__assign({}, _super.prototype.formatProps.call(this, props)), { allowedCountries: ALLOWED_COUNTRIES, personalDetailsRequiredFields: ['firstName', 'lastName', 'telephoneNumber', 'shopperEmail'] });\n    };\n    Affirm.type = 'affirm';\n    return Affirm;\n}(OpenInvoiceContainer));\nexport default Affirm;\n","import { __assign } from \"tslib\";\nimport { AfterPay, AfterPayB2B } from './AfterPay';\nimport AmazonPay from './AmazonPay';\nimport ApplePay from './ApplePay';\nimport { BillDeskOnline, BillDeskWallet } from './BillDesk';\nimport Card from './Card';\nimport Bancontact from './Card/Bancontact';\nimport Donation from './Donation';\nimport Giropay from './Giropay';\nimport GooglePay from './GooglePay';\nimport Entercash from './Entercash';\nimport Econtext from './Econtext';\nimport { FacilyPay3x, FacilyPay4x, FacilyPay6x, FacilyPay10x, FacilyPay12x } from './FacilyPay';\nimport Ideal from './Ideal';\nimport PayPal from './PayPal';\nimport QiwiWallet from './QiwiWallet';\nimport Redirect from './Redirect';\nimport SecuredFields from './SecuredFields';\nimport Sepa from './Sepa';\nimport { ThreeDS2DeviceFingerprint, ThreeDS2Challenge } from './ThreeDS2';\nimport WeChat from './WeChat';\nimport BcmcMobile from './BcmcMobile';\nimport { MolPayEBankingMY, MolPayEBankingTH, MolPayEBankingVN } from './MolPayEBanking';\nimport OpenBankingUK from './OpenBankingUK';\nimport Dragonpay from './Dragonpay';\nimport Doku from './Doku';\nimport Boleto from './Boleto';\nimport Oxxo from './Oxxo';\nimport Multibanco from './Multibanco';\nimport Dotpay from './Dotpay';\nimport Eps from './EPS';\nimport Giftcard from './Giftcard';\nimport Vipps from './Vipps';\nimport { PayuCashcard, PayuNetBanking } from './PayU';\nimport RatePay from './RatePay';\nimport Swish from './Swish';\nimport Dropin from './Dropin';\nimport Ach from './Ach';\nimport MBWay from './MBWay';\nimport Blik from './Blik';\nimport uuid from '../utils/uuid';\nimport Affirm from './Affirm';\n/**\n * Maps each component with a Component element.\n */\nvar componentsMap = {\n    dropin: Dropin,\n    ach: Ach,\n    afterpay: AfterPay,\n    afterpay_default: AfterPay,\n    afterpay_b2b: AfterPayB2B,\n    amazonpay: AmazonPay,\n    amex: Card,\n    applepay: ApplePay,\n    bcmc: Bancontact,\n    bcmc_mobile: BcmcMobile,\n    bcmc_mobile_QR: BcmcMobile,\n    blik: Blik,\n    billdesk_online: BillDeskOnline,\n    billdesk_wallet: BillDeskWallet,\n    boletobancario: Boleto,\n    boletobancario_bancodobrasil: Boleto,\n    boletobancario_bradesco: Boleto,\n    boletobancario_hsbc: Boleto,\n    boletobancario_itau: Boleto,\n    boletobancario_santander: Boleto,\n    card: Card,\n    diners: Card,\n    discover: Card,\n    doku: Doku,\n    doku_alfamart: Doku,\n    doku_permata_lite_atm: Doku,\n    doku_indomaret: Doku,\n    doku_atm_mandiri_va: Doku,\n    doku_sinarmas_va: Doku,\n    doku_mandiri_va: Doku,\n    doku_cimb_va: Doku,\n    doku_danamon_va: Doku,\n    doku_bri_va: Doku,\n    doku_bni_va: Doku,\n    doku_bca_va: Doku,\n    doku_wallet: Doku,\n    donation: Donation,\n    dotpay: Dotpay,\n    dragonpay_ebanking: Dragonpay,\n    dragonpay_otc_banking: Dragonpay,\n    dragonpay_otc_non_banking: Dragonpay,\n    dragonpay_otc_philippines: Dragonpay,\n    econtext_seven_eleven: Econtext,\n    econtext_atm: Econtext,\n    econtext_stores: Econtext,\n    econtext_online: Econtext,\n    entercash: Entercash,\n    eps: Eps,\n    facilypay_3x: FacilyPay3x,\n    facilypay_4x: FacilyPay4x,\n    facilypay_6x: FacilyPay6x,\n    facilypay_10x: FacilyPay10x,\n    facilypay_12x: FacilyPay12x,\n    giropay: Giropay,\n    ideal: Ideal,\n    jcb: Card,\n    kcp: Card,\n    maestro: Card,\n    mbway: MBWay,\n    mc: Card,\n    molpay_ebanking_fpx_MY: MolPayEBankingMY,\n    molpay_ebanking_TH: MolPayEBankingTH,\n    molpay_ebanking_VN: MolPayEBankingVN,\n    openbanking_UK: OpenBankingUK,\n    paypal: PayPal,\n    payu_IN_cashcard: PayuCashcard,\n    payu_IN_nb: PayuNetBanking,\n    paywithgoogle: GooglePay,\n    qiwiwallet: QiwiWallet,\n    ratepay: RatePay,\n    redirect: Redirect,\n    securedfields: SecuredFields,\n    sepadirectdebit: Sepa,\n    scheme: Card,\n    threeDS2Challenge: ThreeDS2Challenge,\n    threeDS2DeviceFingerprint: ThreeDS2DeviceFingerprint,\n    visa: Card,\n    wechatpay: WeChat,\n    wechatpayQR: WeChat,\n    oxxo: Oxxo,\n    multibanco: Multibanco,\n    giftcard: Giftcard,\n    vipps: Vipps,\n    swish: Swish,\n    affirm: Affirm,\n    default: null\n};\n/**\n * Instantiates a new Component element either by class reference or by name\n * It also assigns a new uuid to each instance, so we can recognize it during the current session\n * @param componentType - class or componentsMap's key\n * @param props - for the new Component element\n * @returns new PaymentMethod or null\n */\nexport var getComponent = function (componentType, props) {\n    var Component = componentsMap[componentType] || componentsMap.default;\n    return Component ? new Component(__assign(__assign({}, props), { id: componentType + \"-\" + uuid() })) : null;\n};\n/**\n * Gets the configuration for type from componentsConfig\n * @param type - component type\n * @param componentsConfig - global paymentMethodsConfiguration\n * @returns component configuration\n */\nexport var getComponentConfiguration = function (type, componentsConfig) {\n    if (componentsConfig === void 0) { componentsConfig = {}; }\n    var pmType = type === 'scheme' ? 'card' : type;\n    return componentsConfig[pmType] || {};\n};\nexport default componentsMap;\n","/* eslint-disable */\nexport default function uuidv4() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n/* eslint-enable */\n","export function filterAllowedPaymentMethods(pm) {\n    return !this.length || this.indexOf(pm.type) > -1;\n}\nexport function filterRemovedPaymentMethods(pm) {\n    return !this.length || this.indexOf(pm.type) < 0;\n}\nexport function filterEcomStoredPaymentMethods(pm) {\n    return !!pm && !!pm.supportedShopperInteractions && pm.supportedShopperInteractions.includes('Ecommerce');\n}\nvar supportedStoredPaymentMethods = ['scheme', 'blik'];\nexport function filterSupportedStoredPaymentMethods(pm) {\n    return !!pm && !!pm.type && supportedStoredPaymentMethods.includes(pm.type);\n}\n","import { __assign } from \"tslib\";\nimport { filterAllowedPaymentMethods, filterEcomStoredPaymentMethods, filterRemovedPaymentMethods, filterSupportedStoredPaymentMethods } from './filters';\nvar processStoredPaymentMethod = function (pm) { return (__assign(__assign({}, pm), { storedPaymentMethodId: pm.id })); };\nexport var processPaymentMethods = function (paymentMethodsResponse, _a) {\n    var _b = _a.allowPaymentMethods, allowPaymentMethods = _b === void 0 ? [] : _b, _c = _a.removePaymentMethods, removePaymentMethods = _c === void 0 ? [] : _c;\n    var _d = paymentMethodsResponse.paymentMethods, paymentMethods = _d === void 0 ? [] : _d;\n    return paymentMethods.filter(filterAllowedPaymentMethods, allowPaymentMethods).filter(filterRemovedPaymentMethods, removePaymentMethods);\n};\nexport var processStoredPaymentMethods = function (paymentMethodsResponse, _a) {\n    if (paymentMethodsResponse === void 0) { paymentMethodsResponse = {}; }\n    var _b = _a.allowPaymentMethods, allowPaymentMethods = _b === void 0 ? [] : _b, _c = _a.removePaymentMethods, removePaymentMethods = _c === void 0 ? [] : _c;\n    var _d = paymentMethodsResponse.storedPaymentMethods, storedPaymentMethods = _d === void 0 ? [] : _d;\n    return storedPaymentMethods\n        .filter(filterSupportedStoredPaymentMethods) // only display supported stored payment methods\n        .filter(filterAllowedPaymentMethods, allowPaymentMethods)\n        .filter(filterRemovedPaymentMethods, removePaymentMethods)\n        .filter(filterEcomStoredPaymentMethods) // Only accept Ecommerce shopper interactions\n        .map(processStoredPaymentMethod);\n};\nexport var checkPaymentMethodsResponse = function (response) {\n    var _a, _b;\n    if (typeof response === 'string') {\n        throw new Error('paymentMethodsResponse was provided but of an incorrect type (should be an object but a string was provided).' +\n            'Try JSON.parse(\"{...}\") your paymentMethodsResponse.');\n    }\n    if (response instanceof Array) {\n        throw new Error('paymentMethodsResponse was provided but of an incorrect type (should be an object but an array was provided).' +\n            'Please check you are passing the whole response.');\n    }\n    if (!((_a = response === null || response === void 0 ? void 0 : response.paymentMethods) === null || _a === void 0 ? void 0 : _a.length) && !((_b = response === null || response === void 0 ? void 0 : response.storePaymentMethods) === null || _b === void 0 ? void 0 : _b.length)) {\n        console.warn('paymentMethodsResponse was provided but no payment methods were found.');\n    }\n};\n","import { checkPaymentMethodsResponse, processPaymentMethods, processStoredPaymentMethods } from './utils';\nvar PaymentMethodsResponse = /** @class */ (function () {\n    function PaymentMethodsResponse(response, options) {\n        if (options === void 0) { options = {}; }\n        this.paymentMethods = [];\n        this.storedPaymentMethods = [];\n        checkPaymentMethodsResponse(response);\n        this.paymentMethods = response ? processPaymentMethods(response, options) : [];\n        this.storedPaymentMethods = response ? processStoredPaymentMethods(response, options) : [];\n    }\n    PaymentMethodsResponse.prototype.has = function (paymentMethod) {\n        return Boolean(this.paymentMethods.find(function (pm) { return pm.type === paymentMethod; }));\n    };\n    PaymentMethodsResponse.prototype.find = function (paymentMethod) {\n        return this.paymentMethods.find(function (pm) { return pm.type === paymentMethod; });\n    };\n    return PaymentMethodsResponse;\n}());\nexport default PaymentMethodsResponse;\n","import { __assign } from \"tslib\";\nimport { getComponent } from '../../../components';\nvar actionTypes = {\n    redirect: function (action, props) {\n        return getComponent('redirect', __assign(__assign(__assign({}, props), action), { statusType: 'redirect' }));\n    },\n    threeDS2Fingerprint: function (action, props) {\n        return getComponent('threeDS2DeviceFingerprint', __assign(__assign({ createFromAction: props.createFromAction, fingerprintToken: action.token, paymentData: action.paymentData, onComplete: props.onAdditionalDetails, onError: props.onError, showSpinner: !props.isDropin, isDropin: !!props.isDropin }, props), { statusType: 'loading' }));\n    },\n    threeDS2Challenge: function (action, props) {\n        return getComponent('threeDS2Challenge', __assign(__assign({}, props), { challengeToken: action.token, paymentData: action.paymentData, onComplete: props.onAdditionalDetails, onError: props.onError, size: '05', isDropin: !!props.isDropin, statusType: 'custom' }));\n    },\n    voucher: function (action, props) {\n        return getComponent(action.paymentMethodType, __assign(__assign(__assign({}, action), props), { i18n: props.i18n, loadingContext: props.loadingContext, statusType: 'custom' }));\n    },\n    qrCode: function (action, props) {\n        return getComponent(action.paymentMethodType, __assign(__assign(__assign({}, action), props), { onComplete: props.onAdditionalDetails, onError: props.onError, statusType: 'custom' }));\n    },\n    await: function (action, props) {\n        return getComponent(action.paymentMethodType, __assign(__assign(__assign({}, action), props), { onComplete: props.onAdditionalDetails, onError: props.onError, statusType: 'custom' }));\n    }\n};\nexport default actionTypes;\n","import actionTypes from './actionTypes';\nexport function getComponentForAction(action, props) {\n    if (props === void 0) { props = {}; }\n    var nextAction = actionTypes[action.type];\n    if (nextAction && typeof nextAction === 'function') {\n        return nextAction(action, props);\n    }\n    throw new Error('Invalid Action');\n}\nexport default getComponentForAction;\n","export var FALLBACK_CONTEXT = 'https://checkoutshopper-live.adyen.com/checkoutshopper/';\nvar resolveEnvironment = function (env) {\n    if (env === void 0) { env = FALLBACK_CONTEXT; }\n    var environments = {\n        test: 'https://checkoutshopper-test.adyen.com/checkoutshopper/',\n        live: 'https://checkoutshopper-live.adyen.com/checkoutshopper/',\n        'live-us': 'https://checkoutshopper-live-us.adyen.com/checkoutshopper/',\n        'live-au': 'https://checkoutshopper-live-au.adyen.com/checkoutshopper/'\n    };\n    return environments[env] || environments[env.toLowerCase()] || env;\n};\nexport default resolveEnvironment;\n","import { __assign } from \"tslib\";\n/**\n * Log event to Adyen\n * @param config - ready to be serialized and included in the request\n * @returns A log event function\n */\nvar logEvent = function (config) { return function (event) {\n    var params = __assign({ version: process.env.VERSION, payload_version: 1, platform: 'web', locale: config.locale }, event);\n    var queryString = Object.keys(params)\n        .map(function (key) { return encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]); })\n        .join('&');\n    new Image().src = config.loadingContext + \"images/analytics.png?\" + queryString;\n}; };\nexport default logEvent;\n","import { __assign } from \"tslib\";\n/**\n * Log event to Adyen\n * @param config -\n */\nvar logTelemetry = function (config) { return function (event) {\n    if (!config.accessKey) {\n        return Promise.reject();\n    }\n    var telemetryEvent = __assign({ version: process.env.VERSION, platform: 'web', locale: config.locale, flavor: 'components', userAgent: navigator.userAgent, referrer: window.location.href, screenWidth: window.screen.width }, event);\n    var options = {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(telemetryEvent)\n    };\n    return fetch(config.loadingContext + \"v1/analytics/log?token=\" + config.accessKey, options)\n        .then(function (response) { return response.ok; })\n        .catch(function () { });\n}; };\nexport default logTelemetry;\n","/**\n * Log event to Adyen\n * @param config - ready to be serialized and included in the body of request\n * @returns a promise containing the response of the call\n */\nvar collectId = function (config) {\n    if (!config.accessKey) {\n        return Promise.reject();\n    }\n    var options = {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n        }\n    };\n    return fetch(config.loadingContext + \"v1/analytics/id?token=\" + config.accessKey, options)\n        .then(function (response) {\n        if (response.ok)\n            return response.json();\n        throw new Error('Collect ID not available');\n    })\n        .then(function (conversion) { return conversion.id; })\n        .catch(function () { });\n};\nexport default collectId;\n","var EventsQueue = /** @class */ (function () {\n    function EventsQueue() {\n        this.events = [];\n    }\n    EventsQueue.prototype.add = function (event) {\n        this.events.push(event);\n    };\n    EventsQueue.prototype.run = function (conversionId) {\n        var promises = this.events.map(function (e) { return e(conversionId); });\n        this.events = [];\n        return Promise.all(promises);\n    };\n    return EventsQueue;\n}());\nexport default EventsQueue;\n","import { __assign } from \"tslib\";\nimport logEvent from '../Services/log-event';\nimport postTelemetry from '../Services/post-telemetry';\nimport collectId from '../Services/collect-id';\nimport EventsQueue from './EventsQueue';\nvar Analytics = /** @class */ (function () {\n    function Analytics(_a) {\n        var _this = this;\n        var loadingContext = _a.loadingContext, locale = _a.locale, originKey = _a.originKey, clientKey = _a.clientKey, analytics = _a.analytics;\n        this.conversionId = null;\n        this.queue = new EventsQueue();\n        this.props = __assign(__assign({}, Analytics.defaultProps), analytics);\n        var accessKey = clientKey || originKey;\n        this.logEvent = logEvent({ loadingContext: loadingContext, locale: locale });\n        this.logTelemetry = postTelemetry({ loadingContext: loadingContext, locale: locale, accessKey: accessKey });\n        var _b = this.props, conversion = _b.conversion, enabled = _b.enabled;\n        if (conversion && enabled) {\n            if (this.props.conversionId) {\n                this.conversionId = this.props.conversionId;\n                this.queue.run(this.conversionId);\n            }\n            else {\n                // If no conversionId is provided, fetch a new one\n                collectId({ loadingContext: loadingContext, accessKey: accessKey })\n                    .then(function (conversionId) {\n                    _this.conversionId = conversionId;\n                    _this.queue.run(_this.conversionId);\n                })\n                    .catch(function () {\n                    _this.queue.run();\n                });\n            }\n        }\n    }\n    Analytics.prototype.send = function (event) {\n        var _this = this;\n        var _a = this.props, conversion = _a.conversion, enabled = _a.enabled, telemetry = _a.telemetry;\n        if (enabled === true) {\n            if (telemetry === true) {\n                var telemetryTask = function (conversionId) { return _this.logTelemetry(__assign(__assign({}, event), { conversionId: conversionId })).catch(function () { }); };\n                this.queue.add(telemetryTask);\n                // Not waiting for conversionId\n                if (!conversion || this.conversionId) {\n                    this.queue.run(this.conversionId);\n                }\n            }\n            // Log pixel\n            this.logEvent(event);\n        }\n    };\n    Analytics.defaultProps = {\n        enabled: true,\n        telemetry: true,\n        conversion: false,\n        conversionId: null\n    };\n    return Analytics;\n}());\nexport default Analytics;\n","import { __assign } from \"tslib\";\nimport Language from '../language';\nimport UIElement from '../components/UIElement';\nimport RiskModule from './RiskModule';\nimport paymentMethods, { getComponentConfiguration } from '../components';\nimport PaymentMethodsResponse from './ProcessResponse/PaymentMethodsResponse';\nimport getComponentForAction from './ProcessResponse/PaymentAction';\nimport resolveEnvironment from './Environment';\nimport Analytics from './Analytics';\nvar Core = /** @class */ (function () {\n    function Core(options) {\n        if (options === void 0) { options = {}; }\n        this.options = __assign(__assign({}, options), { loadingContext: resolveEnvironment(options.environment) });\n        this.modules = {\n            risk: new RiskModule(this.options),\n            analytics: new Analytics(this.options),\n            i18n: new Language(options.locale, options.translations)\n        };\n        this.paymentMethodsResponse = new PaymentMethodsResponse(options.paymentMethodsResponse, options);\n        this.create = this.create.bind(this);\n        this.createFromAction = this.createFromAction.bind(this);\n    }\n    Core.prototype.create = function (paymentMethod, options) {\n        var props = this.getPropsForComponent(options);\n        return paymentMethod ? this.handleCreate(paymentMethod, props) : this.handleCreateError();\n    };\n    /**\n     * Instantiates a new element component ready to be mounted from an action object\n     * @param action - action defining the component with the component data\n     * @param options - options that will be merged to the global Checkout props\n     * @returns new UIElement\n     */\n    Core.prototype.createFromAction = function (action, options) {\n        if (options === void 0) { options = {}; }\n        if (action.type) {\n            var props = this.getPropsForComponent(options);\n            return getComponentForAction(action, props);\n        }\n        return this.handleCreateError();\n    };\n    /**\n     * @param options - options that will be merged to the global Checkout props\n     * @returns props for a new UIElement\n     */\n    Core.prototype.getPropsForComponent = function (options) {\n        return __assign(__assign(__assign({ paymentMethods: this.paymentMethodsResponse.paymentMethods, storedPaymentMethods: this.paymentMethodsResponse.storedPaymentMethods }, this.options), options), { i18n: this.modules.i18n, modules: this.modules, createFromAction: this.createFromAction });\n    };\n    /**\n     * @internal\n     */\n    Core.prototype.handleCreate = function (PaymentMethod, options) {\n        if (options === void 0) { options = {}; }\n        var isValidClass = PaymentMethod.prototype instanceof UIElement;\n        /**\n         * Once we receive a valid class for a Component - create a new instance of it\n         */\n        if (isValidClass) {\n            var paymentMethodsDetails = !options.supportedShopperInteractions ? this.paymentMethodsResponse.find(PaymentMethod.type) : [];\n            // NOTE: will only have a value if a paymentMethodsConfiguration object is defined at top level, in the config object set when a\n            // new AdyenCheckout is initialised.\n            var paymentMethodsConfiguration = getComponentConfiguration(PaymentMethod.type, options.paymentMethodsConfiguration);\n            // Merge:\n            // 1. props defined on the PaymentMethod in the response object (will not have a value for the 'dropin' component)\n            // 2. the combined props of checkout & the configuration object defined on this particular component\n            // 3. a paymentMethodsConfiguration object, if defined at top level\n            return new PaymentMethod(__assign(__assign(__assign({}, paymentMethodsDetails), options), paymentMethodsConfiguration));\n        }\n        /**\n         * Most common use case. Usual initial point of entry to this function.\n         * When PaymentMethod is defined as a string - retrieve a component from the componentsMap and recall this function passing in a valid class\n         */\n        if (typeof PaymentMethod === 'string' && paymentMethods[PaymentMethod]) {\n            return this.handleCreate(paymentMethods[PaymentMethod], options);\n        }\n        /**\n         * If we are trying to create a payment method that is in the paymentMethodsResponse & it doesn't require any details - treat it as a redirect\n         */\n        if (typeof PaymentMethod === 'string' &&\n            this.paymentMethodsResponse.has(PaymentMethod) &&\n            !this.paymentMethodsResponse.find(PaymentMethod).details) {\n            var paymentMethodsConfiguration = getComponentConfiguration(PaymentMethod, options.paymentMethodsConfiguration);\n            return this.handleCreate(paymentMethods.redirect, __assign(__assign(__assign({}, this.paymentMethodsResponse.find(PaymentMethod)), options), paymentMethodsConfiguration));\n        }\n        return this.handleCreateError(PaymentMethod);\n    };\n    /**\n     * @internal\n     */\n    Core.prototype.handleCreateError = function (paymentMethod) {\n        var paymentMethodName = paymentMethod && paymentMethod.name ? paymentMethod.name : 'The passed payment method';\n        var errorMessage = paymentMethod ? paymentMethodName + \" is not a valid Checkout Component\" : 'No Payment Method component was passed';\n        throw new Error(errorMessage);\n    };\n    Core.version = {\n        version: process.env.VERSION,\n        revision: process.env.COMMIT_HASH,\n        branch: process.env.COMMIT_BRANCH,\n        buildId: process.env.ADYEN_BUILD_ID\n    };\n    return Core;\n}());\nexport default Core;\n","/*eslint-disable */\nif (process.env.NODE_ENV === 'development') {\n    // Must use require here as import statements are only allowed\n    // to exist at the top of a file.\n    require('preact/debug');\n}\nimport './polyfills';\nimport Checkout from './core';\n/* eslint-enable */\nexport default Checkout;\n"],"sourceRoot":""}